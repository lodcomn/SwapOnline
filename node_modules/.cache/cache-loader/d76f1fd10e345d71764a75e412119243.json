{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\pages\\Invoices\\Invoice\\index.tsx","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\pages\\Invoices\\Invoice\\index.tsx","mtime":1614842914191},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI7CmltcG9ydCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSI7Cgp2YXIgX2RlYywgX2RlYzIsIF9jbGFzcywgX3RlbXA7CgppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICJAYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvciI7CgpmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfQoKZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH0KCmltcG9ydCB7IFB1cmVDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWRhY3Rpb24nOwppbXBvcnQgYWN0aW9ucyBmcm9tICdyZWR1eC9hY3Rpb25zJzsKaW1wb3J0IHsgd2l0aFJvdXRlciB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwppbXBvcnQgeyBsaW5rcywgY29uc3RhbnRzIH0gZnJvbSAnaGVscGVycyc7CmltcG9ydCB7IGluamVjdEludGwgfSBmcm9tICdyZWFjdC1pbnRsJzsKaW1wb3J0IHsgbG9jYWxpc2VkVXJsIH0gZnJvbSAnaGVscGVycy9sb2NhbGUnOwp2YXIgSW52b2ljZSA9IChfZGVjID0gY29ubmVjdChmdW5jdGlvbiAoX3JlZikgewogIHZhciBpc1NpZ25lZCA9IF9yZWYuc2lnblVwLmlzU2lnbmVkOwogIHJldHVybiB7CiAgICBpc1NpZ25lZDogaXNTaWduZWQKICB9Owp9KSwgX2RlYzIgPSBjb25uZWN0KGZ1bmN0aW9uIChfcmVmMikgewogIHZhciBfcmVmMiR1c2VyID0gX3JlZjIudXNlciwKICAgICAgYnRjRGF0YSA9IF9yZWYyJHVzZXIuYnRjRGF0YSwKICAgICAgZXRoRGF0YSA9IF9yZWYyJHVzZXIuZXRoRGF0YSwKICAgICAgZ2hvc3REYXRhID0gX3JlZjIkdXNlci5naG9zdERhdGEsCiAgICAgIG5leHREYXRhID0gX3JlZjIkdXNlci5uZXh0RGF0YTsKICByZXR1cm4gewogICAgZGF0YTogewogICAgICBidGM6IGJ0Y0RhdGEsCiAgICAgIGV0aDogZXRoRGF0YSwKICAgICAgZ2hvc3Q6IGdob3N0RGF0YSwKICAgICAgbmV4dDogbmV4dERhdGEKICAgIH0KICB9Owp9KSwgX2RlYyhfY2xhc3MgPSBfZGVjMihfY2xhc3MgPSBpbmplY3RJbnRsKF9jbGFzcyA9IHdpdGhSb3V0ZXIoX2NsYXNzID0gKF90ZW1wID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUHVyZUNvbXBvbmVudCkgewogIF9pbmhlcml0cyhJbnZvaWNlLCBfUHVyZUNvbXBvbmVudCk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoSW52b2ljZSk7CgogIGZ1bmN0aW9uIEludm9pY2UocHJvcHMpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW52b2ljZSk7CgogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiaGFuZGxlR29XYWxsZXRIb21lIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcywKICAgICAgICAgIGhpc3RvcnkgPSBfdGhpcyRwcm9wcy5oaXN0b3J5LAogICAgICAgICAgbG9jYWxlID0gX3RoaXMkcHJvcHMuaW50bC5sb2NhbGU7CiAgICAgIGhpc3RvcnkucHVzaChsb2NhbGlzZWRVcmwobG9jYWxlLCBsaW5rcy53YWxsZXQpKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImZldGNoSW52b2ljZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF90aGlzJHN0YXRlID0gX3RoaXMuc3RhdGUsCiAgICAgICAgICB1bmlxaGFzaCA9IF90aGlzJHN0YXRlLnVuaXFoYXNoLAogICAgICAgICAgaW5mb01vZGFsID0gX3RoaXMkc3RhdGUuaW5mb01vZGFsOwogICAgICB2YXIgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsCiAgICAgICAgICBoaXN0b3J5ID0gX3RoaXMkcHJvcHMyLmhpc3RvcnksCiAgICAgICAgICBsb2NhbGUgPSBfdGhpcyRwcm9wczIuaW50bC5sb2NhbGU7CgogICAgICBpZiAodW5pcWhhc2gpIHsKICAgICAgICBpbmZvTW9kYWwuc2V0U3RhdGUoewogICAgICAgICAgaXNGZXRjaGluZzogdHJ1ZSwKICAgICAgICAgIHVuaXFoYXNoOiB1bmlxaGFzaAogICAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGFjdGlvbnMuaW52b2ljZXMuZ2V0SW52b2ljZSh1bmlxaGFzaCkudGhlbihmdW5jdGlvbiAoaW52b2ljZSkgewogICAgICAgICAgICBpZiAoaW52b2ljZSkgewogICAgICAgICAgICAgIGluZm9Nb2RhbC5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICBpc0ZldGNoaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgIGludm9pY2U6IGludm9pY2UKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBoaXN0b3J5LnB1c2gobG9jYWxpc2VkVXJsKGxvY2FsZSwgbGlua3Mubm90Rm91bmQpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwoKICAgIHZhciBfcHJvcHMkbWF0Y2gkcGFyYW1zID0gcHJvcHMubWF0Y2gucGFyYW1zLAogICAgICAgIF9wcm9wcyRtYXRjaCRwYXJhbXMkdSA9IF9wcm9wcyRtYXRjaCRwYXJhbXMudW5pcWhhc2gsCiAgICAgICAgX3VuaXFoYXNoID0gX3Byb3BzJG1hdGNoJHBhcmFtcyR1ID09PSB2b2lkIDAgPyBudWxsIDogX3Byb3BzJG1hdGNoJHBhcmFtcyR1LAogICAgICAgIF9wcm9wcyRtYXRjaCRwYXJhbXMkZCA9IF9wcm9wcyRtYXRjaCRwYXJhbXMuZG9zaGFyZSwKICAgICAgICBkb3NoYXJlID0gX3Byb3BzJG1hdGNoJHBhcmFtcyRkID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRtYXRjaCRwYXJhbXMkZDsKCiAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgdW5pcWhhc2g6IF91bmlxaGFzaCwKICAgICAgaW52b2ljZTogbnVsbCwKICAgICAgaXNGZXRjaGluZzogdHJ1ZSwKICAgICAgZG9zaGFyZTogZG9zaGFyZQogICAgfTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhJbnZvaWNlLCBbewogICAga2V5OiAiY29tcG9uZW50RGlkTW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9jb21wb25lbnREaWRNb3VudCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIHZhciBfdGhpcyRzdGF0ZTIsIHVuaXFoYXNoLCBkb3NoYXJlLCBfdGhpcyRwcm9wczMsIGhpc3RvcnksIGxvY2FsZTsKCiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzJHN0YXRlMiA9IHRoaXMuc3RhdGUsIHVuaXFoYXNoID0gX3RoaXMkc3RhdGUyLnVuaXFoYXNoLCBkb3NoYXJlID0gX3RoaXMkc3RhdGUyLmRvc2hhcmU7CiAgICAgICAgICAgICAgICBfdGhpcyRwcm9wczMgPSB0aGlzLnByb3BzLCBoaXN0b3J5ID0gX3RoaXMkcHJvcHMzLmhpc3RvcnksIGxvY2FsZSA9IF90aGlzJHByb3BzMy5pbnRsLmxvY2FsZTsKICAgICAgICAgICAgICAgIGFjdGlvbnMubW9kYWxzLm9wZW4oY29uc3RhbnRzLm1vZGFscy5JbmZvSW52b2ljZSwgewogICAgICAgICAgICAgICAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKGlzTG9jYXRpb25DaGFuZ2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTG9jYXRpb25DaGFuZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaChsb2NhbGlzZWRVcmwobG9jYWxlLCBsaW5rcy5pbnZvaWNlcykpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgaXNGZXRjaGluZzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgdW5pcWhhc2g6IHVuaXFoYXNoLAogICAgICAgICAgICAgICAgICBkb3NoYXJlOiBkb3NoYXJlLAogICAgICAgICAgICAgICAgICBvbkZldGNoaW5nOiBmdW5jdGlvbiBvbkZldGNoaW5nKGluZm9Nb2RhbCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICAgICAgICBpbmZvTW9kYWw6IGluZm9Nb2RhbAogICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5mZXRjaEludm9pY2UoKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHsKICAgICAgICByZXR1cm4gX2NvbXBvbmVudERpZE1vdW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBjb21wb25lbnREaWRNb3VudDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImNvbXBvbmVudERpZFVwZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBfdGhpcyRwcm9wcyRtYXRjaCRwYXIgPSB0aGlzLnByb3BzLm1hdGNoLnBhcmFtcywKICAgICAgICAgIF90aGlzJHByb3BzJG1hdGNoJHBhcjIgPSBfdGhpcyRwcm9wcyRtYXRjaCRwYXIudW5pcWhhc2gsCiAgICAgICAgICB1bmlxaGFzaCA9IF90aGlzJHByb3BzJG1hdGNoJHBhcjIgPT09IHZvaWQgMCA/IG51bGwgOiBfdGhpcyRwcm9wcyRtYXRjaCRwYXIyLAogICAgICAgICAgX3RoaXMkcHJvcHMkbWF0Y2gkcGFyMyA9IF90aGlzJHByb3BzJG1hdGNoJHBhci5kb3NoYXJlLAogICAgICAgICAgZG9zaGFyZSA9IF90aGlzJHByb3BzJG1hdGNoJHBhcjMgPT09IHZvaWQgMCA/IGZhbHNlIDogX3RoaXMkcHJvcHMkbWF0Y2gkcGFyMzsKICAgICAgdmFyIF9wcmV2UHJvcHMkbWF0Y2gkcGFyYSA9IHByZXZQcm9wcy5tYXRjaC5wYXJhbXMsCiAgICAgICAgICBfcHJldlByb3BzJG1hdGNoJHBhcmEyID0gX3ByZXZQcm9wcyRtYXRjaCRwYXJhLnVuaXFoYXNoLAogICAgICAgICAgcHJldlVuaXFoYXNoID0gX3ByZXZQcm9wcyRtYXRjaCRwYXJhMiA9PT0gdm9pZCAwID8gbnVsbCA6IF9wcmV2UHJvcHMkbWF0Y2gkcGFyYTIsCiAgICAgICAgICBfcHJldlByb3BzJG1hdGNoJHBhcmEzID0gX3ByZXZQcm9wcyRtYXRjaCRwYXJhLmRvc2hhcmUsCiAgICAgICAgICBwcmV2RG9zaGFyZSA9IF9wcmV2UHJvcHMkbWF0Y2gkcGFyYTMgPT09IHZvaWQgMCA/IGZhbHNlIDogX3ByZXZQcm9wcyRtYXRjaCRwYXJhMzsKCiAgICAgIGlmIChwcmV2VW5pcWhhc2ggIT09IHVuaXFoYXNoIHx8IHByZXZEb3NoYXJlICE9PSBkb3NoYXJlKSB7CiAgICAgICAgdmFyIGluZm9Nb2RhbCA9IHRoaXMuc3RhdGUuaW5mb01vZGFsOwogICAgICAgIHRoaXMuc2V0U3RhdGUoewogICAgICAgICAgdW5pcWhhc2g6IHVuaXFoYXNoLAogICAgICAgICAgZG9zaGFyZTogZG9zaGFyZQogICAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGluZm9Nb2RhbC5zZXRTdGF0ZShwcmV2VW5pcWhhc2ggIT09IHVuaXFoYXNoID8gewogICAgICAgICAgICBpbnZvaWNlOiBmYWxzZSwKICAgICAgICAgICAgdW5pcWhhc2g6IHVuaXFoYXNoLAogICAgICAgICAgICBpc0ZldGNoaW5nOiB0cnVlLAogICAgICAgICAgICBkb3NoYXJlOiBkb3NoYXJlLAogICAgICAgICAgICBpc1NoYXJlUmVhZHk6ICFkb3NoYXJlCiAgICAgICAgICB9IDogewogICAgICAgICAgICBkb3NoYXJlOiBkb3NoYXJlLAogICAgICAgICAgICBpc1NoYXJlUmVhZHk6ICFkb3NoYXJlCiAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMy5mZXRjaEludm9pY2UoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEludm9pY2U7Cn0oUHVyZUNvbXBvbmVudCksIF90ZW1wKSkgfHwgX2NsYXNzKSB8fCBfY2xhc3MpIHx8IF9jbGFzcykgfHwgX2NsYXNzKTsKZXhwb3J0IHsgSW52b2ljZSBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/front/shared/pages/Invoices/Invoice/index.tsx"],"names":["PureComponent","connect","actions","withRouter","links","constants","injectIntl","localisedUrl","Invoice","isSigned","signUp","user","btcData","ethData","ghostData","nextData","data","btc","eth","ghost","next","props","history","locale","intl","push","wallet","state","uniqhash","infoModal","setState","isFetching","invoices","getInvoice","then","invoice","notFound","match","params","doshare","modals","open","InfoInvoice","onClose","isLocationChange","onFetching","fetchInvoice","prevProps","prevUniqhash","prevDoshare","isShareReady"],"mappings":"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","sourcesContent":["import { PureComponent } from 'react'\r\nimport { connect } from 'redaction'\r\nimport actions from 'redux/actions'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { links, constants } from 'helpers'\r\nimport { injectIntl } from 'react-intl'\r\nimport { localisedUrl } from 'helpers/locale'\r\n\r\ntype InvoceProps = {\r\n  data: IUniversalObj\r\n  history: IUniversalObj\r\n  intl: IUniversalObj\r\n  match: IUniversalObj\r\n  isSigned: boolean\r\n}\r\n\r\ntype InvoceState = {\r\n  doshare: boolean\r\n  isFetching: boolean\r\n  uniqhash: string\r\n  invoice: IUniversalObj | null\r\n  infoModal?: React.ClassicComponent\r\n}\r\n\r\n@connect(({ signUp: { isSigned } }) => ({\r\n  isSigned,\r\n}))\r\n\r\n@connect(({\r\n  user: {\r\n    btcData,\r\n    ethData,\r\n    ghostData,\r\n    nextData,\r\n  },\r\n}) => {\r\n  return {\r\n    data: {\r\n      btc: btcData,\r\n      eth: ethData,\r\n      ghost: ghostData,\r\n      next: nextData,\r\n    }\r\n  }\r\n})\r\n@injectIntl\r\n@withRouter\r\nexport default class Invoice extends PureComponent<InvoceProps, InvoceState> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      match: {\r\n        params: {\r\n          uniqhash = null,\r\n          doshare = false,\r\n        },\r\n      },\r\n    } = props\r\n\r\n    this.state = {\r\n      uniqhash,\r\n      invoice: null,\r\n      isFetching: true,\r\n      doshare,\r\n    }\r\n  }\r\n\r\n  handleGoWalletHome = () => {\r\n    const { history, intl: { locale } } = this.props\r\n\r\n    history.push(localisedUrl(locale, links.wallet))\r\n  }\r\n\r\n  fetchInvoice = () => {\r\n    const { uniqhash, infoModal } = this.state\r\n    const { history, intl: { locale } } = this.props\r\n\r\n    if(uniqhash) {\r\n      infoModal.setState({\r\n        isFetching: true,\r\n        uniqhash,\r\n      }, () => {\r\n        actions.invoices.getInvoice(\r\n          uniqhash\r\n        ).then((invoice) => {\r\n          if (invoice) {\r\n            infoModal.setState({\r\n              isFetching: false,\r\n              invoice,\r\n            })\r\n          } else {\r\n            history.push(localisedUrl(locale, links.notFound))\r\n          }\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const {\r\n      uniqhash,\r\n      doshare,\r\n    } = this.state\r\n\r\n    const { history, intl: { locale } } = this.props\r\n\r\n    actions.modals.open(constants.modals.InfoInvoice, {\r\n      onClose: (isLocationChange) => {\r\n        if (!isLocationChange) {\r\n          history.push(localisedUrl(locale, links.invoices))\r\n        }\r\n      },\r\n      isFetching: true,\r\n      uniqhash,\r\n      doshare,\r\n      onFetching: (infoModal) => {\r\n        this.setState({\r\n          infoModal,\r\n        }, () => {\r\n          this.fetchInvoice()\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    let {\r\n      match: {\r\n        params: {\r\n          uniqhash = null,\r\n          doshare = false,\r\n        },\r\n      },\r\n    } = this.props\r\n\r\n    let {\r\n      match: {\r\n        params: {\r\n          uniqhash: prevUniqhash = null,\r\n          doshare: prevDoshare = false,\r\n        },\r\n      },\r\n    } = prevProps\r\n\r\n    if ((prevUniqhash !== uniqhash)\r\n      || (prevDoshare !== doshare)\r\n    ) {\r\n      const { infoModal } = this.state\r\n\r\n      this.setState({\r\n        uniqhash,\r\n        doshare,\r\n      }, () => {\r\n        infoModal.setState((prevUniqhash !== uniqhash) ? {\r\n          invoice: false,\r\n          uniqhash,\r\n          isFetching: true,\r\n          doshare,\r\n          isShareReady: !(doshare),\r\n        } : {\r\n          doshare,\r\n          isShareReady: !(doshare),\r\n        } , () => {\r\n          this.fetchInvoice()\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return null\r\n  }\r\n}\r\n"]}]}