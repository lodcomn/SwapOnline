{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\helpers\\getItezUrl.ts","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\helpers\\getItezUrl.ts","mtime":1614842914107},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IHZhciBnZXRJdGV6VXJsID0gZnVuY3Rpb24gZ2V0SXRlelVybChfcmVmKSB7CiAgdmFyIHVzZXIgPSBfcmVmLnVzZXIsCiAgICAgIGxvY2FsZSA9IF9yZWYubG9jYWxlLAogICAgICB1cmwgPSBfcmVmLnVybDsKICBpZiAoIXVzZXIgJiYgIWxvY2FsZSkgcmV0dXJuIHVybDsKICB2YXIgYWN0aXZlRmlhdCA9IHVzZXIuYWN0aXZlRmlhdCwKICAgICAgYnRjTW5lbW9uaWNEYXRhID0gdXNlci5idGNNbmVtb25pY0RhdGEsCiAgICAgIGJ0Y011bHRpc2lnRzJGQURhdGEgPSB1c2VyLmJ0Y011bHRpc2lnRzJGQURhdGEsCiAgICAgIGJ0Y011bHRpc2lnU01TRGF0YSA9IHVzZXIuYnRjTXVsdGlzaWdTTVNEYXRhLAogICAgICBidGNNdWx0aXNpZ1BpbkRhdGEgPSB1c2VyLmJ0Y011bHRpc2lnUGluRGF0YSwKICAgICAgYnRjTXVsdGlzaWdVc2VyRGF0YSA9IHVzZXIuYnRjTXVsdGlzaWdVc2VyRGF0YSwKICAgICAgYnRjRGF0YSA9IHVzZXIuYnRjRGF0YTsKICB2YXIgZ2V0QWN0dWFsbHlGaWF0QWRkcmVzcyA9IFtidGNNbmVtb25pY0RhdGEsIGJ0Y011bHRpc2lnRzJGQURhdGEsIGJ0Y011bHRpc2lnU01TRGF0YSwgYnRjTXVsdGlzaWdVc2VyRGF0YSwgYnRjRGF0YV0uZmluZChmdW5jdGlvbiAoZGF0YSkgewogICAgcmV0dXJuIGRhdGEgJiYgZGF0YS5iYWxhbmNlID4gMDsKICB9KTsKICB2YXIgaGlkZGVuQ29pbnNMaXN0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaGlkZGVuQ29pbnNMaXN0JykpIHx8IFtdOwogIC8qDQogIGlmICghZ2V0QWN0dWFsbHlGaWF0QWRkcmVzcyAmJiAhaGlkZGVuQ29pbnNMaXN0LmluY2x1ZGVzKCdCVEMgKFNNUy1Qcm90ZWN0ZWQpJykpIGdldEFjdHVhbGx5RmlhdEFkZHJlc3MgPSBidGNNdWx0aXNpZ1NNU0RhdGENCiAgaWYgKCFnZXRBY3R1YWxseUZpYXRBZGRyZXNzICYmICFoaWRkZW5Db2luc0xpc3QuaW5jbHVkZXMoJ0JUQyAoUElOLVByb3RlY3RlZCknKSkgZ2V0QWN0dWFsbHlGaWF0QWRkcmVzcyA9IGJ0Y011bHRpc2lnUGluRGF0YQ0KICBpZiAoIWdldEFjdHVhbGx5RmlhdEFkZHJlc3MgJiYgIWhpZGRlbkNvaW5zTGlzdC5pbmNsdWRlcygnQlRDIChNdWx0aXNpZyknKSkgZ2V0QWN0dWFsbHlGaWF0QWRkcmVzcyA9IGJ0Y011bHRpc2lnVXNlckRhdGENCiAgICBpZiAoIWdldEFjdHVhbGx5RmlhdEFkZHJlc3MpIHsNCiAgICBnZXRBY3R1YWxseUZpYXRBZGRyZXNzID0gYnRjRGF0YQ0KICB9DQogICovCgogIGdldEFjdHVhbGx5RmlhdEFkZHJlc3MgPSBidGNEYXRhOwogIHZhciBzaGllbGRpbmfQoW9taW5nRmlhdCA9IC8lN0JERUZBVUxUX0ZJQVQlN0QvZ2k7CiAgdmFyIHNoaWVsZGluZ9Chb21pbmdMb2NhbGUgPSAvJTdCbG9jYWxlJTdEL2dpOwogIHZhciBzaGllbGRpbmfQoW9taW5nQWRkcmVzcyA9IC8lN0JidGNhZGRyZXNzJTdEL2dpOwogIHZhciBjb21pbmdGaWF0ID0gL3tERUZBVUxUX0ZJQVR9L2dpOwogIHZhciBjb21pbmdMb2NhbGUgPSAve2xvY2FsZX0vZ2k7CiAgdmFyIGNvbWluZ0FkZHJlc3MgPSAve2J0Y2FkZHJlc3N9L2dpOwogIHZhciByZXR1cm5lZCA9IHVybDsKCiAgaWYgKHVybC5pbmNsdWRlcygnYnRjYWRkcmVzcycpKSB7CiAgICByZXR1cm5lZCA9IHJldHVybmVkLnJlcGxhY2UoY29taW5nQWRkcmVzcywgZ2V0QWN0dWFsbHlGaWF0QWRkcmVzcy5hZGRyZXNzKTsKICAgIHJldHVybmVkID0gcmV0dXJuZWQucmVwbGFjZShzaGllbGRpbmfQoW9taW5nQWRkcmVzcywgZ2V0QWN0dWFsbHlGaWF0QWRkcmVzcy5hZGRyZXNzKTsKICB9CgogIGlmICh1cmwuaW5jbHVkZXMoJ0RFRkFVTFRfRklBVCcpKSB7CiAgICByZXR1cm5lZCA9IHJldHVybmVkLnJlcGxhY2UoY29taW5nRmlhdCwgYWN0aXZlRmlhdCk7CiAgICByZXR1cm5lZCA9IHJldHVybmVkLnJlcGxhY2Uoc2hpZWxkaW5n0KFvbWluZ0ZpYXQsIGFjdGl2ZUZpYXQpOwogIH0KCiAgaWYgKHVybC5pbmNsdWRlcygnbG9jYWxlJykpIHsKICAgIHJldHVybmVkID0gcmV0dXJuZWQucmVwbGFjZShjb21pbmdMb2NhbGUsIGxvY2FsZSk7CiAgICByZXR1cm5lZCA9IHJldHVybmVkLnJlcGxhY2Uoc2hpZWxkaW5n0KFvbWluZ0xvY2FsZSwgbG9jYWxlKTsKICB9CgogIHJldHVybiByZXR1cm5lZDsKfTs="},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/front/shared/helpers/getItezUrl.ts"],"names":["getItezUrl","user","locale","url","activeFiat","btcMnemonicData","btcMultisigG2FAData","btcMultisigSMSData","btcMultisigPinData","btcMultisigUserData","btcData","getActuallyFiatAddress","find","data","balance","hiddenCoinsList","JSON","parse","localStorage","getItem","shieldingСomingFiat","shieldingСomingLocale","shieldingСomingAddress","comingFiat","comingLocale","comingAddress","returned","includes","replace","address"],"mappings":"AACA,OAAO,IAAMA,UAAU,GAAG,SAAbA,UAAa,OAA2B;AAAA,MAAxBC,IAAwB,QAAxBA,IAAwB;AAAA,MAAlBC,MAAkB,QAAlBA,MAAkB;AAAA,MAAVC,GAAU,QAAVA,GAAU;AACnD,MAAI,CAACF,IAAD,IAAS,CAACC,MAAd,EAAsB,OAAOC,GAAP;AAD6B,MAG3CC,UAH2C,GAGgFH,IAHhF,CAG3CG,UAH2C;AAAA,MAG/BC,eAH+B,GAGgFJ,IAHhF,CAG/BI,eAH+B;AAAA,MAGdC,mBAHc,GAGgFL,IAHhF,CAGdK,mBAHc;AAAA,MAGOC,kBAHP,GAGgFN,IAHhF,CAGOM,kBAHP;AAAA,MAG2BC,kBAH3B,GAGgFP,IAHhF,CAG2BO,kBAH3B;AAAA,MAG+CC,mBAH/C,GAGgFR,IAHhF,CAG+CQ,mBAH/C;AAAA,MAGoEC,OAHpE,GAGgFT,IAHhF,CAGoES,OAHpE;AAKnD,MAAIC,sBAAsB,GAAG,CAACN,eAAD,EAAkBC,mBAAlB,EAAuCC,kBAAvC,EAA2DE,mBAA3D,EAAgFC,OAAhF,EAAyFE,IAAzF,CAA8F,UAACC,IAAD;AAAA,WAAUA,IAAI,IAAIA,IAAI,CAACC,OAAL,GAAe,CAAjC;AAAA,GAA9F,CAA7B;AAEA,MAAMC,eAAe,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAX,KAAuD,EAA/E;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEER,EAAAA,sBAAsB,GAAGD,OAAzB;AAEA,MAAMU,mBAAmB,GAAG,sBAA5B;AACA,MAAMC,qBAAqB,GAAG,gBAA9B;AACA,MAAMC,sBAAsB,GAAG,oBAA/B;AAEA,MAAMC,UAAU,GAAG,kBAAnB;AACA,MAAMC,YAAY,GAAG,YAArB;AACA,MAAMC,aAAa,GAAG,gBAAtB;AAEA,MAAIC,QAAQ,GAAGvB,GAAf;;AAEA,MAAIA,GAAG,CAACwB,QAAJ,CAAa,YAAb,CAAJ,EAAgC;AAC9BD,IAAAA,QAAQ,GAAGA,QAAQ,CAACE,OAAT,CAAiBH,aAAjB,EAAgCd,sBAAsB,CAACkB,OAAvD,CAAX;AACAH,IAAAA,QAAQ,GAAGA,QAAQ,CAACE,OAAT,CAAiBN,sBAAjB,EAAyCX,sBAAsB,CAACkB,OAAhE,CAAX;AACD;;AACD,MAAI1B,GAAG,CAACwB,QAAJ,CAAa,cAAb,CAAJ,EAAkC;AAChCD,IAAAA,QAAQ,GAAGA,QAAQ,CAACE,OAAT,CAAiBL,UAAjB,EAA6BnB,UAA7B,CAAX;AACAsB,IAAAA,QAAQ,GAAGA,QAAQ,CAACE,OAAT,CAAiBR,mBAAjB,EAAsChB,UAAtC,CAAX;AACD;;AAED,MAAID,GAAG,CAACwB,QAAJ,CAAa,QAAb,CAAJ,EAA4B;AAC1BD,IAAAA,QAAQ,GAAGA,QAAQ,CAACE,OAAT,CAAiBJ,YAAjB,EAA+BtB,MAA/B,CAAX;AACAwB,IAAAA,QAAQ,GAAGA,QAAQ,CAACE,OAAT,CAAiBP,qBAAjB,EAAwCnB,MAAxC,CAAX;AACD;;AAED,SAAOwB,QAAP;AACD,CA7CM","sourcesContent":["\r\nexport const getItezUrl = ({ user, locale, url }) => {\r\n  if (!user && !locale) return url\r\n\r\n  const { activeFiat, btcMnemonicData, btcMultisigG2FAData, btcMultisigSMSData, btcMultisigPinData, btcMultisigUserData, btcData } = user\r\n\r\n  let getActuallyFiatAddress = [btcMnemonicData, btcMultisigG2FAData, btcMultisigSMSData, btcMultisigUserData, btcData].find((data) => data && data.balance > 0)\r\n\r\n  const hiddenCoinsList = JSON.parse(localStorage.getItem('hiddenCoinsList')) || []\r\n\r\n  /*\r\n  if (!getActuallyFiatAddress && !hiddenCoinsList.includes('BTC (SMS-Protected)')) getActuallyFiatAddress = btcMultisigSMSData\r\n  if (!getActuallyFiatAddress && !hiddenCoinsList.includes('BTC (PIN-Protected)')) getActuallyFiatAddress = btcMultisigPinData\r\n  if (!getActuallyFiatAddress && !hiddenCoinsList.includes('BTC (Multisig)')) getActuallyFiatAddress = btcMultisigUserData\r\n\r\n  if (!getActuallyFiatAddress) {\r\n    getActuallyFiatAddress = btcData\r\n  }\r\n  */\r\n  getActuallyFiatAddress = btcData\r\n\r\n  const shieldingСomingFiat = /%7BDEFAULT_FIAT%7D/gi\r\n  const shieldingСomingLocale = /%7Blocale%7D/gi\r\n  const shieldingСomingAddress = /%7Bbtcaddress%7D/gi\r\n\r\n  const comingFiat = /{DEFAULT_FIAT}/gi\r\n  const comingLocale = /{locale}/gi\r\n  const comingAddress = /{btcaddress}/gi\r\n\r\n  let returned = url\r\n\r\n  if (url.includes('btcaddress')) {\r\n    returned = returned.replace(comingAddress, getActuallyFiatAddress.address)\r\n    returned = returned.replace(shieldingСomingAddress, getActuallyFiatAddress.address)\r\n  }\r\n  if (url.includes('DEFAULT_FIAT')) {\r\n    returned = returned.replace(comingFiat, activeFiat)\r\n    returned = returned.replace(shieldingСomingFiat, activeFiat)\r\n  }\r\n\r\n  if (url.includes('locale')) {\r\n    returned = returned.replace(comingLocale, locale)\r\n    returned = returned.replace(shieldingСomingLocale, locale)\r\n  }\r\n\r\n  return returned\r\n}\r\n"]}]}