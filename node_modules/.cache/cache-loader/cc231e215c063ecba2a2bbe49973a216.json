{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\core\\swap.flows\\ETHTOKEN2BTC.ts","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\core\\swap.flows\\ETHTOKEN2BTC.ts","mtime":1614842913757},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI7CmltcG9ydCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0IjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IiOwoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KCmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CgppbXBvcnQgZGVidWcgZnJvbSAnZGVidWcnOwppbXBvcnQgeyBjb25zdGFudHMgfSBmcm9tICdzd2FwLmFwcCc7CmltcG9ydCB7IEF0b21pY0FCMlVUWE8gfSBmcm9tICdzd2FwLnN3YXAnOwpleHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKHRva2VuTmFtZSkgewogIHZhciBFVEhUT0tFTjJCVEMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9BdG9taWNBQjJVVFhPKSB7CiAgICBfaW5oZXJpdHMoRVRIVE9LRU4yQlRDLCBfQXRvbWljQUIyVVRYTyk7CgogICAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihFVEhUT0tFTjJCVEMpOwoKICAgIGZ1bmN0aW9uIEVUSFRPS0VOMkJUQyhzd2FwKSB7CiAgICAgIHZhciBfdGhpc1N1cGVyLCBfdGhpczsKCiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFVEhUT0tFTjJCVEMpOwoKICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzd2FwKTsKCiAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIl9mbG93TmFtZSIsIHZvaWQgMCk7CgogICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJldGhUb2tlblN3YXAiLCB2b2lkIDApOwoKICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiYnRjU3dhcCIsIHZvaWQgMCk7CgogICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJzdGF0ZSIsIHZvaWQgMCk7CgogICAgICBfdGhpcy51dHhvQ29pbiA9ICJidGMiOwogICAgICBfdGhpcy5fZmxvd05hbWUgPSBFVEhUT0tFTjJCVEMuZ2V0TmFtZSgpOwogICAgICBfdGhpcy5zdGVwTnVtYmVycyA9IHsKICAgICAgICAnc2lnbic6IDEsCiAgICAgICAgJ3dhaXQtbG9jay11dHhvJzogMiwKICAgICAgICAndmVyaWZ5LXNjcmlwdCc6IDMsCiAgICAgICAgJ3N5bmMtYmFsYW5jZSc6IDQsCiAgICAgICAgJ2xvY2stZXRoJzogNSwKICAgICAgICAnd2FpdC13aXRoZHJhdy1ldGgnOiA2LAogICAgICAgIC8vIGFrYSBnZXRTZWNyZXQKICAgICAgICAnd2l0aGRyYXctdXR4byc6IDcsCiAgICAgICAgJ2ZpbmlzaCc6IDgsCiAgICAgICAgJ2VuZCc6IDkKICAgICAgfTsKICAgICAgX3RoaXMuZXRoVG9rZW5Td2FwID0gc3dhcC5wYXJ0aWNpcGFudFN3YXA7CiAgICAgIF90aGlzLmJ0Y1N3YXAgPSBzd2FwLm93bmVyU3dhcDsKICAgICAgX3RoaXMuYWJCbG9ja2NoYWluID0gX3RoaXMuZXRoVG9rZW5Td2FwOwogICAgICBfdGhpcy51dHhvQmxvY2tjaGFpbiA9IF90aGlzLmJ0Y1N3YXA7CgogICAgICBpZiAoIV90aGlzLmV0aFRva2VuU3dhcCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcignRVRIVE9LRU4yQlRDOiAiZXRoVG9rZW5Td2FwIiBvZiB0eXBlIG9iamVjdCByZXF1aXJlZCcpOwogICAgICB9CgogICAgICBpZiAoIV90aGlzLmJ0Y1N3YXApIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VUSFRPS0VOMkJUQzogImJ0Y1N3YXAiIG9mIHR5cGUgb2JqZWN0IHJlcXVpcmVkJyk7CiAgICAgIH0KCiAgICAgIF90aGlzLnN0YXRlID0gewogICAgICAgIHN0ZXA6IDAsCiAgICAgICAgaXNTdG9wcGVkU3dhcDogZmFsc2UsCiAgICAgICAgc2lnblRyYW5zYWN0aW9uSGFzaDogbnVsbCwKICAgICAgICBpc1NpZ25GZXRjaGluZzogZmFsc2UsCiAgICAgICAgaXNNZVNpZ25lZDogZmFsc2UsCiAgICAgICAgdGFyZ2V0V2FsbGV0OiBudWxsLAogICAgICAgIHNlY3JldEhhc2g6IG51bGwsCiAgICAgICAgaXNCYWxhbmNlRmV0Y2hpbmc6IGZhbHNlLAogICAgICAgIGlzQmFsYW5jZUVub3VnaDogdHJ1ZSwKICAgICAgICBiYWxhbmNlOiBudWxsLAogICAgICAgIGV0aFN3YXBDcmVhdGlvblRyYW5zYWN0aW9uSGFzaDogbnVsbCwKICAgICAgICBjYW5DcmVhdGVFdGhUcmFuc2FjdGlvbjogdHJ1ZSwKICAgICAgICBpc0V0aENvbnRyYWN0RnVuZGVkOiBmYWxzZSwKICAgICAgICBzZWNyZXQ6IG51bGwsCiAgICAgICAgaXNFdGhXaXRoZHJhd246IGZhbHNlLAogICAgICAgIGlzYnRjV2l0aGRyYXduOiBmYWxzZSwKICAgICAgICBldGhTd2FwV2l0aGRyYXdUcmFuc2FjdGlvbkhhc2g6IG51bGwsCiAgICAgICAgYnRjU3dhcFdpdGhkcmF3VHJhbnNhY3Rpb25IYXNoOiBudWxsLAogICAgICAgIHJlZnVuZFRyYW5zYWN0aW9uSGFzaDogbnVsbCwKICAgICAgICBpc1JlZnVuZGVkOiBmYWxzZSwKICAgICAgICBpc0ZpbmlzaGVkOiBmYWxzZSwKICAgICAgICBpc1N3YXBFeGlzdDogZmFsc2UsCiAgICAgICAgd2l0aGRyYXdSZXF1ZXN0SW5jb21pbmc6IGZhbHNlLAogICAgICAgIHdpdGhkcmF3UmVxdWVzdEFjY2VwdGVkOiBmYWxzZSwKICAgICAgICBpc0ZhaWxlZFRyYW5zYWN0aW9uOiBmYWxzZSwKICAgICAgICBpc0ZhaWxlZFRyYW5zYWN0aW9uRXJyb3I6IG51bGwsCiAgICAgICAgZ2FzQW1vdW50TmVlZGVkOiAwCiAgICAgIH07CgogICAgICBfdGhpcy5fcGVyc2lzdFN0YXRlKCk7CgogICAgICB2YXIgZmxvdyA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpOwoKICAgICAgZmxvdy5zd2FwLnJvb20ub25jZSgncmVxdWVzdCB3aXRoZHJhdycsIGZ1bmN0aW9uICgpIHsKICAgICAgICBmbG93LnNldFN0YXRlKHsKICAgICAgICAgIHdpdGhkcmF3UmVxdWVzdEluY29taW5nOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0pOwoKICAgICAgX2dldCgoX3RoaXNTdXBlciA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfZ2V0UHJvdG90eXBlT2YoRVRIVE9LRU4yQlRDLnByb3RvdHlwZSkpLCAiX3BlcnNpc3RTdGVwcyIsIF90aGlzU3VwZXIpLmNhbGwoX3RoaXNTdXBlcik7CgogICAgICByZXR1cm4gX3RoaXM7CiAgICB9CgogICAgX2NyZWF0ZUNsYXNzKEVUSFRPS0VOMkJUQywgW3sKICAgICAga2V5OiAiX3BlcnNpc3RTdGF0ZSIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcGVyc2lzdFN0YXRlKCkgewogICAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKEVUSFRPS0VOMkJUQy5wcm90b3R5cGUpLCAiX3BlcnNpc3RTdGF0ZSIsIHRoaXMpLmNhbGwodGhpcyk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiX2dldFN0ZXBzIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRTdGVwcygpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgdmFyIGZsb3cgPSB0aGlzOwogICAgICAgIHJldHVybiBbLy8gMS4gU2lnbiBzd2FwIHRvIHN0YXJ0CiAgICAgICAgZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLnNpZ25BQlNpZGUoKTsKICAgICAgICB9LCAvLyAyLiBXYWl0IHBhcnRpY2lwYW50IGNyZWF0ZSwgZnVuZCBCVEMgU2NyaXB0CiAgICAgICAgZnVuY3Rpb24gKCkgewogICAgICAgICAgZmxvdy53YWl0VVRYT1NjcmlwdENyZWF0ZWQoKTsKICAgICAgICB9LCAvLyAzLiBWZXJpZnkgQlRDIFNjcmlwdAogICAgICAgIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRlYnVnKCdzd2FwLmNvcmU6ZmxvdycpKCJ3YWl0aW5nIHZlcmlmeSBidGMgc2NyaXB0Iik7CiAgICAgICAgfSwgLy8gNC4gQ2hlY2sgYmFsYW5jZQogICAgICAgIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5zeW5jQmFsYW5jZSgpOwogICAgICAgIH0sCiAgICAgICAgLyojX19QVVJFX18qLwogICAgICAgIC8vIDUuIENyZWF0ZSBFVEggQ29udHJhY3QKICAgICAgICBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgICAgdmFyIHNjcmlwdEZ1bmRlZDsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLndhaXRVVFhPU2NyaXB0RnVuZGVkKCk7CgogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICBzY3JpcHRGdW5kZWQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgICAgaWYgKCFzY3JpcHRGdW5kZWQpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIHJldHVybiBmbG93LmV0aFRva2VuU3dhcC5mdW5kRVJDMjBDb250cmFjdCh7CiAgICAgICAgICAgICAgICAgICAgZmxvdzogZmxvdwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpLAogICAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgICAvLyA2LiBXYWl0IHBhcnRpY2lwYW50IHdpdGhkcmF3CiAgICAgICAgX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICByZXR1cm4gZmxvdy5ldGhUb2tlblN3YXAuZ2V0U2VjcmV0RnJvbUFCMlVUWE8oewogICAgICAgICAgICAgICAgICAgIGZsb3c6IGZsb3cKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgfSkpLAogICAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgICAvLyA3LiBXaXRoZHJhdwogICAgICAgIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5idGNTd2FwLndpdGhkcmF3RnJvbVN3YXAoewogICAgICAgICAgICAgICAgICAgIGZsb3c6IGZsb3cKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgICAgfSkpLCAvLyA4LiBGaW5pc2gKICAgICAgICBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBmbG93LnN3YXAucm9vbS5vbmNlKCdyZXF1ZXN0IHN3YXAgZmluaXNoZWQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBidGNTd2FwV2l0aGRyYXdUcmFuc2FjdGlvbkhhc2ggPSBmbG93LnN0YXRlLmJ0Y1N3YXBXaXRoZHJhd1RyYW5zYWN0aW9uSGFzaDsKICAgICAgICAgICAgZmxvdy5zd2FwLnJvb20uc2VuZE1lc3NhZ2UoewogICAgICAgICAgICAgIGV2ZW50OiAnc3dhcCBmaW5pc2hlZCcsCiAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgYnRjU3dhcFdpdGhkcmF3VHJhbnNhY3Rpb25IYXNoOiBidGNTd2FwV2l0aGRyYXdUcmFuc2FjdGlvbkhhc2gKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgICBmbG93LmZpbmlzaFN0ZXAoewogICAgICAgICAgICBpc0ZpbmlzaGVkOiB0cnVlCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHN0ZXA6ICdmaW5pc2gnCiAgICAgICAgICB9KTsKICAgICAgICB9LCAvLyA5LiBGaW5pc2hlZCEKICAgICAgICBmdW5jdGlvbiAoKSB7fV07CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiX2NoZWNrU3dhcEFscmVhZHlFeGlzdHMiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gX2NoZWNrU3dhcEFscmVhZHlFeGlzdHMoKSB7CiAgICAgICAgdmFyIHN3YXBEYXRhID0gewogICAgICAgICAgb3duZXJBZGRyZXNzOiB0aGlzLmFwcC5nZXRNeUV0aEFkZHJlc3MoKSwKICAgICAgICAgIHBhcnRpY2lwYW50QWRkcmVzczogdGhpcy5hcHAuZ2V0UGFydGljaXBhbnRFdGhBZGRyZXNzKHRoaXMuc3dhcCkKICAgICAgICB9OwogICAgICAgIHJldHVybiB0aGlzLmV0aFRva2VuU3dhcC5jaGVja1N3YXBFeGlzdHMoc3dhcERhdGEpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogInRyeVJlZnVuZCIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF90cnlSZWZ1bmQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgICAgIHZhciBzZWNyZXRIYXNoLCByZWZ1bmRIYW5kbGVyLCB3YXNSZWZ1bmRlZDsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBzZWNyZXRIYXNoID0gdGhpcy5zdGF0ZS5zZWNyZXRIYXNoOwoKICAgICAgICAgICAgICAgICAgcmVmdW5kSGFuZGxlciA9IGZ1bmN0aW9uIHJlZnVuZEhhbmRsZXIoKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGhhc2ggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG51bGw7CgogICAgICAgICAgICAgICAgICAgIF90aGlzMy5zd2FwLnJvb20uc2VuZE1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdldGggcmVmdW5kIGNvbXBsZXRlZCcKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgICAgICAgIHJlZnVuZFRyYW5zYWN0aW9uSGFzaDogaGFzaCwKICAgICAgICAgICAgICAgICAgICAgIGlzUmVmdW5kZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICBpc1N3YXBFeGlzdDogZmFsc2UKICAgICAgICAgICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMjsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ldGhUb2tlblN3YXAud2FzUmVmdW5kZWQoewogICAgICAgICAgICAgICAgICAgIHNlY3JldEhhc2g6IHNlY3JldEhhc2gKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICB3YXNSZWZ1bmRlZCA9IF9jb250ZXh0NC5zZW50OwoKICAgICAgICAgICAgICAgICAgaWYgKCF3YXNSZWZ1bmRlZCkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGRlYnVnKCdzd2FwLmNvcmU6ZmxvdycpKCdUaGlzIHN3YXAgd2FzIHJlZnVuZGVkJyk7CiAgICAgICAgICAgICAgICAgIHJlZnVuZEhhbmRsZXIoKTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIHRydWUpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC50MCA9IF9jb250ZXh0NFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCd3YXNSZWZ1bmRlZCBlcnJvcjonLCBfY29udGV4dDQudDApOwogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCB0aGlzLmV0aFRva2VuU3dhcC5yZWZ1bmQoewogICAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50QWRkcmVzczogdGhpcy5hcHAuZ2V0UGFydGljaXBhbnRFdGhBZGRyZXNzKHRoaXMuc3dhcCkKICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoaGFzaCkgewogICAgICAgICAgICAgICAgICAgIGlmICghaGFzaCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgcmVmdW5kSGFuZGxlcihoYXNoKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMsIFtbMiwgMTJdXSk7CiAgICAgICAgfSkpOwoKICAgICAgICBmdW5jdGlvbiB0cnlSZWZ1bmQoKSB7CiAgICAgICAgICByZXR1cm4gX3RyeVJlZnVuZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRyeVJlZnVuZDsKICAgICAgfSgpCiAgICB9LCB7CiAgICAgIGtleTogImlzUmVmdW5kU3VjY2VzcyIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9pc1JlZnVuZFN1Y2Nlc3MgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CgogICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgICAgfSkpOwoKICAgICAgICBmdW5jdGlvbiBpc1JlZnVuZFN1Y2Nlc3MoKSB7CiAgICAgICAgICByZXR1cm4gX2lzUmVmdW5kU3VjY2Vzcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGlzUmVmdW5kU3VjY2VzczsKICAgICAgfSgpCiAgICB9LCB7CiAgICAgIGtleTogInRyeVdpdGhkcmF3IiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3RyeVdpdGhkcmF3ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoX3NlY3JldCkgewogICAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICAgICAgdmFyIF90aGlzJHN0YXRlLCBzZWNyZXQsIHNlY3JldEhhc2gsIGlzRXRoV2l0aGRyYXduLCBpc2J0Y1dpdGhkcmF3biwgdXR4b1NjcmlwdFZhbHVlcywgX3NlY3JldEhhc2gsIF90aGlzJGJ0Y1N3YXAkY3JlYXRlUywgc2NyaXB0QWRkcmVzcywgYmFsYW5jZTsKCiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgX3RoaXMkc3RhdGUgPSB0aGlzLnN0YXRlLCBzZWNyZXQgPSBfdGhpcyRzdGF0ZS5zZWNyZXQsIHNlY3JldEhhc2ggPSBfdGhpcyRzdGF0ZS5zZWNyZXRIYXNoLCBpc0V0aFdpdGhkcmF3biA9IF90aGlzJHN0YXRlLmlzRXRoV2l0aGRyYXduLCBpc2J0Y1dpdGhkcmF3biA9IF90aGlzJHN0YXRlLmlzYnRjV2l0aGRyYXduLCB1dHhvU2NyaXB0VmFsdWVzID0gX3RoaXMkc3RhdGUudXR4b1NjcmlwdFZhbHVlczsKCiAgICAgICAgICAgICAgICAgIGlmIChfc2VjcmV0KSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIldpdGhkcmF3YWwgaXMgYXV0b21hdGljLiBGb3IgbWFudWFsIHdpdGhkcmF3YWwsIHByb3ZpZGUgYSBzZWNyZXQiKTsKCiAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgIGlmICh1dHhvU2NyaXB0VmFsdWVzKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCB3aXRoZHJhdyB3aXRob3V0IHNjcmlwdCB2YWx1ZXMiKTsKCiAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgIGlmIChzZWNyZXQgJiYgc2VjcmV0ICE9IF9zZWNyZXQpIGNvbnNvbGUud2FybigiU2VjcmV0IGFscmVhZHkga25vd24gYW5kIGlzIGRpZmZlcmVudC4gQXJlIHlvdSBzdXJlPyIpOwogICAgICAgICAgICAgICAgICBpZiAoaXNidGNXaXRoZHJhd24pIGNvbnNvbGUud2FybigiTG9va3MgbGlrZSBtb25leSB3ZXJlIGFscmVhZHkgd2l0aGRyYXduLCBhcmUgeW91IHN1cmU/Iik7CiAgICAgICAgICAgICAgICAgIGRlYnVnKCdzd2FwLmNvcmU6ZmxvdycpKCJXSVRIRFJBVyB1c2luZyBzZWNyZXQgPSAiLmNvbmNhdChfc2VjcmV0KSk7CiAgICAgICAgICAgICAgICAgIF9zZWNyZXRIYXNoID0gdGhpcy5hcHAuZW52LmJpdGNvaW4uY3J5cHRvLnJpcGVtZDE2MChCdWZmZXIuZnJvbShfc2VjcmV0LCAnaGV4JykpLnRvU3RyaW5nKCdoZXgnKTsKICAgICAgICAgICAgICAgICAgaWYgKHNlY3JldEhhc2ggIT0gX3NlY3JldEhhc2gpIGNvbnNvbGUud2FybigiSGFzaCBkb2VzIG5vdCBtYXRjaCEgc3RhdGU6ICIuY29uY2F0KHNlY3JldEhhc2gsICIsIGdpdmVuOiAiKS5jb25jYXQoX3NlY3JldEhhc2gpKTsKICAgICAgICAgICAgICAgICAgX3RoaXMkYnRjU3dhcCRjcmVhdGVTID0gdGhpcy5idGNTd2FwLmNyZWF0ZVNjcmlwdCh1dHhvU2NyaXB0VmFsdWVzKSwgc2NyaXB0QWRkcmVzcyA9IF90aGlzJGJ0Y1N3YXAkY3JlYXRlUy5zY3JpcHRBZGRyZXNzOwogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5idGNTd2FwLmdldEJhbGFuY2Uoc2NyaXB0QWRkcmVzcyk7CgogICAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgICAgYmFsYW5jZSA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgICBkZWJ1Zygnc3dhcC5jb3JlOmZsb3cnKSgiYWRkcmVzcz0iLmNvbmNhdChzY3JpcHRBZGRyZXNzLCAiLCBiYWxhbmNlPSIpLmNvbmNhdChiYWxhbmNlKSk7CgogICAgICAgICAgICAgICAgICBpZiAoIShiYWxhbmNlID09PSAwKSkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoU3RlcCh7CiAgICAgICAgICAgICAgICAgICAgaXNidGNXaXRoZHJhd246IHRydWUKICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIHN0ZXA6ICd3aXRoZHJhdy11dHhvJwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBbHJlYWR5IHdpdGhkcmF3bjogYWRkcmVzcz0iLmNvbmNhdChzY3JpcHRBZGRyZXNzLCAiLGJhbGFuY2U9IikuY29uY2F0KGJhbGFuY2UpKTsKCiAgICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgICB0aGlzLmJ0Y1N3YXAud2l0aGRyYXcoewogICAgICAgICAgICAgICAgICAgIHNjcmlwdFZhbHVlczogdXR4b1NjcmlwdFZhbHVlcywKICAgICAgICAgICAgICAgICAgICBzZWNyZXQ6IF9zZWNyZXQKICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoaGFzaCkgewogICAgICAgICAgICAgICAgICAgIGRlYnVnKCdzd2FwLmNvcmU6ZmxvdycpKCJUWCBoYXNoPSIuY29uY2F0KGhhc2gpKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsKICAgICAgICAgICAgICAgICAgICAgIGJ0Y1N3YXBXaXRoZHJhd1RyYW5zYWN0aW9uSGFzaDogaGFzaAogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBkZWJ1Zygnc3dhcC5jb3JlOmZsb3cnKSgiVFggd2l0aGRyYXcgc2VudDogIi5jb25jYXQoX3RoaXM0LnN0YXRlLmJ0Y1N3YXBXaXRoZHJhd1RyYW5zYWN0aW9uSGFzaCkpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczQuZmluaXNoU3RlcCh7CiAgICAgICAgICAgICAgICAgICAgICBpc2J0Y1dpdGhkcmF3bjogdHJ1ZQogICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgIHN0ZXA6ICd3aXRoZHJhdy11dHhvJwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlNiwgdGhpcyk7CiAgICAgICAgfSkpOwoKICAgICAgICBmdW5jdGlvbiB0cnlXaXRoZHJhdyhfeCkgewogICAgICAgICAgcmV0dXJuIF90cnlXaXRoZHJhdy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRyeVdpdGhkcmF3OwogICAgICB9KCkKICAgIH1dLCBbewogICAgICBrZXk6ICJnZXROYW1lIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldE5hbWUoKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aGlzLmdldEZyb21OYW1lKCksICIyIikuY29uY2F0KHRoaXMuZ2V0VG9OYW1lKCkpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogImdldEZyb21OYW1lIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZyb21OYW1lKCkgewogICAgICAgIHJldHVybiB0b2tlbk5hbWUudG9VcHBlckNhc2UoKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJnZXRUb05hbWUiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VG9OYW1lKCkgewogICAgICAgIHJldHVybiBjb25zdGFudHMuQ09JTlMuYnRjOwogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIEVUSFRPS0VOMkJUQzsKICB9KEF0b21pY0FCMlVUWE8pOwoKICByZXR1cm4gRVRIVE9LRU4yQlRDOwp9KTs="},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/core/swap.flows/ETHTOKEN2BTC.ts"],"names":["debug","constants","AtomicAB2UTXO","tokenName","ETHTOKEN2BTC","swap","utxoCoin","_flowName","getName","stepNumbers","ethTokenSwap","participantSwap","btcSwap","ownerSwap","abBlockchain","utxoBlockchain","Error","state","step","isStoppedSwap","signTransactionHash","isSignFetching","isMeSigned","targetWallet","secretHash","isBalanceFetching","isBalanceEnough","balance","ethSwapCreationTransactionHash","canCreateEthTransaction","isEthContractFunded","secret","isEthWithdrawn","isbtcWithdrawn","ethSwapWithdrawTransactionHash","btcSwapWithdrawTransactionHash","refundTransactionHash","isRefunded","isFinished","isSwapExist","withdrawRequestIncoming","withdrawRequestAccepted","isFailedTransaction","isFailedTransactionError","gasAmountNeeded","_persistState","flow","room","once","setState","signABSide","waitUTXOScriptCreated","syncBalance","waitUTXOScriptFunded","scriptFunded","fundERC20Contract","getSecretFromAB2UTXO","withdrawFromSwap","sendMessage","event","data","finishStep","swapData","ownerAddress","app","getMyEthAddress","participantAddress","getParticipantEthAddress","checkSwapExists","refundHandler","hash","wasRefunded","console","warn","refund","then","error","_secret","utxoScriptValues","_secretHash","env","bitcoin","crypto","ripemd160","Buffer","from","toString","createScript","scriptAddress","getBalance","withdraw","scriptValues","getFromName","getToName","toUpperCase","COINS","btc"],"mappings":"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","sourcesContent":["import debug from 'debug'\r\nimport SwapApp, { constants, util } from 'swap.app'\r\nimport { AtomicAB2UTXO } from 'swap.swap'\r\nimport BigNumber from 'bignumber.js'\r\nimport { EthTokenSwap, BtcSwap } from 'swap.swaps'\r\n\r\n\r\nexport default (tokenName) => {\r\n\r\n  class ETHTOKEN2BTC extends AtomicAB2UTXO {\r\n\r\n    _flowName: string\r\n    ethTokenSwap: EthTokenSwap\r\n    btcSwap: BtcSwap\r\n    state: any\r\n\r\n    static getName() {\r\n      return `${this.getFromName()}2${this.getToName()}`\r\n    }\r\n    static getFromName() {\r\n      return tokenName.toUpperCase()\r\n    }\r\n    static getToName() {\r\n      return constants.COINS.btc\r\n    }\r\n    constructor(swap) {\r\n      super(swap)\r\n      this.utxoCoin = `btc`\r\n      this._flowName = ETHTOKEN2BTC.getName()\r\n\r\n      this.stepNumbers = {\r\n        'sign': 1,\r\n        'wait-lock-utxo': 2,\r\n        'verify-script': 3,\r\n        'sync-balance': 4,\r\n        'lock-eth': 5,\r\n        'wait-withdraw-eth': 6, // aka getSecret\r\n        'withdraw-utxo': 7,\r\n        'finish': 8,\r\n        'end': 9\r\n      }\r\n\r\n      this.ethTokenSwap = swap.participantSwap\r\n      this.btcSwap = swap.ownerSwap\r\n\r\n      this.abBlockchain = this.ethTokenSwap\r\n      this.utxoBlockchain = this.btcSwap\r\n\r\n      if (!this.ethTokenSwap) {\r\n        throw new Error('ETHTOKEN2BTC: \"ethTokenSwap\" of type object required')\r\n      }\r\n      if (!this.btcSwap) {\r\n        throw new Error('ETHTOKEN2BTC: \"btcSwap\" of type object required')\r\n      }\r\n\r\n      this.state = {\r\n        step: 0,\r\n\r\n        isStoppedSwap: false,\r\n\r\n        signTransactionHash: null,\r\n        isSignFetching: false,\r\n        isMeSigned: false,\r\n\r\n        targetWallet : null,\r\n        secretHash: null,\r\n\r\n        isBalanceFetching: false,\r\n        isBalanceEnough: true,\r\n        balance: null,\r\n\r\n        ethSwapCreationTransactionHash: null,\r\n        canCreateEthTransaction: true,\r\n        isEthContractFunded: false,\r\n\r\n        secret: null,\r\n\r\n        isEthWithdrawn: false,\r\n        isbtcWithdrawn: false,\r\n\r\n        ethSwapWithdrawTransactionHash: null,\r\n        btcSwapWithdrawTransactionHash: null,\r\n\r\n        refundTransactionHash: null,\r\n        isRefunded: false,\r\n\r\n        isFinished: false,\r\n        isSwapExist: false,\r\n\r\n        withdrawRequestIncoming: false,\r\n        withdrawRequestAccepted: false,\r\n\r\n        isFailedTransaction: false,\r\n        isFailedTransactionError: null,\r\n        gasAmountNeeded: 0,\r\n      }\r\n\r\n      this._persistState()\r\n\r\n      const flow = this\r\n\r\n      flow.swap.room.once('request withdraw', () => {\r\n        flow.setState({\r\n          withdrawRequestIncoming: true,\r\n        })\r\n      })\r\n\r\n      super._persistSteps()\r\n    }\r\n\r\n    _persistState() {\r\n      super._persistState()\r\n    }\r\n\r\n    _getSteps() {\r\n      const flow = this\r\n\r\n      return [\r\n\r\n        // 1. Sign swap to start\r\n\r\n        () => {\r\n          this.signABSide()\r\n        },\r\n\r\n        // 2. Wait participant create, fund BTC Script\r\n\r\n        () => {\r\n          flow.waitUTXOScriptCreated()\r\n        },\r\n\r\n        // 3. Verify BTC Script\r\n\r\n        () => {\r\n          debug('swap.core:flow')(`waiting verify btc script`)\r\n        },\r\n\r\n        // 4. Check balance\r\n\r\n        () => {\r\n          this.syncBalance()\r\n        },\r\n\r\n        // 5. Create ETH Contract\r\n\r\n        async () => {\r\n          const scriptFunded = await this.waitUTXOScriptFunded()\r\n          if (scriptFunded) {\r\n            await flow.ethTokenSwap.fundERC20Contract({\r\n              flow,\r\n            })\r\n          }\r\n        },\r\n\r\n        // 6. Wait participant withdraw\r\n\r\n        async () => {\r\n          await flow.ethTokenSwap.getSecretFromAB2UTXO({ flow })\r\n        },\r\n\r\n        // 7. Withdraw\r\n\r\n        async () => {\r\n          await this.btcSwap.withdrawFromSwap({\r\n            flow,\r\n          })\r\n        },\r\n\r\n        // 8. Finish\r\n\r\n        () => {\r\n          flow.swap.room.once('request swap finished', () => {\r\n            const { btcSwapWithdrawTransactionHash } = flow.state\r\n\r\n            flow.swap.room.sendMessage({\r\n              event: 'swap finished',\r\n              data: {\r\n                btcSwapWithdrawTransactionHash,\r\n              },\r\n            })\r\n          })\r\n\r\n          flow.finishStep({\r\n            isFinished: true,\r\n          }, { step: 'finish' })\r\n        },\r\n\r\n        // 9. Finished!\r\n\r\n        () => {},\r\n      ]\r\n    }\r\n\r\n    _checkSwapAlreadyExists() {\r\n      const swapData = {\r\n        ownerAddress: this.app.getMyEthAddress(),\r\n        participantAddress: this.app.getParticipantEthAddress(this.swap)\r\n      }\r\n\r\n      return this.ethTokenSwap.checkSwapExists(swapData)\r\n    }\r\n\r\n    async tryRefund() {\r\n      const { secretHash } = this.state\r\n\r\n      const refundHandler = (hash = null) => {\r\n        this.swap.room.sendMessage({\r\n          event: 'eth refund completed',\r\n        })\r\n\r\n        this.setState({\r\n          refundTransactionHash: hash,\r\n          isRefunded: true,\r\n          isSwapExist: false,\r\n        }, true)\r\n      }\r\n\r\n      try {\r\n        const wasRefunded = await this.ethTokenSwap.wasRefunded({ secretHash })\r\n\r\n        if (wasRefunded) {\r\n          debug('swap.core:flow')('This swap was refunded')\r\n\r\n          refundHandler()\r\n\r\n          return true\r\n        }\r\n      } catch (error) {\r\n        console.warn('wasRefunded error:', error)\r\n\r\n        return false\r\n      }\r\n\r\n      return this.ethTokenSwap.refund({\r\n        participantAddress: this.app.getParticipantEthAddress(this.swap),\r\n      })\r\n        .then((hash) => {\r\n          if (!hash) {\r\n            return false\r\n          }\r\n\r\n          refundHandler(hash)\r\n\r\n          return true\r\n        })\r\n        .catch((error) => false)\r\n    }\r\n\r\n\r\n\r\n    async isRefundSuccess() {\r\n      return true\r\n    }\r\n\r\n    async tryWithdraw(_secret) {\r\n      const { secret, secretHash, isEthWithdrawn, isbtcWithdrawn, utxoScriptValues } = this.state\r\n\r\n      if (!_secret)\r\n        throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\r\n\r\n      if (!utxoScriptValues)\r\n        throw new Error(`Cannot withdraw without script values`)\r\n\r\n      if (secret && secret != _secret)\r\n        console.warn(`Secret already known and is different. Are you sure?`)\r\n\r\n      if (isbtcWithdrawn)\r\n        console.warn(`Looks like money were already withdrawn, are you sure?`)\r\n\r\n      debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\r\n\r\n      const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\r\n\r\n      if (secretHash != _secretHash)\r\n        console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\r\n\r\n      const {scriptAddress} = this.btcSwap.createScript(utxoScriptValues)\r\n      const balance = await this.btcSwap.getBalance(scriptAddress)\r\n\r\n      debug('swap.core:flow')(`address=${scriptAddress}, balance=${balance}`)\r\n\r\n      if (balance === 0) {\r\n        this.finishStep({\r\n          isbtcWithdrawn: true,\r\n        }, {step: 'withdraw-utxo'})\r\n        throw new Error(`Already withdrawn: address=${scriptAddress},balance=${balance}`)\r\n      }\r\n\r\n      this.btcSwap.withdraw({\r\n        scriptValues: utxoScriptValues,\r\n        secret: _secret,\r\n      }).then((hash) => {\r\n        debug('swap.core:flow')(`TX hash=${hash}`)\r\n        this.setState({\r\n          btcSwapWithdrawTransactionHash: hash,\r\n        })\r\n\r\n        debug('swap.core:flow')(`TX withdraw sent: ${this.state.btcSwapWithdrawTransactionHash}`)\r\n\r\n        this.finishStep({\r\n          isbtcWithdrawn: true,\r\n        }, { step: 'withdraw-utxo' })\r\n      })\r\n    }\r\n  }\r\n\r\n  return ETHTOKEN2BTC\r\n}\r\n"]}]}