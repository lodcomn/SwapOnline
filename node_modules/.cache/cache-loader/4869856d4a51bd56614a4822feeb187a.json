{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\components\\Comment\\Comment.tsx","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\components\\Comment\\Comment.tsx","mtime":1614842913853},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5IjsKCnZhciBfZGVjLCBfY2xhc3MsIF90ZW1wOwoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KCmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CgppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgQ1NTTW9kdWxlcyBmcm9tICdyZWFjdC1jc3MtbW9kdWxlcyc7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50LXdpdGgtbG9jYWxlcy1lczYnOwppbXBvcnQgc3R5bGVzIGZyb20gJy4vQ29tbWVudC5zY3NzJzsKaW1wb3J0IHsgRm9ybWF0dGVkTWVzc2FnZSB9IGZyb20gJ3JlYWN0LWludGwnOwppbXBvcnQgYWN0aW9ucyBmcm9tICdyZWR1eC9hY3Rpb25zJzsKdmFyIENvbW1lbnRSb3cgPSAoX2RlYyA9IENTU01vZHVsZXMoc3R5bGVzLCB7CiAgYWxsb3dNdWx0aXBsZTogdHJ1ZQp9KSwgX2RlYyhfY2xhc3MgPSAoX3RlbXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKENvbW1lbnRSb3csIF9SZWFjdCRQdXJlQ29tcG9uZW50KTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihDb21tZW50Um93KTsKCiAgZnVuY3Rpb24gQ29tbWVudFJvdyhfcHJvcHMpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29tbWVudFJvdyk7CgogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBfcHJvcHMpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImNvbW1lbnRUZXh0YXJlYSIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAic3VibWl0Q29tbWVudCIsIGZ1bmN0aW9uIChldmVudCwgcHJvcHMpIHsKICAgICAgaWYgKGV2ZW50KSB7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgfQoKICAgICAgdmFyIGNvbW1lbnRLZXkgPSBwcm9wcy5jb21tZW50S2V5LAogICAgICAgICAgX3Byb3BzJHVwZGF0ZUNvbW1lbnQgPSBwcm9wcy51cGRhdGVDb21tZW50LAogICAgICAgICAgdXBkYXRlQ29tbWVudCA9IF9wcm9wcyR1cGRhdGVDb21tZW50ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyR1cGRhdGVDb21tZW50OwogICAgICB2YXIgY29tbWVudCA9IF90aGlzLnN0YXRlLmNvbW1lbnQ7CiAgICAgIGFjdGlvbnMuY29tbWVudHMuc2V0Q29tbWVudCh7CiAgICAgICAga2V5OiBjb21tZW50S2V5LAogICAgICAgIGNvbW1lbnQ6IGNvbW1lbnQKICAgICAgfSk7CgogICAgICBpZiAodXBkYXRlQ29tbWVudCkgewogICAgICAgIHVwZGF0ZUNvbW1lbnQoY29tbWVudCk7CiAgICAgIH0KCiAgICAgIF90aGlzLnRvZ2dsZUNvbW1lbnQoKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImhhbmRsZUtleVVwIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDsKCiAgICAgIGlmICghX3RoaXMuY29tbWVudFRleHRhcmVhKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoZSAmJiBlLmN0cmxLZXkgJiYgZS5rZXlDb2RlID09IDEzKSB7CiAgICAgICAgX3RoaXMuc3VibWl0Q29tbWVudChudWxsLCBfdGhpcy5wcm9wcyk7CgogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgX3RoaXMuY29tbWVudFRleHRhcmVhLmN1cnJlbnQuc3R5bGUuY3NzVGV4dCA9ICdoZWlnaHQ6JyArIF90aGlzLmNvbW1lbnRUZXh0YXJlYS5jdXJyZW50LnNjcm9sbEhlaWdodCArICdweDsnOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiY2hhbmdlQ29tbWVudCIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICByZXR1cm4gX3RoaXMuc2V0U3RhdGUoewogICAgICAgIGNvbW1lbnQ6IGV2ZW50LnRhcmdldC52YWx1ZQogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInRvZ2dsZUNvbW1lbnQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdGhpcyRzdGF0ZSRpc09wZW4gPSBfdGhpcy5zdGF0ZS5pc09wZW4sCiAgICAgICAgICBpc09wZW4gPSBfdGhpcyRzdGF0ZSRpc09wZW4gPT09IHZvaWQgMCA/IGZhbHNlIDogX3RoaXMkc3RhdGUkaXNPcGVuOwoKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIGlzT3BlbjogIWlzT3BlbgogICAgICB9KTsKICAgIH0pOwoKICAgIF90aGlzLmNvbW1lbnRUZXh0YXJlYSA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVSZWYoKTsKICAgIF90aGlzLnN0YXRlID0gewogICAgICBpc09wZW46IGZhbHNlLAogICAgICBjb21tZW50OiBudWxsCiAgICB9OwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKENvbW1lbnRSb3csIFt7CiAgICBrZXk6ICJjb21wb25lbnREaWRNb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICAgIHZhciBjb21tZW50S2V5ID0gdGhpcy5wcm9wcy5jb21tZW50S2V5OyAvLyBub3QgbmVlZCBhbnltb3JlCiAgICAgIC8vIGFjdGlvbnMuY29yZS5nZXRTd2FwSGlzdG9yeSgpCgogICAgICB2YXIgY29tbWVudCA9IGFjdGlvbnMuY29tbWVudHMuZ2V0Q29tbWVudChjb21tZW50S2V5KTsKCiAgICAgIGlmIChjb21tZW50KSB7CiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICBjb21tZW50OiBjb21tZW50CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wb25lbnREaWRVcGRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHsKICAgICAgaWYgKHRoaXMucHJvcHMuaXNPcGVuICYmIHRoaXMucHJvcHMuaXNPcGVuICE9PSBwcmV2UHJvcHMuaXNPcGVuICYmIHRoaXMucHJvcHMub25TdWJtaXQpIHsKICAgICAgICB0aGlzLmhhbmRsZUtleVVwKCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLAogICAgICAgICAgbGFiZWwgPSBfdGhpcyRwcm9wcy5sYWJlbCwKICAgICAgICAgIGRhdGUgPSBfdGhpcyRwcm9wcy5kYXRlLAogICAgICAgICAgX3RoaXMkcHJvcHMkY2FuRWRpdCA9IF90aGlzJHByb3BzLmNhbkVkaXQsCiAgICAgICAgICBjYW5FZGl0ID0gX3RoaXMkcHJvcHMkY2FuRWRpdCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfdGhpcyRwcm9wcyRjYW5FZGl0LAogICAgICAgICAgX3RoaXMkcHJvcHMkc2hvd0NvbW1lID0gX3RoaXMkcHJvcHMuc2hvd0NvbW1lbnQsCiAgICAgICAgICBzaG93Q29tbWVudCA9IF90aGlzJHByb3BzJHNob3dDb21tZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfdGhpcyRwcm9wcyRzaG93Q29tbWU7CiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsCiAgICAgICAgICBfdGhpcyRzdGF0ZSRpc09wZW4yID0gX3RoaXMkc3RhdGUuaXNPcGVuLAogICAgICAgICAgaXNPcGVuID0gX3RoaXMkc3RhdGUkaXNPcGVuMiA9PT0gdm9pZCAwID8gZmFsc2UgOiBfdGhpcyRzdGF0ZSRpc09wZW4yLAogICAgICAgICAgX3RoaXMkc3RhdGUkY29tbWVudCA9IF90aGlzJHN0YXRlLmNvbW1lbnQsCiAgICAgICAgICBjb21tZW50ID0gX3RoaXMkc3RhdGUkY29tbWVudCA9PT0gdm9pZCAwID8gbnVsbCA6IF90aGlzJHN0YXRlJGNvbW1lbnQ7CiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIHN0eWxlTmFtZTogIndyYXAtYmxvY2siCiAgICAgIH0sIGNhbkVkaXQgJiYgKGlzT3BlbiA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJmb3JtIiwgewogICAgICAgIHN0eWxlTmFtZTogImlucHV0IiwKICAgICAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoZSkgewogICAgICAgICAgcmV0dXJuIF90aGlzMi5zdWJtaXRDb21tZW50KGUsIF90aGlzMi5wcm9wcyk7CiAgICAgICAgfQogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiLCB7CiAgICAgICAgcmVmOiB0aGlzLmNvbW1lbnRUZXh0YXJlYSwKICAgICAgICBzdHlsZU5hbWU6ICJjb21tZW50VGV4dGFyZWEiLAogICAgICAgIGlkOiAiY29tbWVudFRleHRhcmVhIiwKICAgICAgICBvbktleVVwOiB0aGlzLmhhbmRsZUtleVVwLAogICAgICAgIG9uQ2hhbmdlOiB0aGlzLmNoYW5nZUNvbW1lbnQsCiAgICAgICAgdmFsdWU6IGNvbW1lbnQKICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgewogICAgICAgIHN0eWxlTmFtZTogInN1Ym1pdCIsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMyLnN1Ym1pdENvbW1lbnQoZSwgX3RoaXMyLnByb3BzKTsKICAgICAgICB9CiAgICAgIH0sICJcdTI3MTQiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7CiAgICAgICAgc3R5bGVOYW1lOiAiY2xvc2UiLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMyLnRvZ2dsZUNvbW1lbnQoKTsKICAgICAgICB9CiAgICAgIH0sICJceEQ3IikpIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJhZGQtbGluayIsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHJldHVybiBfdGhpczIudG9nZ2xlQ29tbWVudCgpOwogICAgICAgIH0KICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAiYWRkX25vdGljZSIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJBZGQgbm90aWNlIgogICAgICB9KSkpLCBzaG93Q29tbWVudCAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIHN0eWxlTmFtZTogImRhdGUiCiAgICAgIH0sIGRhdGUgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsIG1vbWVudChkYXRlKS5mb3JtYXQoJ0xMTEwnKSksIGNvbW1lbnQgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJjb21tZW50VGV4dCIKICAgICAgfSwgY29tbWVudCkpKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBDb21tZW50Um93Owp9KFJlYWN0LlB1cmVDb21wb25lbnQpLCBfdGVtcCkpIHx8IF9jbGFzcyk7CmV4cG9ydCB7IENvbW1lbnRSb3cgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/front/shared/components/Comment/Comment.tsx"],"names":["React","CSSModules","moment","styles","FormattedMessage","actions","CommentRow","allowMultiple","props","event","preventDefault","commentKey","updateComment","comment","state","comments","setComment","key","toggleComment","e","commentTextarea","ctrlKey","keyCode","submitComment","current","style","cssText","scrollHeight","setState","target","value","isOpen","createRef","getComment","prevProps","onSubmit","handleKeyUp","label","date","canEdit","showComment","changeComment","format","PureComponent"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport CSSModules from 'react-css-modules'\r\nimport moment from 'moment-with-locales-es6'\r\nimport styles from './Comment.scss'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport actions from 'redux/actions'\r\n\r\ntype WithdrawModalProps = {\r\n  commentKey?: any,\r\n  isOpen?: boolean,\r\n  label?: string,\r\n  date?: any,\r\n  canEdit?: boolean,\r\n  showComment?: boolean,\r\n  updateComment?: (text: string) => void,\r\n  onSubmit?: (text: string) => void\r\n}\r\n\r\ntype WithdrawModalState = {\r\n  comment?: null | string,\r\n  isOpen?: boolean\r\n}\r\n\r\n\r\n@CSSModules(styles, { allowMultiple: true })\r\nexport default class CommentRow extends React.PureComponent<WithdrawModalProps, WithdrawModalState> {\r\n  commentTextarea: any\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.commentTextarea = React.createRef()\r\n    this.state = {\r\n      isOpen: false,\r\n      comment: null,\r\n    }\r\n  }\r\n\r\n  submitComment = (event, props) => {\r\n    if (event) {\r\n      event.preventDefault()\r\n    }\r\n\r\n    const {\r\n      commentKey,\r\n      updateComment = false,\r\n    } = props\r\n\r\n    const {\r\n      comment\r\n    } = this.state\r\n\r\n    actions.comments.setComment({\r\n      key: commentKey,\r\n      comment: comment\r\n    })\r\n\r\n    if (updateComment) {\r\n      updateComment(comment)\r\n    }\r\n\r\n    this.toggleComment()\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {\r\n      commentKey\r\n    } = this.props\r\n\r\n    // not need anymore\r\n    // actions.core.getSwapHistory()\r\n    const comment = actions.comments.getComment(commentKey)\r\n\r\n    if (comment) {\r\n      this.setState({\r\n        comment\r\n      })\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.isOpen && this.props.isOpen !== prevProps.isOpen && this.props.onSubmit) {\r\n      this.handleKeyUp()\r\n    }\r\n  }\r\n\r\n  handleKeyUp = (e = null) => {\r\n    if (!this.commentTextarea) {\r\n      return\r\n    }\r\n\r\n    if (e && e.ctrlKey && e.keyCode == 13) {\r\n      this.submitComment(null, this.props)\r\n      return\r\n    }\r\n\r\n    this.commentTextarea\r\n      .current.style.cssText = 'height:' + this.commentTextarea.current.scrollHeight + 'px;'\r\n  }\r\n\r\n  changeComment = (event) => this.setState({comment: event.target.value});\r\n\r\n  toggleComment = () => {\r\n    const { isOpen = false } = this.state\r\n\r\n    this.setState({\r\n      isOpen: !isOpen\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      label,\r\n      date,\r\n      canEdit = false,\r\n      showComment = false,\r\n    } = this.props\r\n\r\n    const {\r\n      isOpen = false,\r\n      comment = null\r\n    } = this.state\r\n\r\n    return (\r\n      <div styleName=\"wrap-block\">\r\n        {canEdit && (isOpen ?\r\n          <form styleName=\"input\" onSubmit={(e) => this.submitComment(e, this.props)}>\r\n            <textarea \r\n              ref={this.commentTextarea}\r\n              styleName=\"commentTextarea\" id=\"commentTextarea\"\r\n              onKeyUp={this.handleKeyUp}\r\n              onChange={this.changeComment}\r\n              value={comment} \r\n            ></textarea>\r\n            <span styleName=\"submit\" onClick={(e) => this.submitComment(e, this.props)}>&#10004;</span>\r\n            <span styleName=\"close\" onClick={() => this.toggleComment()}>&times;</span>\r\n          </form>\r\n          :\r\n          <div styleName=\"add-link\" onClick={() => this.toggleComment()}>\r\n            <FormattedMessage id=\"add_notice\" defaultMessage=\"Add notice\" />\r\n          </div>)\r\n        }\r\n\r\n        {showComment && (\r\n          <div styleName=\"date\">\r\n            {date &&\r\n              <div>{moment(date).format('LLLL')}</div>\r\n            }\r\n            {comment &&\r\n              <div styleName=\"commentText\">{comment}</div>\r\n            }\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]}]}