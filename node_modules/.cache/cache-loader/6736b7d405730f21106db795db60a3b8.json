{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\helpers\\user.ts","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\helpers\\user.ts","mtime":1614842914120},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGNvbmZpZyBmcm9tICdhcHAtY29uZmlnJzsKZXhwb3J0IHZhciBnZXRBY3RpdmF0ZWRDdXJyZW5jaWVzID0gZnVuY3Rpb24gZ2V0QWN0aXZhdGVkQ3VycmVuY2llcygpIHsKICB2YXIgY3VycmVuY2llcyA9IFtdOwoKICBpZiAoIWNvbmZpZy5vcHRzLmN1ckVuYWJsZWQgfHwgY29uZmlnLm9wdHMuY3VyRW5hYmxlZC5idGMpIHsKICAgIGN1cnJlbmNpZXMucHVzaCgnQlRDJyk7CiAgICBjdXJyZW5jaWVzLnB1c2goJ0JUQyAoU01TLVByb3RlY3RlZCknKTsKICAgIGN1cnJlbmNpZXMucHVzaCgnQlRDIChQSU4tUHJvdGVjdGVkKScpOwogICAgY3VycmVuY2llcy5wdXNoKCdCVEMgKE11bHRpc2lnKScpOwogIH0KCiAgaWYgKCFjb25maWcub3B0cy5jdXJFbmFibGVkIHx8IGNvbmZpZy5vcHRzLmN1ckVuYWJsZWQuZXRoKSBjdXJyZW5jaWVzLnB1c2goJ0VUSCcpOwogIGlmICghY29uZmlnLm9wdHMuY3VyRW5hYmxlZCB8fCBjb25maWcub3B0cy5jdXJFbmFibGVkLmdob3N0KSBjdXJyZW5jaWVzLnB1c2goJ0dIT1NUJyk7CiAgaWYgKCFjb25maWcub3B0cy5jdXJFbmFibGVkIHx8IGNvbmZpZy5vcHRzLmN1ckVuYWJsZWQubmV4dCkgY3VycmVuY2llcy5wdXNoKCdORVhUJyk7CiAgT2JqZWN0LmtleXMoY29uZmlnLmVyYzIwKS5mb3JFYWNoKGZ1bmN0aW9uICh0b2tlbikgewogICAgY3VycmVuY2llcy5wdXNoKHRva2VuLnRvVXBwZXJDYXNlKCkpOwogIH0pOwogIHJldHVybiBjdXJyZW5jaWVzOwp9OwpleHBvcnQgdmFyIGhhc05vblplcm9CYWxhbmNlID0gZnVuY3Rpb24gaGFzTm9uWmVyb0JhbGFuY2UoY3VycmVuY2llcykgewogIHZhciBub25aZXJvQmFsYW5jZUN1cnJlbmNpZXMgPSBjdXJyZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoY3VycmVuY3kpIHsKICAgIHJldHVybiBjdXJyZW5jeS5iYWxhbmNlID4gMDsKICB9KTsKICByZXR1cm4gbm9uWmVyb0JhbGFuY2VDdXJyZW5jaWVzLmxlbmd0aCA+IDA7Cn07CmV4cG9ydCB2YXIgaGFzU2lnbmlmaWNhbnRCYWxhbmNlID0gZnVuY3Rpb24gaGFzU2lnbmlmaWNhbnRCYWxhbmNlKGN1cnJlbmNpZXMpIHsKICByZXR1cm4gY3VycmVuY2llcy5yZWR1Y2UoZnVuY3Rpb24gKGFjY3VtdWxhdG9yLCBfcmVmKSB7CiAgICB2YXIgbmFtZSA9IF9yZWYubmFtZSwKICAgICAgICBiYWxhbmNlID0gX3JlZi5iYWxhbmNlOwogICAgaWYgKGFjY3VtdWxhdG9yKSByZXR1cm4gdHJ1ZTsgLy8gMTAkCgogICAgaWYgKG5hbWUgPT09ICdCVEMnICYmIGJhbGFuY2UgPiAwLjAwNSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gLy8gMTAkCgoKICAgIGlmIChuYW1lID09PSAnRVRIJyAmJiBiYWxhbmNlID4gMC4xKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHJldHVybiBmYWxzZTsKICB9LCBmYWxzZSk7Cn07CmV4cG9ydCB2YXIgbm90VGVzdFVuaXQgPSBmdW5jdGlvbiBub3RUZXN0VW5pdChjdXJyZW5jaWVzKSB7CiAgcmV0dXJuIGN1cnJlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmMikgewogICAgdmFyIG5hbWUgPSBfcmVmMi5uYW1lLAogICAgICAgIGJhbGFuY2UgPSBfcmVmMi5iYWxhbmNlOwogICAgcmV0dXJuIG5hbWUgPT09ICdFVEgnICYmIGJhbGFuY2UgPiAwLjAwMSB8fCBuYW1lID09PSAnU1dBUCcgJiYgYmFsYW5jZSA+IDU7CiAgfSkubGVuZ3RoID09PSAyOwp9Ow=="},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/front/shared/helpers/user.ts"],"names":["config","getActivatedCurrencies","currencies","opts","curEnabled","btc","push","eth","ghost","next","Object","keys","erc20","forEach","token","toUpperCase","hasNonZeroBalance","nonZeroBalanceCurrencies","filter","currency","balance","length","hasSignificantBalance","reduce","accumulator","name","notTestUnit"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,YAAnB;AAGA,OAAO,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,GAAM;AAC1C,MAAMC,UAAU,GAAG,EAAnB;;AACA,MAAI,CAACF,MAAM,CAACG,IAAP,CAAYC,UAAb,IAA2BJ,MAAM,CAACG,IAAP,CAAYC,UAAZ,CAAuBC,GAAtD,EAA2D;AACzDH,IAAAA,UAAU,CAACI,IAAX,CAAgB,KAAhB;AACAJ,IAAAA,UAAU,CAACI,IAAX,CAAgB,qBAAhB;AACAJ,IAAAA,UAAU,CAACI,IAAX,CAAgB,qBAAhB;AACAJ,IAAAA,UAAU,CAACI,IAAX,CAAgB,gBAAhB;AACD;;AACD,MAAI,CAACN,MAAM,CAACG,IAAP,CAAYC,UAAb,IAA2BJ,MAAM,CAACG,IAAP,CAAYC,UAAZ,CAAuBG,GAAtD,EAA2DL,UAAU,CAACI,IAAX,CAAgB,KAAhB;AAE3D,MAAI,CAACN,MAAM,CAACG,IAAP,CAAYC,UAAb,IAA2BJ,MAAM,CAACG,IAAP,CAAYC,UAAZ,CAAuBI,KAAtD,EAA6DN,UAAU,CAACI,IAAX,CAAgB,OAAhB;AAE7D,MAAI,CAACN,MAAM,CAACG,IAAP,CAAYC,UAAb,IAA2BJ,MAAM,CAACG,IAAP,CAAYC,UAAZ,CAAuBK,IAAtD,EAA4DP,UAAU,CAACI,IAAX,CAAgB,MAAhB;AAE5DI,EAAAA,MAAM,CAACC,IAAP,CAAYX,MAAM,CAACY,KAAnB,EAA0BC,OAA1B,CAAkC,UAACC,KAAD,EAAW;AAC3CZ,IAAAA,UAAU,CAACI,IAAX,CAAgBQ,KAAK,CAACC,WAAN,EAAhB;AACD,GAFD;AAIA,SAAOb,UAAP;AACD,CAnBM;AAqBP,OAAO,IAAMc,iBAAiB,GAAG,SAApBA,iBAAoB,CAACd,UAAD,EAAgB;AAC/C,MAAMe,wBAAwB,GAC5Bf,UAAU,CAACgB,MAAX,CAAkB,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,OAAT,GAAmB,CAAvB;AAAA,GAA1B,CADF;AAGA,SAAOH,wBAAwB,CAACI,MAAzB,GAAkC,CAAzC;AACD,CALM;AAOP,OAAO,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACpB,UAAD;AAAA,SACnCA,UAAU,CACPqB,MADH,CACU,UAACC,WAAD,QAAoC;AAAA,QAApBC,IAAoB,QAApBA,IAAoB;AAAA,QAAdL,OAAc,QAAdA,OAAc;AAE1C,QAAII,WAAJ,EAAiB,OAAO,IAAP,CAFyB,CAI1C;;AACA,QAAIC,IAAI,KAAK,KAAT,IAAkBL,OAAO,GAAG,KAAhC,EAAuC;AACrC,aAAO,IAAP;AACD,KAPyC,CAS1C;;;AACA,QAAIK,IAAI,KAAK,KAAT,IAAkBL,OAAO,GAAG,GAAhC,EAAqC;AACnC,aAAO,IAAP;AACD;;AAED,WAAO,KAAP;AACD,GAhBH,EAgBK,KAhBL,CADmC;AAAA,CAA9B;AAmBP,OAAO,IAAMM,WAAW,GAAG,SAAdA,WAAc,CAACxB,UAAD;AAAA,SACzBA,UAAU,CACPgB,MADH,CAEI;AAAA,QAAGO,IAAH,SAAGA,IAAH;AAAA,QAASL,OAAT,SAASA,OAAT;AAAA,WACGK,IAAI,KAAK,KAAT,IAAkBL,OAAO,GAAG,KAA7B,IAAwCK,IAAI,KAAK,MAAT,IAAmBL,OAAO,GAAG,CADvE;AAAA,GAFJ,EAIGC,MAJH,KAIc,CALW;AAAA,CAApB","sourcesContent":["import config from 'app-config'\r\n\r\n\r\nexport const getActivatedCurrencies = () => {\r\n  const currencies = []\r\n  if (!config.opts.curEnabled || config.opts.curEnabled.btc) {\r\n    currencies.push('BTC')\r\n    currencies.push('BTC (SMS-Protected)')\r\n    currencies.push('BTC (PIN-Protected)')\r\n    currencies.push('BTC (Multisig)')\r\n  }\r\n  if (!config.opts.curEnabled || config.opts.curEnabled.eth) currencies.push('ETH')\r\n\r\n  if (!config.opts.curEnabled || config.opts.curEnabled.ghost) currencies.push('GHOST')\r\n\r\n  if (!config.opts.curEnabled || config.opts.curEnabled.next) currencies.push('NEXT')\r\n\r\n  Object.keys(config.erc20).forEach((token) => {\r\n    currencies.push(token.toUpperCase())\r\n  })\r\n\r\n  return currencies\r\n}\r\n\r\nexport const hasNonZeroBalance = (currencies) => {\r\n  const nonZeroBalanceCurrencies =\r\n    currencies.filter(currency => currency.balance > 0)\r\n\r\n  return nonZeroBalanceCurrencies.length > 0\r\n}\r\n\r\nexport const hasSignificantBalance = (currencies) =>\r\n  currencies\r\n    .reduce((accumulator, { name, balance }) => {\r\n\r\n      if (accumulator) return true\r\n\r\n      // 10$\r\n      if (name === 'BTC' && balance > 0.005) {\r\n        return true\r\n      }\r\n\r\n      // 10$\r\n      if (name === 'ETH' && balance > 0.1) {\r\n        return true\r\n      }\r\n\r\n      return false\r\n    }, false)\r\n\r\nexport const notTestUnit = (currencies) =>\r\n  currencies\r\n    .filter(\r\n      ({ name, balance }) =>\r\n        (name === 'ETH' && balance > 0.001) || (name === 'SWAP' && balance > 5))\r\n    .length === 2\r\n"]}]}