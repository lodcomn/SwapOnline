{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\components\\modal\\ModalConductor\\ModalConductor.tsx","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\components\\modal\\ModalConductor\\ModalConductor.tsx","mtime":1614851237582},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5IjsKCnZhciBfZGVjLCBfZGVjMiwgX2NsYXNzLCBfY2xhc3MyLCBfdGVtcDsKCmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9CgpmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICJ1bmRlZmluZWQiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSAiZnVuY3Rpb24iKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfQoKLy8gQHRzLW5vY2hlY2sKaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJzsKaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlZGFjdGlvbic7CmltcG9ydCB7IGdldFBhZ2VPZmZzZXQgfSBmcm9tICdoZWxwZXJzJzsKaW1wb3J0IHsgY29uc3RhbnRzIH0gZnJvbSAnaGVscGVycyc7CmltcG9ydCBNb2RhbHMgZnJvbSAnY29tcG9uZW50cy9tb2RhbHMnOwppbXBvcnQgY3NzTW9kdWxlcyBmcm9tICdyZWFjdC1jc3MtbW9kdWxlcyc7CmltcG9ydCBzdHlsZXMgZnJvbSAnLi9Nb2RhbENvbmR1Y3Rvci5zY3NzJzsKdmFyIGlzRGFyayA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGNvbnN0YW50cy5sb2NhbFN0b3JhZ2UuaXNEYXJrKTsKdmFyIE1vZGFsQ29uZHVjdG9yID0gKF9kZWMgPSBjb25uZWN0KHsKICBtb2RhbHM6ICdtb2RhbHMnCn0pLCBfZGVjMiA9IGNzc01vZHVsZXMoc3R5bGVzLCB7CiAgYWxsb3dNdWx0aXBsZTogdHJ1ZQp9KSwgX2RlYyhfY2xhc3MgPSBfZGVjMihfY2xhc3MgPSAoX3RlbXAgPSBfY2xhc3MyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKE1vZGFsQ29uZHVjdG9yLCBfQ29tcG9uZW50KTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihNb2RhbENvbmR1Y3Rvcik7CgogIGZ1bmN0aW9uIE1vZGFsQ29uZHVjdG9yKCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNb2RhbENvbmR1Y3Rvcik7CgogICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgICB9CgogICAgX3RoaXMgPSBfc3VwZXIuY2FsbC5hcHBseShfc3VwZXIsIFt0aGlzXS5jb25jYXQoYXJncykpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInN0YXRlIiwgewogICAgICBvZmZzZXRUb3A6IDAKICAgIH0pOwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhNb2RhbENvbmR1Y3RvciwgW3sKICAgIGtleTogImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoX3JlZikgewogICAgICB2YXIgbW9kYWxzID0gX3JlZi5tb2RhbHM7CiAgICAgIHZhciBvZmZzZXRUb3AgPSB0aGlzLnN0YXRlLm9mZnNldFRvcDsKICAgICAgdmFyIG15T2Zmc2V0VG9wID0gZ2V0UGFnZU9mZnNldCgpLnk7IC8vIFdoZW4gbW9kYWwgaXMgc2hvd2luZyBhZGQgb3ZlcmZsb3c6IGhpZGRlbiB0byBib2R5IGFuZCBwYWRkaW5nLXJpZ2h0OiAke3Njcm9sbFdpZHRofQogICAgICAvLyB0byBwcmV2ZW50IHNjcmVlbiBmcm9tIGJsaW5raW5nCgogICAgICBpZiAoT2JqZWN0LmtleXMobW9kYWxzKS5sZW5ndGgpIHsKICAgICAgICBpZiAobXlPZmZzZXRUb3AgPiAwKSB7CiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgb2Zmc2V0VG9wOiBteU9mZnNldFRvcAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChvZmZzZXRUb3AgPiAwKSB7CiAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgb2Zmc2V0VG9wKTsKICAgICAgICAgIHRoaXMuc2V0U3RhdGUoewogICAgICAgICAgICBvZmZzZXRUb3A6IDAKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLAogICAgICAgICAgbW9kYWxzID0gX3RoaXMkcHJvcHMubW9kYWxzLAogICAgICAgICAgaGlzdG9yeSA9IF90aGlzJHByb3BzLmhpc3RvcnksCiAgICAgICAgICBkYXNoYm9hcmRWaWV3ID0gX3RoaXMkcHJvcHMuZGFzaGJvYXJkVmlldzsKICAgICAgdmFyIG1vZGFsTmFtZXMgPSBPYmplY3Qua2V5cyhtb2RhbHMpOwogICAgICB2YXIgaGlnaGVzdFpJbmRleCA9IE9iamVjdC52YWx1ZXMobW9kYWxzKSAvL0AgCiAgICAgIC5tYXAoZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gaS56SW5kZXg7CiAgICAgIH0pLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBpKSB7CiAgICAgICAgcmV0dXJuIGFjYyA8IGkgPyBpIDogYWNjOwogICAgICB9LCAwKTsKICAgICAgdmFyIGFyZU1vZGFsc0V4aXN0ID0gQm9vbGVhbihtb2RhbE5hbWVzLmxlbmd0aCk7CiAgICAgIHJldHVybiBhcmVNb2RhbHNFeGlzdCAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIHN0eWxlTmFtZTogIiIuY29uY2F0KCFkYXNoYm9hcmRWaWV3ID8gJ21vZGFsQ29uZHVjdG9yJyA6ICdtb2RhbERhc2hib2FyZENvbmR1Y3RvcicsICIgIikuY29uY2F0KGlzRGFyayA/ICdkYXJrJyA6ICcnKQogICAgICB9LCBtb2RhbE5hbWVzLm1hcChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgdmFyIF9tb2RhbHMka2V5ID0gbW9kYWxzW2tleV0sCiAgICAgICAgICAgIG5hbWUgPSBfbW9kYWxzJGtleS5uYW1lLAogICAgICAgICAgICBfbW9kYWxzJGtleSRkYXRhID0gX21vZGFscyRrZXkuZGF0YSwKICAgICAgICAgICAgZGF0YSA9IF9tb2RhbHMka2V5JGRhdGEgPT09IHZvaWQgMCA/IHt9IDogX21vZGFscyRrZXkkZGF0YSwKICAgICAgICAgICAgekluZGV4ID0gX21vZGFscyRrZXkuekluZGV4OwoKICAgICAgICBpZiAoekluZGV4ID09PSBoaWdoZXN0WkluZGV4KSB7CiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTW9kYWxzW25hbWVdLCB7CiAgICAgICAgICAgIGtleTogbmFtZSwKICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAgaGlzdG9yeTogaGlzdG9yeSwKICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICB6SW5kZXg6IHpJbmRleAogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBudWxsOwogICAgICB9KSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gTW9kYWxDb25kdWN0b3I7Cn0oQ29tcG9uZW50KSwgX2RlZmluZVByb3BlcnR5KF9jbGFzczIsICJwcm9wVHlwZXMiLCB7CiAgbW9kYWxzOiBQcm9wVHlwZXMub2JqZWN0Cn0pLCBfdGVtcCkpIHx8IF9jbGFzcykgfHwgX2NsYXNzKTsKZXhwb3J0IHsgTW9kYWxDb25kdWN0b3IgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/front/shared/components/modal/ModalConductor/ModalConductor.tsx"],"names":["React","Component","PropTypes","connect","getPageOffset","constants","Modals","cssModules","styles","isDark","localStorage","getItem","ModalConductor","modals","allowMultiple","offsetTop","state","myOffsetTop","y","Object","keys","length","setState","window","scrollTo","props","history","dashboardView","modalNames","highestZIndex","values","map","i","zIndex","reduce","acc","areModalsExist","Boolean","key","name","data","createElement","style","object"],"mappings":";;;;;;;;;;;;;;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAA4BC,aAA5B,QAAiD,SAAjD;AACA,SAASC,SAAT,QAA0B,SAA1B;AAEA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,OAAOC,MAAP,MAAmB,uBAAnB;AAGA,IAAMC,MAAM,GAAGC,YAAY,CAACC,OAAb,CAAqBN,SAAS,CAACK,YAAV,CAAuBD,MAA5C,CAAf;IAMqBG,c,WAJpBT,OAAO,CAAC;AACPU,EAAAA,MAAM,EAAE;AADD,CAAD,C,UAGPN,UAAU,CAACC,MAAD,EAAS;AAAEM,EAAAA,aAAa,EAAE;AAAjB,CAAT,C;;;;;;;;;;;;;;;;4DAOD;AACNC,MAAAA,SAAS,EAAE;AADL,K;;;;;;;WAIR,yCAAsC;AAAA,UAAVF,MAAU,QAAVA,MAAU;AAAA,UAC5BE,SAD4B,GACd,KAAKC,KADS,CAC5BD,SAD4B;AAGpC,UAAME,WAAW,GAAGb,aAAa,GAAGc,CAApC,CAHoC,CAKpC;AACA;;AACA,UAAIC,MAAM,CAACC,IAAP,CAAYP,MAAZ,EAAoBQ,MAAxB,EAAgC;AAC9B,YAAIJ,WAAW,GAAG,CAAlB,EAAqB;AACnB,eAAKK,QAAL,CAAc;AACZP,YAAAA,SAAS,EAAEE;AADC,WAAd;AAGD;AACF,OAND,MAOK;AACH,YAAIF,SAAS,GAAG,CAAhB,EAAmB;AACjBQ,UAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmBT,SAAnB;AAEA,eAAKO,QAAL,CAAc;AACZP,YAAAA,SAAS,EAAE;AADC,WAAd;AAGD;AACF;AACF;;;WAED,kBAAS;AAAA,wBACoC,KAAKU,KADzC;AAAA,UACCZ,MADD,eACCA,MADD;AAAA,UACSa,OADT,eACSA,OADT;AAAA,UACkBC,aADlB,eACkBA,aADlB;AAGP,UAAMC,UAAU,GAAGT,MAAM,CAACC,IAAP,CAAYP,MAAZ,CAAnB;AACA,UAAMgB,aAAa,GAAGV,MAAM,CAACW,MAAP,CAAcjB,MAAd,EACpB;AADoB,OAEnBkB,GAFmB,CAEf,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACC,MAAN;AAAA,OAFc,EAGnBC,MAHmB,CAGZ,UAACC,GAAD,EAAMH,CAAN;AAAA,eAAYG,GAAG,GAAGH,CAAN,GAAUA,CAAV,GAAcG,GAA1B;AAAA,OAHY,EAGmB,CAHnB,CAAtB;AAIA,UAAMC,cAAc,GAAGC,OAAO,CAACT,UAAU,CAACP,MAAZ,CAA9B;AAEA,aAAOe,cAAc,iBACnB;AAAK,QAAA,SAAS,YAAK,CAACT,aAAD,GAAiB,gBAAjB,GAAoC,yBAAzC,cAAsElB,MAAM,GAAG,MAAH,GAAY,EAAxF;AAAd,SAEImB,UAAU,CAACG,GAAX,CAAe,UAACO,GAAD,EAAS;AAAA,0BACczB,MAAM,CAACyB,GAAD,CADpB;AAAA,YACdC,IADc,eACdA,IADc;AAAA,2CACRC,IADQ;AAAA,YACRA,IADQ,iCACD,EADC;AAAA,YACGP,MADH,eACGA,MADH;;AAGtB,YAAIA,MAAM,KAAKJ,aAAf,EAA8B;AAC5B,8BAAO7B,KAAK,CAACyC,aAAN,CAAoBnC,MAAM,CAACiC,IAAD,CAA1B,EAAkC;AACvCD,YAAAA,GAAG,EAAEC,IADkC;AAEvCA,YAAAA,IAAI,EAAJA,IAFuC;AAGvCC,YAAAA,IAAI,EAAJA,IAHuC;AAIvCd,YAAAA,OAAO,EAAPA,OAJuC;AAKvCgB,YAAAA,KAAK,EAAE;AAAET,cAAAA,MAAM,EAANA;AAAF;AALgC,WAAlC,CAAP;AAOD;;AACD,eAAO,IAAP;AACD,OAbD,CAFJ,CADF;AAoBD;;;;EAjEyChC,S,yCAEvB;AACjBY,EAAAA,MAAM,EAAEX,SAAS,CAACyC;AADD,C;SAFA/B,c","sourcesContent":["// @ts-nocheck\r\nimport React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'redaction'\r\nimport { getScrollBarWidth, getPageOffset } from 'helpers'\r\nimport { constants } from 'helpers'\r\n\r\nimport Modals from 'components/modals'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './ModalConductor.scss'\r\n\r\n\r\nconst isDark = localStorage.getItem(constants.localStorage.isDark)\r\n\r\n@connect({\r\n  modals: 'modals',\r\n})\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class ModalConductor extends Component<any, any> {\r\n\r\n  static propTypes = {\r\n    modals: PropTypes.object,\r\n  }\r\n\r\n  state = {\r\n    offsetTop: 0,\r\n  }\r\n\r\n  componentWillReceiveProps({ modals }) {\r\n    const { offsetTop } = this.state\r\n\r\n    const myOffsetTop = getPageOffset().y\r\n\r\n    // When modal is showing add overflow: hidden to body and padding-right: ${scrollWidth}\r\n    // to prevent screen from blinking\r\n    if (Object.keys(modals).length) {\r\n      if (myOffsetTop > 0) {\r\n        this.setState({\r\n          offsetTop: myOffsetTop,\r\n        })\r\n      }\r\n    }\r\n    else {\r\n      if (offsetTop > 0) {\r\n        window.scrollTo(0, offsetTop)\r\n\r\n        this.setState({\r\n          offsetTop: 0,\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { modals, history, dashboardView } = this.props\r\n\r\n    const modalNames = Object.keys(modals)\r\n    const highestZIndex = Object.values(modals)\r\n      //@ \r\n      .map(i => i.zIndex)\r\n      .reduce((acc, i) => acc < i ? i : acc, 0)\r\n    const areModalsExist = Boolean(modalNames.length)\r\n\r\n    return areModalsExist && (\r\n      <div styleName={`${!dashboardView ? 'modalConductor' : 'modalDashboardConductor'} ${isDark ? 'dark' : ''}`}>\r\n        {\r\n          modalNames.map((key) => {\r\n            const { name, data = {}, zIndex } = modals[key]\r\n\r\n            if (zIndex === highestZIndex) {\r\n              return React.createElement(Modals[name], {\r\n                key: name,\r\n                name,\r\n                data,\r\n                history,\r\n                style: { zIndex },\r\n              })\r\n            }\r\n            return null\r\n          })\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]}]}