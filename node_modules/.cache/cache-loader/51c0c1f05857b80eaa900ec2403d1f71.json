{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\components\\modals\\Approve\\Approve.tsx","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\components\\modals\\Approve\\Approve.tsx","mtime":1614850895441},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5IjsKCnZhciBfZGVjLCBfY2xhc3MsIF9jbGFzczIsIF90ZW1wOwoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KCmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CgovLyBAdHMtbm9jaGVjawppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnOwppbXBvcnQgYWN0aW9ucyBmcm9tICdyZWR1eC9hY3Rpb25zJzsKaW1wb3J0IHsgY29uc3RhbnRzIH0gZnJvbSAnaGVscGVycyc7CmltcG9ydCBMaW5rIGZyb20gJ2xvY2FsX21vZHVsZXMvc3ctdmFsdWVsaW5rJzsKaW1wb3J0IGNzc01vZHVsZXMgZnJvbSAncmVhY3QtY3NzLW1vZHVsZXMnOwppbXBvcnQgc3R5bGVzIGZyb20gJy4vQXBwcm92ZS5zY3NzJzsKaW1wb3J0IHsgTW9kYWwgfSBmcm9tICdjb21wb25lbnRzL21vZGFsJzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnY29tcG9uZW50cy9jb250cm9scyc7CmltcG9ydCB7IEZpZWxkTGFiZWwsIElucHV0IH0gZnJvbSAnY29tcG9uZW50cy9mb3Jtcyc7CmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UsIGluamVjdEludGwsIGRlZmluZU1lc3NhZ2VzIH0gZnJvbSAncmVhY3QtaW50bCc7CnZhciB0aXRsZSA9IGRlZmluZU1lc3NhZ2VzKHsKICBhcHByb3ZlVGl0bGU6IHsKICAgIGlkOiAnQXBwcm92ZTY2JywKICAgIGRlZmF1bHRNZXNzYWdlOiAnQXBwcm92ZSB0b2tlbicKICB9Cn0pOwp2YXIgT2ZmZXIgPSAoX2RlYyA9IGNzc01vZHVsZXMoc3R5bGVzKSwgaW5qZWN0SW50bChfY2xhc3MgPSBfZGVjKF9jbGFzcyA9IChfdGVtcCA9IF9jbGFzczIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHsKICBfaW5oZXJpdHMoT2ZmZXIsIF9SZWFjdCRDb21wb25lbnQpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKE9mZmVyKTsKCiAgZnVuY3Rpb24gT2ZmZXIoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE9mZmVyKTsKCiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsLmFwcGx5KF9zdXBlciwgW3RoaXNdLmNvbmNhdChhcmdzKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAicHJvcHMiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInN0YXRlIiwgewogICAgICBhbW91bnQ6IDk5OTk5OSwKICAgICAgaXNTdWJtaXR0ZWQ6IGZhbHNlCiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJoYW5kbGVBcHByb3ZlIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgYW1vdW50ID0gX3RoaXMuc3RhdGUuYW1vdW50OwogICAgICB2YXIgX3RoaXMkcHJvcHMkZGF0YSA9IF90aGlzLnByb3BzLmRhdGEsCiAgICAgICAgICBjb250cmFjdEFkZHJlc3MgPSBfdGhpcyRwcm9wcyRkYXRhLmNvbnRyYWN0QWRkcmVzcywKICAgICAgICAgIG5hbWUgPSBfdGhpcyRwcm9wcyRkYXRhLm5hbWU7CiAgICAgIHZhciBtZXNzYWdlID0gIllvdXIgYXBwcm92ZSAiLmNvbmNhdChhbW91bnQsICIgdG9rZW5zIG9uIGNvbnRyYWN0IGFkZHJlc3MgIikuY29uY2F0KGNvbnRyYWN0QWRkcmVzcyk7CiAgICAgIHZhciBlcnJvciA9ICJQbGVhc2UgdHJ5IGFnYWluIGxhdGVyIjsKCiAgICAgIGlmIChhbW91bnQgPD0gMCB8fCAhYW1vdW50KSB7CiAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgaXNTdWJtaXR0ZWQ6IHRydWUKICAgICAgICB9KTsKCiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBhY3Rpb25zLnRva2VuIC8vQAogICAgICAuYXBwcm92ZShuYW1lLCBhbW91bnQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGFjdGlvbnMubG9hZGVyLmhpZGUoKTsKICAgICAgICBhY3Rpb25zLm5vdGlmaWNhdGlvbnMuc2hvdyhjb25zdGFudHMubm90aWZpY2F0aW9ucy5NZXNzYWdlLCB7CiAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlCiAgICAgICAgfSk7CiAgICAgICAgYWN0aW9ucy5tb2RhbHMuY2xvc2UoY29uc3RhbnRzLm1vZGFscy5BcHByb3ZlKTsKICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKCkgewogICAgICAgIGFjdGlvbnMubG9hZGVyLmhpZGUoKTsKICAgICAgICBhY3Rpb25zLm5vdGlmaWNhdGlvbnMuc2hvdyhjb25zdGFudHMubm90aWZpY2F0aW9ucy5NZXNzYWdlLCB7CiAgICAgICAgICBlcnJvcjogZXJyb3IKICAgICAgICB9KTsKICAgICAgICBhY3Rpb25zLm1vZGFscy5jbG9zZShjb25zdGFudHMubW9kYWxzLkFwcHJvdmUpOwogICAgICB9KTsKICAgIH0pOwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhPZmZlciwgW3sKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLAogICAgICAgICAgbmFtZSA9IF90aGlzJHByb3BzLm5hbWUsCiAgICAgICAgICBpbnRsID0gX3RoaXMkcHJvcHMuaW50bDsKICAgICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSwKICAgICAgICAgIGFtb3VudCA9IF90aGlzJHN0YXRlLmFtb3VudCwKICAgICAgICAgIGlzU3VibWl0dGVkID0gX3RoaXMkc3RhdGUuaXNTdWJtaXR0ZWQ7CiAgICAgIHZhciBsaW5rZWQgPSBMaW5rLmFsbCh0aGlzLCAnYW1vdW50Jyk7CiAgICAgIHZhciBpc0Rpc2FibGVkID0gIWFtb3VudDsKCiAgICAgIGlmIChpc1N1Ym1pdHRlZCkgewogICAgICAgIGxpbmtlZC5hbW91bnQuY2hlY2soZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gdmFsdWUgPD0gMDsKICAgICAgICB9LCAiQW1vdW50IG11c3QgYmUgZ3JlYXRlciB0aGFuIDEgIik7CiAgICAgIH0KCiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNb2RhbCwgewogICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgdGl0bGU6IGludGwuZm9ybWF0TWVzc2FnZSh0aXRsZS5hcHByb3ZlVGl0bGUpCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAiY29udGVudCIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInAiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJBcHByb3ZlNzAiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiUGxlYXNlIHNldCB0aGUgYW1vdW50IGxpbWl0IHRoYXQgdGhlIHN3YXAgc21hcnQgY29udHJhY3QgY2FuIGRlZHVjdCBmcm9tIHlvdXIgYWNjb3VudC4gV2UgZG8gbm90IHJlY29tbWVuZCBzZXR0aW5nIGFueSBsaW1pdHMuIgogICAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZpZWxkTGFiZWwsIHsKICAgICAgICBpblJvdzogdHJ1ZQogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJBcHByb3ZlNzMiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQW1vdW50IgogICAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KElucHV0LCB7CiAgICAgICAgdmFsdWVMaW5rOiBsaW5rZWQuYW1vdW50LAogICAgICAgIHR5cGU6ICJudW1iZXIiCiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsKICAgICAgICBzdHlsZU5hbWU6ICJidXR0b24iLAogICAgICAgIGJyYW5kOiB0cnVlLAogICAgICAgIGZ1bGxXaWR0aDogdHJ1ZSwKICAgICAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCwKICAgICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUFwcHJvdmUKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAiQXBwcm92ZTgwIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkFwcHJvdmUiCiAgICAgIH0pKSkpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIE9mZmVyOwp9KFJlYWN0LkNvbXBvbmVudCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3MyLCAicHJvcFR5cGVzIiwgewogIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcKfSksIF90ZW1wKSkgfHwgX2NsYXNzKSB8fCBfY2xhc3MpOwpleHBvcnQgeyBPZmZlciBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/front/shared/components/modals/Approve/Approve.tsx"],"names":["React","PropTypes","actions","constants","Link","cssModules","styles","Modal","Button","FieldLabel","Input","FormattedMessage","injectIntl","defineMessages","title","approveTitle","id","defaultMessage","Offer","amount","isSubmitted","state","props","data","contractAddress","name","message","error","setState","token","approve","then","loader","hide","notifications","show","Message","modals","close","Approve","intl","linked","all","isDisabled","check","value","formatMessage","handleApprove","Component","string"],"mappings":"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","sourcesContent":["// @ts-nocheck\r\nimport React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport actions from 'redux/actions'\r\nimport { constants } from 'helpers'\r\n\r\nimport Link from 'local_modules/sw-valuelink'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Approve.scss'\r\n\r\nimport { Modal } from 'components/modal'\r\nimport { Button } from 'components/controls'\r\nimport { FieldLabel, Input } from 'components/forms'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\n\r\nconst title = defineMessages({\r\n  approveTitle: {\r\n    id: 'Approve66',\r\n    defaultMessage: 'Approve token',\r\n  },\r\n})\r\n\r\n@injectIntl\r\n@cssModules(styles)\r\nexport default class Offer extends React.Component<any, any> {\r\n  props: any\r\n\r\n  static propTypes = {\r\n    name: PropTypes.string,\r\n  }\r\n\r\n  state = {\r\n    amount: 999999,\r\n    isSubmitted: false,\r\n  }\r\n\r\n  handleApprove = () => {\r\n    const { amount } = this.state\r\n    const {\r\n      data: { contractAddress, name },\r\n    } = this.props\r\n    const message = `Your approve ${amount} tokens on contract address ${contractAddress}`\r\n    const error = `Please try again later`\r\n\r\n    if (amount <= 0 || !amount) {\r\n      this.setState({\r\n        isSubmitted: true,\r\n      })\r\n      return\r\n    }\r\n    actions.token\r\n      //@\r\n      .approve(name, amount)\r\n      .then(() => {\r\n        actions.loader.hide()\r\n        actions.notifications.show(constants.notifications.Message, { message })\r\n        actions.modals.close(constants.modals.Approve)\r\n      })\r\n      .catch(() => {\r\n        actions.loader.hide()\r\n        actions.notifications.show(constants.notifications.Message, { error })\r\n        actions.modals.close(constants.modals.Approve)\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { name, intl } = this.props\r\n    const { amount, isSubmitted } = this.state\r\n    const linked = Link.all(this, 'amount')\r\n    const isDisabled = !amount\r\n\r\n    if (isSubmitted) {\r\n      linked.amount.check((value) => value <= 0, `Amount must be greater than 1 `)\r\n    }\r\n\r\n    return (\r\n      <Modal name={name} title={intl.formatMessage(title.approveTitle)}>\r\n        <div styleName=\"content\">\r\n          <p>\r\n            <FormattedMessage\r\n              id=\"Approve70\"\r\n              defaultMessage=\"Please set the amount limit that the swap smart contract can deduct from your account. We do not recommend setting any limits.\"\r\n            />\r\n          </p>\r\n          <FieldLabel inRow>\r\n            <FormattedMessage id=\"Approve73\" defaultMessage=\"Amount\" />\r\n          </FieldLabel>\r\n          <Input valueLink={linked.amount} type=\"number\" />\r\n          <Button\r\n            styleName=\"button\"\r\n            brand\r\n            fullWidth\r\n            disabled={isDisabled}\r\n            onClick={this.handleApprove}\r\n          >\r\n            <FormattedMessage id=\"Approve80\" defaultMessage=\"Approve\" />\r\n          </Button>\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n"]}]}