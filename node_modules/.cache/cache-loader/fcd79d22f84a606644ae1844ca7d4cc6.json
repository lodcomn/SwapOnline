{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\components\\Timer\\Timer.ts","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\components\\Timer\\Timer.ts","mtime":1614842913920},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9CgpmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICJ1bmRlZmluZWQiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSAiZnVuY3Rpb24iKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfQoKaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnOwoKdmFyIFRpbWVyQnV0dG9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKFRpbWVyQnV0dG9uLCBfQ29tcG9uZW50KTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihUaW1lckJ1dHRvbik7CgogIGZ1bmN0aW9uIFRpbWVyQnV0dG9uKHByb3BzKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpbWVyQnV0dG9uKTsKCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJ0aW1lciIsIG51bGwpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInRpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB0aW1lTGVmdCA9IF90aGlzLnN0YXRlLnRpbWVMZWZ0OwogICAgICB2YXIgbmV3VGltZUxlZnQgPSB0aW1lTGVmdCAtIDE7CgogICAgICBpZiAobmV3VGltZUxlZnQgPD0gMCkgewogICAgICAgIF90aGlzLnByb3BzLmhhbmRsZUNsaWNrKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXMudGltZXIgPSBzZXRUaW1lb3V0KF90aGlzLnRpY2ssIDEwMDApOwoKICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICB0aW1lTGVmdDogbmV3VGltZUxlZnQKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CgogICAgdmFyIF90aW1lTGVmdCA9IHByb3BzLnRpbWVMZWZ0OwogICAgX3RoaXMuc3RhdGUgPSB7CiAgICAgIHRpbWVMZWZ0OiBfdGltZUxlZnQKICAgIH07CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoVGltZXJCdXR0b24sIFt7CiAgICBrZXk6ICJjb21wb25lbnREaWRNb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICAgIHRoaXMudGljaygpOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBvbmVudFdpbGxVbm1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgdGltZUxlZnQgPSB0aGlzLnN0YXRlLnRpbWVMZWZ0OwogICAgICByZXR1cm4gdGltZUxlZnQ7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gVGltZXJCdXR0b247Cn0oQ29tcG9uZW50KTsKCl9kZWZpbmVQcm9wZXJ0eShUaW1lckJ1dHRvbiwgInByb3BUeXBlcyIsIHsKICB0aW1lTGVmdDogUHJvcFR5cGVzLm51bWJlciwKICAvLyBzZWNvbmRzCiAgaGFuZGxlQ2xpY2s6IFByb3BUeXBlcy5mdW5jCn0pOwoKX2RlZmluZVByb3BlcnR5KFRpbWVyQnV0dG9uLCAiZGVmYXVsdFByb3BzIiwgewogIHRpbWVMZWZ0OiAxMAp9KTsKCmV4cG9ydCB7IFRpbWVyQnV0dG9uIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/front/shared/components/Timer/Timer.ts"],"names":["Component","PropTypes","TimerButton","props","timeLeft","state","newTimeLeft","handleClick","timer","setTimeout","tick","setState","clearTimeout","number","func"],"mappings":";;;;;;;;;;;;AAAA,SAAgBA,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,SAAP,MAAsB,YAAtB;;IAGqBC,W;;;;;AAanB,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,4DAFX,IAEW;;AAAA,2DAkBZ,YAAM;AAAA,UACHC,QADG,GACU,MAAKC,KADf,CACHD,QADG;AAEX,UAAME,WAAW,GAAGF,QAAQ,GAAG,CAA/B;;AAEA,UAAIE,WAAW,IAAI,CAAnB,EAAsB;AACpB,cAAKH,KAAL,CAAWI,WAAX;AACD,OAFD,MAGK;AACH,cAAKC,KAAL,GAAaC,UAAU,CAAC,MAAKC,IAAN,EAAY,IAAZ,CAAvB;;AACA,cAAKC,QAAL,CAAc;AACZP,UAAAA,QAAQ,EAAEE;AADE,SAAd;AAGD;AACF,KA/BkB;;AAAA,QAGTF,SAHS,GAGID,KAHJ,CAGTC,QAHS;AAKjB,UAAKC,KAAL,GAAa;AACXD,MAAAA,QAAQ,EAARA;AADW,KAAb;AALiB;AAQlB;;;;WAED,6BAAoB;AAClB,WAAKM,IAAL;AACD;;;WAED,gCAAuB;AACrBE,MAAAA,YAAY,CAAC,KAAKJ,KAAN,CAAZ;AACD;;;WAiBD,kBAAS;AAAA,UACCJ,QADD,GACc,KAAKC,KADnB,CACCD,QADD;AAGP,aAAOA,QAAP;AACD;;;;EAlDsCJ,S;;gBAApBE,W,eAEA;AACjBE,EAAAA,QAAQ,EAAEH,SAAS,CAACY,MADH;AACW;AAC5BN,EAAAA,WAAW,EAAEN,SAAS,CAACa;AAFN,C;;gBAFAZ,W,kBAOG;AACpBE,EAAAA,QAAQ,EAAE;AADU,C;;SAPHF,W","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nexport default class TimerButton extends Component<any, any> {\r\n\r\n  static propTypes = {\r\n    timeLeft: PropTypes.number, // seconds\r\n    handleClick: PropTypes.func,\r\n  }\r\n\r\n  static defaultProps = {\r\n    timeLeft: 10,\r\n  }\r\n\r\n  timer = null\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const { timeLeft } = props\r\n\r\n    this.state = {\r\n      timeLeft,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.tick()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(this.timer)\r\n  }\r\n\r\n  tick = () => {\r\n    const { timeLeft } = this.state\r\n    const newTimeLeft = timeLeft - 1\r\n\r\n    if (newTimeLeft <= 0) {\r\n      this.props.handleClick()\r\n    }\r\n    else {\r\n      this.timer = setTimeout(this.tick, 1000)\r\n      this.setState({\r\n        timeLeft: newTimeLeft,\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { timeLeft } = this.state\r\n\r\n    return timeLeft\r\n  }\r\n}\r\n"]}]}