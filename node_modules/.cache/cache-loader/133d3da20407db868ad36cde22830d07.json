{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\components\\Header\\Header.tsx","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\components\\Header\\Header.tsx","mtime":1614851133106},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI7CmltcG9ydCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSI7Cgp2YXIgX2RlYywgX2RlYzIsIF9jbGFzcywgX2NsYXNzMiwgX3RlbXA7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICJAYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvciI7CgpmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfQoKZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH0KCi8vIEB0cy1ub2NoZWNrCgovKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovCmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7CmltcG9ydCBjeCBmcm9tICdjbGFzc25hbWVzJzsKaW1wb3J0IHsgd2l0aFJvdXRlciB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwppbXBvcnQgeyBpc01vYmlsZSB9IGZyb20gJ3JlYWN0LWRldmljZS1kZXRlY3QnOwppbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVkYWN0aW9uJzsKaW1wb3J0IGxpbmtzIGZyb20gJ2hlbHBlcnMvbGlua3MnOwppbXBvcnQgYWN0aW9ucyBmcm9tICdyZWR1eC9hY3Rpb25zJzsKaW1wb3J0IHsgY29uc3RhbnRzIH0gZnJvbSAnaGVscGVycyc7CmltcG9ydCBjb25maWcgZnJvbSAnaGVscGVycy9leHRlcm5hbENvbmZpZyc7CmltcG9ydCB7IGluamVjdEludGwsIEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICdyZWFjdC1pbnRsJzsKaW1wb3J0IENTU01vZHVsZXMgZnJvbSAncmVhY3QtY3NzLW1vZHVsZXMnOwppbXBvcnQgc3R5bGVzIGZyb20gJy4vSGVhZGVyLnNjc3MnOwppbXBvcnQgTmF2IGZyb20gJy4vTmF2L05hdic7CmltcG9ydCBOYXZNb2JpbGUgZnJvbSAnLi9OYXZNb2JpbGUvTmF2TW9iaWxlJzsKaW1wb3J0IExvZ28gZnJvbSAnLi9Mb2dvL0xvZ28nOwppbXBvcnQgVG91clBhcnRpYWwgZnJvbSAnLi9Ub3VyUGFydGlhbC9Ub3VyUGFydGlhbCc7CmltcG9ydCBXYWxsZXRUb3VyIGZyb20gJy4vV2FsbGV0VG91ci9XYWxsZXRUb3VyJzsKaW1wb3J0IHsgV2lkZ2V0V2FsbGV0VG91ciB9IGZyb20gJy4vV2lkZ2V0VG91cnMnOwppbXBvcnQgTG9hZGVyIGZyb20gJ2NvbXBvbmVudHMvbG9hZGVycy9Mb2FkZXIvTG9hZGVyJzsKaW1wb3J0IHsgbG9jYWxpc2VkVXJsLCB1bmxvY2FsaXNlZFVybCB9IGZyb20gJy4uLy4uL2hlbHBlcnMvbG9jYWxlJzsKaW1wb3J0IHsgbWVzc2FnZXMsIGdldE1lbnVJdGVtcywgZ2V0TWVudUl0ZW1zTW9iaWxlIH0gZnJvbSAnLi9jb25maWcnOwppbXBvcnQgeyBnZXRBY3RpdmF0ZWRDdXJyZW5jaWVzIH0gZnJvbSAnaGVscGVycy91c2VyJzsKaW1wb3J0IHsgVGhlbWVTd2l0Y2hlciB9IGZyb20gJy4vVGhlbWVTd2l0Y2hlcic7IC8vIEluY29taW5nIHN3YXAgcmVxdWVzdHMgYW5kIHRvb2x0aXBzIChyZXZlcnQpCgppbXBvcnQgVXNlclRvb2x0aXAgZnJvbSAnY29tcG9uZW50cy9IZWFkZXIvVXNlci9Vc2VyVG9vbHRpcC9Vc2VyVG9vbHRpcCc7CmltcG9ydCBmZWVkYmFjayBmcm9tICdzaGFyZWQvaGVscGVycy9mZWVkYmFjayc7CmltcG9ydCB3cExvZ291dE1vZGFsIGZyb20gJ2hlbHBlcnMvd3BMb2dvdXRNb2RhbCc7Ci8qIHVuY29tbWVudCB0byBkZWJ1ZyAqLwovL3dpbmRvdy5pc1VzZXJSZWdpc3RlcmVkQW5kTG9nZ2VkSW4gPSB0cnVlCgp2YXIgaXNXaWRnZXRCdWlsZCA9IGNvbmZpZyAmJiBjb25maWcuaXNXaWRnZXQ7CnZhciBpc0RhcmsgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShjb25zdGFudHMubG9jYWxTdG9yYWdlLmlzRGFyayk7CnZhciBIZWFkZXIgPSAoX2RlYyA9IGNvbm5lY3QoewogIGZlZWRzOiAnZmVlZHMuaXRlbXMnLAogIHBlZXI6ICdwdWJzdWJSb29tLnBlZXInLAogIGlzU2lnbmVkOiAnc2lnblVwLmlzU2lnbmVkJywKICBpc0lucHV0QWN0aXZlOiAnaW5wdXRBY3RpdmUuaXNJbnB1dEFjdGl2ZScsCiAgcmVwdXRhdGlvbjogJ3B1YnN1YlJvb20ucmVwdXRhdGlvbicsCiAgbW9kYWxzOiAnbW9kYWxzJywKICBoaWRkZW5Db2luc0xpc3Q6ICdjb3JlLmhpZGRlbkNvaW5zTGlzdCcKfSksIF9kZWMyID0gQ1NTTW9kdWxlcyhzdHlsZXMsIHsKICBhbGxvd011bHRpcGxlOiB0cnVlCn0pLCBpbmplY3RJbnRsKF9jbGFzcyA9IHdpdGhSb3V0ZXIoX2NsYXNzID0gX2RlYyhfY2xhc3MgPSBfZGVjMihfY2xhc3MgPSAoX3RlbXAgPSBfY2xhc3MyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKEhlYWRlciwgX0NvbXBvbmVudCk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoSGVhZGVyKTsKCiAgZnVuY3Rpb24gSGVhZGVyKHByb3BzKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhlYWRlcik7CgogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAibGFzdFNjcm9sbFRvcCIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiaGFuZGxlckFzeW5jIiwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgaGlzdG9yeTsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaGlzdG9yeSA9IF90aGlzLnByb3BzLmhpc3Rvcnk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy50YXBDcmVhdGVXYWxsZXRCdXR0b24oKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfdGhpcy5zdGFydFRvdXJBbmRTaWduSW5Nb2RhbCgpOwoKICAgICAgICAgICAgICBoaXN0b3J5Lmxpc3RlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUobG9jYXRpb24pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMudGFwQ3JlYXRlV2FsbGV0QnV0dG9uKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbgogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXJ0VG91ckFuZFNpZ25Jbk1vZGFsKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbgogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJ0YXBDcmVhdGVXYWxsZXRCdXR0b24iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBjdXN0b21Qcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIHZhciBmaW5pc2hQcm9wcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXMucHJvcHMpLCBjdXN0b21Qcm9wcyk7IC8vQAoKCiAgICAgICAgdmFyIGxvY2F0aW9uID0gZmluaXNoUHJvcHMubG9jYXRpb24sCiAgICAgICAgICAgIGludGwgPSBmaW5pc2hQcm9wcy5pbnRsOwogICAgICAgIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lOwogICAgICAgIHZhciB3YWxsZXQgPSBsaW5rcy53YWxsZXQsCiAgICAgICAgICAgIGhvbWUgPSBsaW5rcy5ob21lOwogICAgICAgIHZhciBpc1dhbGxldENyZWF0ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGNvbnN0YW50cy5sb2NhbFN0b3JhZ2UuaXNXYWxsZXRDcmVhdGUpOwoKICAgICAgICBpZiAoY29uZmlnICYmIGNvbmZpZy5pc1dpZGdldCkgewogICAgICAgICAgLy9ACiAgICAgICAgICBpc1dhbGxldENyZWF0ZSA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICB2YXIgaXNXYWxsZXRQYWdlID0gcGF0aG5hbWUgPT09IHdhbGxldCB8fCBwYXRobmFtZSA9PT0gIi9ydSIuY29uY2F0KHdhbGxldCk7CgogICAgICAgIGlmIChpc1dhbGxldFBhZ2UgJiYgIWlzV2FsbGV0Q3JlYXRlKSB7CiAgICAgICAgICAvL0AKICAgICAgICAgIGlzV2FsbGV0Q3JlYXRlID0gdHJ1ZTsKCiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgbWVudUl0ZW1zOiBnZXRNZW51SXRlbXMoX3RoaXMucHJvcHMsIGlzV2FsbGV0Q3JlYXRlKSwKICAgICAgICAgICAgICAvL0AKICAgICAgICAgICAgICBtZW51SXRlbXNNb2JpbGU6IGdldE1lbnVJdGVtc01vYmlsZShfdGhpcy5wcm9wcywgaXNXYWxsZXRDcmVhdGUpLAogICAgICAgICAgICAgIGNyZWF0ZWRXYWxsZXRMb2FkZXI6IHRydWUKICAgICAgICAgICAgfTsKICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgY3JlYXRlZFdhbGxldExvYWRlcjogZmFsc2UKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgICAgICAgIH0sIDQwMDApOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInN0YXJ0VG91ckFuZFNpZ25Jbk1vZGFsIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgY3VzdG9tUHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwoKICAgICAgdmFyIGZpbmlzaFByb3BzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfdGhpcy5wcm9wcyksIGN1c3RvbVByb3BzKTsKCiAgICAgIHZhciBfY29uc3RhbnRzJGxvY2FsU3RvcmEgPSBjb25zdGFudHMubG9jYWxTdG9yYWdlLAogICAgICAgICAgd2FzT25FeGNoYW5nZSA9IF9jb25zdGFudHMkbG9jYWxTdG9yYS53YXNPbkV4Y2hhbmdlLAogICAgICAgICAgd2FzT25XYWxsZXQgPSBfY29uc3RhbnRzJGxvY2FsU3RvcmEud2FzT25XYWxsZXQsCiAgICAgICAgICBpc1dhbGxldENyZWF0ZSA9IF9jb25zdGFudHMkbG9jYWxTdG9yYS5pc1dhbGxldENyZWF0ZSwKICAgICAgICAgIHdhc09uV2lkZ2V0V2FsbGV0ID0gX2NvbnN0YW50cyRsb2NhbFN0b3JhLndhc09uV2lkZ2V0V2FsbGV0OwogICAgICB2YXIgaGlkZGVuQ29pbnNMaXN0ID0gZmluaXNoUHJvcHMuaGlkZGVuQ29pbnNMaXN0LAogICAgICAgICAgX2ZpbmlzaFByb3BzJGxvY2F0aW9uID0gZmluaXNoUHJvcHMubG9jYXRpb24sCiAgICAgICAgICBoYXNoID0gX2ZpbmlzaFByb3BzJGxvY2F0aW9uLmhhc2gsCiAgICAgICAgICBwYXRobmFtZSA9IF9maW5pc2hQcm9wcyRsb2NhdGlvbi5wYXRobmFtZTsKICAgICAgdmFyIHdhbGxldCA9IGxpbmtzLndhbGxldCwKICAgICAgICAgIGV4Y2hhbmdlID0gbGlua3MuZXhjaGFuZ2U7CiAgICAgIHZhciBpc0d1ZXN0TGluayA9ICEoIWhhc2ggfHwgaGFzaC5zbGljZSgxKSAhPT0gJ2d1ZXN0Jyk7CgogICAgICBpZiAoaXNHdWVzdExpbmspIHsKICAgICAgICAvL0AKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh3YXNPbldhbGxldCwgdHJ1ZSk7IC8vQAoKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh3YXNPbkV4Y2hhbmdlLCB0cnVlKTsgLy9ACgogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHdhc09uV2lkZ2V0V2FsbGV0LCB0cnVlKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbWVudUl0ZW1zOiBnZXRNZW51SXRlbXMoX3RoaXMucHJvcHMsIHRydWUpLAogICAgICAgICAgLy9ACiAgICAgICAgICBtZW51SXRlbXNNb2JpbGU6IGdldE1lbnVJdGVtc01vYmlsZShfdGhpcy5wcm9wcywgdHJ1ZSkKICAgICAgICB9OwogICAgICB9KTsKCiAgICAgIHZhciBwYXRoID0gcGF0aG5hbWUudG9Mb3dlckNhc2UoKTsKICAgICAgdmFyIGlzV2FsbGV0UGFnZSA9IHBhdGguaW5jbHVkZXMod2FsbGV0KSB8fCBwYXRoID09PSAiLyIgfHwgcGF0aCA9PT0gJy9ydSc7CiAgICAgIHZhciBpc1BhcnRpYWxQYWdlID0gcGF0aC5pbmNsdWRlcyhleGNoYW5nZSkgfHwgcGF0aCA9PT0gIi9ydSIuY29uY2F0KGV4Y2hhbmdlKTsKICAgICAgdmFyIGRpZE9wZW5XYWxsZXRDcmVhdGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShpc1dhbGxldENyZWF0ZSk7CiAgICAgIHZhciB3YXNPbldhbGxldExzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0od2FzT25XYWxsZXQpOwogICAgICB2YXIgd2FzT25FeGNoYW5nZUxzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0od2FzT25FeGNoYW5nZSk7CiAgICAgIHZhciB3YXNPbldpZGdldFdhbGxldExzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0od2FzT25XaWRnZXRXYWxsZXQpOwoKICAgICAgdmFyIHRvdXJFdmVudCA9IGZ1bmN0aW9uIHRvdXJFdmVudCgpIHt9OwoKICAgICAgdmFyIGFsbERhdGEgPSBhY3Rpb25zLmNvcmUuZ2V0V2FsbGV0cyh7fSk7CiAgICAgIHZhciB3aWRnZXRDdXJyZW5jaWVzID0gWydCVEMnLCAnRVRIJ107CiAgICAgIHZhciBvcHRpb25zYWxDdXIgPSBbJ0JUQyAoU01TLVByb3RlY3RlZCknLCAnQlRDIChNdWx0aXNpZyknLCAnQlRDIChQSU4tUHJvdGVjdGVkKSddOwogICAgICBvcHRpb25zYWxDdXIuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHsKICAgICAgICBpZiAoIWhpZGRlbkNvaW5zTGlzdC5pbmNsdWRlcyhlbCkpIHsKICAgICAgICAgIHdpZGdldEN1cnJlbmNpZXMucHVzaChlbCk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmIChpc1dpZGdldEJ1aWxkKSB7CiAgICAgICAgaWYgKHdpbmRvdy53aWRnZXRFUkMyMFRva2VucyAmJiBPYmplY3Qua2V5cyh3aW5kb3cud2lkZ2V0RVJDMjBUb2tlbnMpLmxlbmd0aCkgewogICAgICAgICAgLy8gTXVsdGkgdG9rZW4gd2lkZ2V0IGJ1aWxkCiAgICAgICAgICBPYmplY3Qua2V5cyh3aW5kb3cud2lkZ2V0RVJDMjBUb2tlbnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICB3aWRnZXRDdXJyZW5jaWVzLnB1c2goa2V5LnRvVXBwZXJDYXNlKCkpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHdpZGdldEN1cnJlbmNpZXMucHVzaChjb25maWcuZXJjMjB0b2tlbi50b1VwcGVyQ2FzZSgpKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciB1c2VyQ3VycmVuY2llcyA9IGFsbERhdGEuZmlsdGVyKGZ1bmN0aW9uIChfcmVmMykgewogICAgICAgIHZhciBjdXJyZW5jeSA9IF9yZWYzLmN1cnJlbmN5LAogICAgICAgICAgICBhZGRyZXNzID0gX3JlZjMuYWRkcmVzcywKICAgICAgICAgICAgYmFsYW5jZSA9IF9yZWYzLmJhbGFuY2U7CiAgICAgICAgcmV0dXJuICFoaWRkZW5Db2luc0xpc3QuaW5jbHVkZXMoY3VycmVuY3kpICYmICFoaWRkZW5Db2luc0xpc3QuaW5jbHVkZXMoIiIuY29uY2F0KGN1cnJlbmN5LCAiOiIpLmNvbmNhdChhZGRyZXNzKSkgfHwgYmFsYW5jZSA+IDA7CiAgICAgIH0pOwoKICAgICAgaWYgKGlzV2lkZ2V0QnVpbGQpIHsKICAgICAgICB1c2VyQ3VycmVuY2llcyA9IGFsbERhdGEuZmlsdGVyKGZ1bmN0aW9uIChfcmVmNCkgewogICAgICAgICAgdmFyIGN1cnJlbmN5ID0gX3JlZjQuY3VycmVuY3ksCiAgICAgICAgICAgICAgYWRkcmVzcyA9IF9yZWY0LmFkZHJlc3M7CiAgICAgICAgICByZXR1cm4gIWhpZGRlbkNvaW5zTGlzdC5pbmNsdWRlcyhjdXJyZW5jeSkgJiYgIWhpZGRlbkNvaW5zTGlzdC5pbmNsdWRlcygiIi5jb25jYXQoY3VycmVuY3ksICI6IikuY29uY2F0KGFkZHJlc3MpKTsKICAgICAgICB9KTsKICAgICAgICB1c2VyQ3VycmVuY2llcyA9IHVzZXJDdXJyZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoX3JlZjUpIHsKICAgICAgICAgIHZhciBjdXJyZW5jeSA9IF9yZWY1LmN1cnJlbmN5OwogICAgICAgICAgcmV0dXJuIHdpZGdldEN1cnJlbmNpZXMuaW5jbHVkZXMoY3VycmVuY3kpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICB1c2VyQ3VycmVuY2llcyA9IHVzZXJDdXJyZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoX3JlZjYpIHsKICAgICAgICB2YXIgY3VycmVuY3kgPSBfcmVmNi5jdXJyZW5jeTsKICAgICAgICByZXR1cm4gZ2V0QWN0aXZhdGVkQ3VycmVuY2llcygpLmluY2x1ZGVzKGN1cnJlbmN5KTsKICAgICAgfSk7CgogICAgICBzd2l0Y2ggKHRydWUpIHsKICAgICAgICBjYXNlIGlzV2FsbGV0UGFnZSAmJiAhd2FzT25XYWxsZXRMczoKICAgICAgICAgIHRvdXJFdmVudCA9IF90aGlzLm9wZW5XYWxsZXRUb3VyOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgaXNQYXJ0aWFsUGFnZSAmJiAhd2FzT25FeGNoYW5nZUxzOgogICAgICAgICAgdG91ckV2ZW50ID0gX3RoaXMub3BlbkV4Y2hhbmdlVG91cjsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIGlzV2lkZ2V0QnVpbGQgJiYgIXdhc09uV2lkZ2V0V2FsbGV0THM6CiAgICAgICAgICB0b3VyRXZlbnQgPSBfdGhpcy5vcGVuV2lkZ2V0V2FsbGV0VG91cjsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICF1c2VyQ3VycmVuY2llcy5sZW5ndGggJiYgaXNXYWxsZXRQYWdlICYmICFjb25maWcub3B0cy5wbHVnaW5zLmJhY2t1cFBsdWdpbjoKICAgICAgICAgIF90aGlzLm9wZW5DcmVhdGVXYWxsZXQoewogICAgICAgICAgICBvbkNsb3NlOiB0b3VyRXZlbnQKICAgICAgICAgIH0pOwoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoIWRpZE9wZW5XYWxsZXRDcmVhdGUgJiYgaXNXYWxsZXRQYWdlICYmICFjb25maWcub3B0cy5wbHVnaW5zLmJhY2t1cFBsdWdpbikgewogICAgICAgIF90aGlzLm9wZW5DcmVhdGVXYWxsZXQoewogICAgICAgICAgb25DbG9zZTogdG91ckV2ZW50CiAgICAgICAgfSk7CgogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdG91ckV2ZW50KCk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJjbG9zZVRvdXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaXNUb3VyT3BlbjogZmFsc2UKICAgICAgICB9OwogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImNsb3NlV2lkZ2V0VG91ciIsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpc1dpZGdldFRvdXJPcGVuOiBmYWxzZQogICAgICAgIH07CiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiY2xvc2VQYXJ0aWFsVG91ciIsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpc1BhcnRpYWxUb3VyT3BlbjogZmFsc2UKICAgICAgICB9OwogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIm9wZW5DcmVhdGVXYWxsZXQiLCBmdW5jdGlvbiAob3B0aW9ucykgewogICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcywKICAgICAgICAgIGhpc3RvcnkgPSBfdGhpcyRwcm9wcy5oaXN0b3J5LAogICAgICAgICAgbG9jYWxlID0gX3RoaXMkcHJvcHMuaW50bC5sb2NhbGU7CiAgICAgIGhpc3RvcnkucHVzaChsb2NhbGlzZWRVcmwobG9jYWxlLCBsaW5rcy5jcmVhdGVXYWxsZXQpKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIm9wZW5XYWxsZXRUb3VyIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgd2FzT25XYWxsZXQgPSBjb25zdGFudHMubG9jYWxTdG9yYWdlLndhc09uV2FsbGV0OwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBpc1RvdXJPcGVuOiB0cnVlCiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICB9LCAxMDAwKTsgLy9ACgogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh3YXNPbldhbGxldCwgdHJ1ZSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvcGVuV2lkZ2V0V2FsbGV0VG91ciIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHdhc09uV2lkZ2V0V2FsbGV0ID0gY29uc3RhbnRzLmxvY2FsU3RvcmFnZS53YXNPbldpZGdldFdhbGxldDsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaXNXaWRnZXRUb3VyT3BlbjogdHJ1ZQogICAgICAgICAgfTsKICAgICAgICB9KTsKICAgICAgfSwgMTAwMCk7IC8vQAoKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0od2FzT25XaWRnZXRXYWxsZXQsIHRydWUpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib3BlbkV4Y2hhbmdlVG91ciIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHdhc09uRXhjaGFuZ2UgPSBjb25zdGFudHMubG9jYWxTdG9yYWdlLndhc09uRXhjaGFuZ2U7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlzUGFydGlhbFRvdXJPcGVuOiB0cnVlCiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICB9LCAxMDAwKTsgLy9ACgogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh3YXNPbkV4Y2hhbmdlLCB0cnVlKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImhhbmRsZVNldERhcmsiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdGhlbWVTd2FwQW5pbWF0aW9uOiB0cnVlCiAgICAgICAgfTsKICAgICAgfSk7CgogICAgICB2YXIgd2FzRGFyayA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGNvbnN0YW50cy5sb2NhbFN0b3JhZ2UuaXNEYXJrKTsKICAgICAgZmVlZGJhY2sudGhlbWUuc3dpdGNoZWQod2FzRGFyayA/ICdicmlnaHQnIDogJ2RhcmsnKTsKCiAgICAgIGlmICh3YXNEYXJrKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oY29uc3RhbnRzLmxvY2FsU3RvcmFnZS5pc0RhcmspOwogICAgICB9IGVsc2UgewogICAgICAgIC8vQAogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGNvbnN0YW50cy5sb2NhbFN0b3JhZ2UuaXNEYXJrLCB0cnVlKTsKICAgICAgfQoKICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZGVjbGluZVJlcXVlc3QiLCBmdW5jdGlvbiAob3JkZXJJZCwgcGFydGljaXBhbnRQZWVyKSB7CiAgICAgIGFjdGlvbnMuY29yZS5kZWNsaW5lUmVxdWVzdChvcmRlcklkLCBwYXJ0aWNpcGFudFBlZXIpOwogICAgICBhY3Rpb25zLmNvcmUudXBkYXRlQ29yZSgpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiYWNjZXB0UmVxdWVzdCIsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmNyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKG9yZGVySWQsIHBhcnRpY2lwYW50UGVlciwgbGluaykgewogICAgICAgIHZhciBfdGhpcyRwcm9wczIsIHRvZ2dsZSwgaGlzdG9yeSwgbG9jYWxlOwoKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzJHByb3BzMiA9IF90aGlzLnByb3BzLCB0b2dnbGUgPSBfdGhpcyRwcm9wczIudG9nZ2xlLCBoaXN0b3J5ID0gX3RoaXMkcHJvcHMyLmhpc3RvcnksIGxvY2FsZSA9IF90aGlzJHByb3BzMi5pbnRsLmxvY2FsZTsKICAgICAgICAgICAgICAgIGFjdGlvbnMuY29yZS5hY2NlcHRSZXF1ZXN0KG9yZGVySWQsIHBhcnRpY2lwYW50UGVlcik7CiAgICAgICAgICAgICAgICBhY3Rpb25zLmNvcmUudXBkYXRlQ29yZSgpOwoKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG9nZ2xlID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgICAgICAgIHRvZ2dsZSgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCctQWNjZXB0aW5nIHJlcXVlc3QnLCBsaW5rKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJSZWRpcmVjdCB0byBzd2FwOiAiLmNvbmNhdChsaW5rKSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gaGlzdG9yeS5yZXBsYWNlKGxvY2FsaXNlZFVybChsb2NhbGUsIGxpbmspKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBoaXN0b3J5LnB1c2gobG9jYWxpc2VkVXJsKGxvY2FsZSwgbGluaykpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIsIF94MywgX3g0KSB7CiAgICAgICAgcmV0dXJuIF9yZWY3LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImhhbmRsZUxvZ291dCIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGludGwgPSBfdGhpcy5wcm9wcy5pbnRsOwogICAgICB3cExvZ291dE1vZGFsKF90aGlzLmhhbmRsZUxvZ291dCwgaW50bCk7CiAgICB9KTsKCiAgICB2YXIgX3Byb3BzJG1hdGNoJHBhcmFtcyRwID0gcHJvcHMubWF0Y2gucGFyYW1zLnBhZ2UsCiAgICAgICAgcGFnZSA9IF9wcm9wcyRtYXRjaCRwYXJhbXMkcCA9PT0gdm9pZCAwID8gbnVsbCA6IF9wcm9wcyRtYXRjaCRwYXJhbXMkcCwKICAgICAgICBfcGF0aG5hbWUgPSBwcm9wcy5sb2NhdGlvbi5wYXRobmFtZSwKICAgICAgICBfaW50bCA9IHByb3BzLmludGw7CiAgICB2YXIgX2V4Y2hhbmdlID0gbGlua3MuZXhjaGFuZ2UsCiAgICAgICAgaG9tZSA9IGxpbmtzLmhvbWUsCiAgICAgICAgX3dhbGxldCA9IGxpbmtzLndhbGxldCwKICAgICAgICBoaXN0b3J5TGluayA9IGxpbmtzLmhpc3Rvcnk7CiAgICB2YXIgcHJvZHVjdHMgPSBtZXNzYWdlcy5wcm9kdWN0cywKICAgICAgICBpbnZlc3QgPSBtZXNzYWdlcy5pbnZlc3QsCiAgICAgICAgX2hpc3RvcnkgPSBtZXNzYWdlcy5oaXN0b3J5OwogICAgdmFyIF9pc1dhbGxldENyZWF0ZSA9IGNvbnN0YW50cy5sb2NhbFN0b3JhZ2UuaXNXYWxsZXRDcmVhdGU7CiAgICB2YXIgZGluYW1pY1BhdGggPSBfcGF0aG5hbWUuaW5jbHVkZXMoX2V4Y2hhbmdlKSA/ICIiLmNvbmNhdCh1bmxvY2FsaXNlZFVybChfaW50bC5sb2NhbGUsIF9wYXRobmFtZSkpIDogIiIuY29uY2F0KGhvbWUpOwogICAgdmFyIGxzV2FsbGV0Q3JlYXRlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKF9pc1dhbGxldENyZWF0ZSk7CgogICAgaWYgKGNvbmZpZyAmJiBjb25maWcuaXNXaWRnZXQpIHsKICAgICAgbHNXYWxsZXRDcmVhdGVkID0gdHJ1ZTsKICAgIH0KCiAgICB2YXIgX2lzV2FsbGV0UGFnZSA9IF9wYXRobmFtZSA9PT0gX3dhbGxldCB8fCBfcGF0aG5hbWUgPT09ICIvcnUiLmNvbmNhdChfd2FsbGV0KTsKCiAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgaXNQYXJ0aWFsVG91ck9wZW46IGZhbHNlLAogICAgICBwYXRoOiBmYWxzZSwKICAgICAgaXNUb3VyT3BlbjogZmFsc2UsCiAgICAgIGlzV2FsbGV0OiBmYWxzZSwKICAgICAgbWVudUl0ZW1zRmlsbDogW3sKICAgICAgICB0aXRsZTogX2ludGwuZm9ybWF0TWVzc2FnZShwcm9kdWN0cyksCiAgICAgICAgbGluazogJ29wZW5NeVNlc2FtUGxlYXNlJywKICAgICAgICBleGFjdDogdHJ1ZSwKICAgICAgICBoYXZlU3VibWVudTogdHJ1ZSwKICAgICAgICBpY29uOiAncHJvZHVjdHMnLAogICAgICAgIGN1cnJlbnRQYWdlRmxhZzogdHJ1ZQogICAgICB9LCAhY29uZmlnLm9wdHMuZXhjaGFuZ2VEaXNhYmxlZCAmJiB7CiAgICAgICAgdGl0bGU6IF9pbnRsLmZvcm1hdE1lc3NhZ2UoaW52ZXN0KSwKICAgICAgICBsaW5rOiAnZXhjaGFuZ2UvYnRjLXRvLWV0aCcsCiAgICAgICAgaWNvbjogJ2ludmVzdCcsCiAgICAgICAgaGF2ZVN1Ym1lbnU6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogX2ludGwuZm9ybWF0TWVzc2FnZShfaGlzdG9yeSksCiAgICAgICAgbGluazogaGlzdG9yeUxpbmssCiAgICAgICAgaWNvbjogJ2hpc3RvcnknLAogICAgICAgIGhhdmVTdWJtZW51OiBmYWxzZQogICAgICB9XSwKICAgICAgLy9ACiAgICAgIG1lbnVJdGVtczogZ2V0TWVudUl0ZW1zKHByb3BzLCBsc1dhbGxldENyZWF0ZWQsIGRpbmFtaWNQYXRoKSwKICAgICAgbWVudUl0ZW1zTW9iaWxlOiBnZXRNZW51SXRlbXNNb2JpbGUocHJvcHMsIGxzV2FsbGV0Q3JlYXRlZCwgZGluYW1pY1BhdGgpLAogICAgICBjcmVhdGVkV2FsbGV0TG9hZGVyOiBfaXNXYWxsZXRQYWdlICYmICFsc1dhbGxldENyZWF0ZWQKICAgIH07CiAgICBfdGhpcy5sYXN0U2Nyb2xsVG9wID0gMDsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhIZWFkZXIsIFt7CiAgICBrZXk6ICJjb21wb25lbnREaWRNb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICAgIHRoaXMuaGFuZGxlckFzeW5jKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfY3g7CgogICAgICB2YXIgX3RoaXMkc3RhdGUgPSB0aGlzLnN0YXRlLAogICAgICAgICAgaXNUb3VyT3BlbiA9IF90aGlzJHN0YXRlLmlzVG91ck9wZW4sCiAgICAgICAgICBwYXRoID0gX3RoaXMkc3RhdGUucGF0aCwKICAgICAgICAgIGlzUGFydGlhbFRvdXJPcGVuID0gX3RoaXMkc3RhdGUuaXNQYXJ0aWFsVG91ck9wZW4sCiAgICAgICAgICBtZW51SXRlbXMgPSBfdGhpcyRzdGF0ZS5tZW51SXRlbXMsCiAgICAgICAgICBtZW51SXRlbXNNb2JpbGUgPSBfdGhpcyRzdGF0ZS5tZW51SXRlbXNNb2JpbGUsCiAgICAgICAgICBjcmVhdGVkV2FsbGV0TG9hZGVyID0gX3RoaXMkc3RhdGUuY3JlYXRlZFdhbGxldExvYWRlciwKICAgICAgICAgIGlzV2lkZ2V0VG91ck9wZW4gPSBfdGhpcyRzdGF0ZS5pc1dpZGdldFRvdXJPcGVuLAogICAgICAgICAgdGhlbWVTd2FwQW5pbWF0aW9uID0gX3RoaXMkc3RhdGUudGhlbWVTd2FwQW5pbWF0aW9uOwogICAgICB2YXIgX3RoaXMkcHJvcHMzID0gdGhpcy5wcm9wcywKICAgICAgICAgIF90aGlzJHByb3BzMyRpbnRsID0gX3RoaXMkcHJvcHMzLmludGwsCiAgICAgICAgICBmb3JtYXRNZXNzYWdlID0gX3RoaXMkcHJvcHMzJGludGwuZm9ybWF0TWVzc2FnZSwKICAgICAgICAgIGxvY2FsZSA9IF90aGlzJHByb3BzMyRpbnRsLmxvY2FsZSwKICAgICAgICAgIHBhdGhuYW1lID0gX3RoaXMkcHJvcHMzLmhpc3RvcnkubG9jYXRpb24ucGF0aG5hbWUsCiAgICAgICAgICBmZWVkcyA9IF90aGlzJHByb3BzMy5mZWVkcywKICAgICAgICAgIHBlZXIgPSBfdGhpcyRwcm9wczMucGVlciwKICAgICAgICAgIGlzU2lnbmVkID0gX3RoaXMkcHJvcHMzLmlzU2lnbmVkLAogICAgICAgICAgaXNJbnB1dEFjdGl2ZSA9IF90aGlzJHByb3BzMy5pc0lucHV0QWN0aXZlOwogICAgICB2YXIgZXhjaGFuZ2UgPSBsaW5rcy5leGNoYW5nZSwKICAgICAgICAgIHdhbGxldCA9IGxpbmtzLndhbGxldDsKICAgICAgdmFyIGlzV2FsbGV0UGFnZSA9IHBhdGhuYW1lLmluY2x1ZGVzKHdhbGxldCkgfHwgcGF0aG5hbWUgPT09ICIvcnUiLmNvbmNhdCh3YWxsZXQpIHx8IHBhdGhuYW1lID09PSAiLyI7CiAgICAgIHZhciBpc0V4Y2hhbmdlID0gcGF0aG5hbWUuaW5jbHVkZXMoZXhjaGFuZ2UpOwogICAgICB2YXIgaXNMb2dvdXRQb3NzaWJsZSA9IHdpbmRvdy5pc1VzZXJSZWdpc3RlcmVkQW5kTG9nZ2VkSW47CiAgICAgIHZhciBsb2dvUmVuZGVyZXIgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIHN0eWxlTmFtZTogImZsZXhlYmxlSGVhZGVyIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTG9nbywgbnVsbCkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIHN0eWxlTmFtZTogInJpZ2h0QXJlYSIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGhlbWVTd2l0Y2hlciwgewogICAgICAgIHRoZW1lU3dhcEFuaW1hdGlvbjogdGhlbWVTd2FwQW5pbWF0aW9uLAogICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU2V0RGFyawogICAgICB9KSwgaXNMb2dvdXRQb3NzaWJsZSAmJgogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIC8vIHNvbWUgd29yZHByZXNzIHBsdWdpbiBjYXNlcwogICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAibG9nb3V0V3JhcHBlciAiLmNvbmNhdChpc0RhcmsgPyAnZGFyaycgOiAnJyksCiAgICAgICAgb25DbGljazogdGhpcy5oYW5kbGVMb2dvdXQKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImkiLCB7CiAgICAgICAgY2xhc3NOYW1lOiAiZmFzIGZhLXNpZ24tb3V0LWFsdCIKICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogIkV4aXRXaWRnZXQiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiRXhpdCIKICAgICAgfSkpKSk7CgogICAgICBpZiAocGF0aG5hbWUuaW5jbHVkZXMoJy9jcmVhdGVXYWxsZXQnKSAmJiBpc01vYmlsZSkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwpOwogICAgICB9CgogICAgICB2YXIgaW5jb21pbmdTd2FwUmVxdWVzdCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFVzZXJUb29sdGlwLCB7CiAgICAgICAgZmVlZHM6IGZlZWRzLAogICAgICAgIHBlZXI6IHBlZXIsCiAgICAgICAgYWNjZXB0UmVxdWVzdDogdGhpcy5hY2NlcHRSZXF1ZXN0LAogICAgICAgIGRlY2xpbmVSZXF1ZXN0OiB0aGlzLmRlY2xpbmVSZXF1ZXN0CiAgICAgIH0pOwoKICAgICAgaWYgKGlzTW9iaWxlKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJoZWFkZXIiLCB7CiAgICAgICAgICBpZDogImhlYWRlci1tb2JpbGUiLAogICAgICAgICAgc3R5bGVOYW1lOiAiaGVhZGVyLW1vYmlsZSIsCiAgICAgICAgICBjbGFzc05hbWU6ICJkYXRhLXR1dC13aWRnZXQtdG91ckZpbmlzaCIKICAgICAgICB9LCBsb2dvUmVuZGVyZXIsIGNyZWF0ZWRXYWxsZXRMb2FkZXIgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICAgIHN0eWxlTmFtZTogImxvYWRlckNyZWF0ZVdhbGxldCIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMb2FkZXIsIHsKICAgICAgICAgIHNob3dNeU93blRpcDogZm9ybWF0TWVzc2FnZSh7CiAgICAgICAgICAgIGlkOiAnY3JlYXRlV2FsbGV0TG9hZGVyVGlwJywKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdDcmVhdGluZyB3YWxsZXQuLi4gUGxlYXNlIHdhaXQuJwogICAgICAgICAgfSkKICAgICAgICB9KSksIGluY29taW5nU3dhcFJlcXVlc3QsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE5hdk1vYmlsZSwgewogICAgICAgICAgbWVudTogbWVudUl0ZW1zTW9iaWxlLAogICAgICAgICAgaXNIaWRkZW46IGlzSW5wdXRBY3RpdmUKICAgICAgICB9KSwgaXNXaWRnZXRUb3VyT3BlbiAmJiBpc1dhbGxldFBhZ2UgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICAgIHN0eWxlTmFtZTogIndhbGxldFRvdXIiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoV2lkZ2V0V2FsbGV0VG91ciwgewogICAgICAgICAgaXNUb3VyT3BlbjogaXNXaWRnZXRUb3VyT3BlbiwKICAgICAgICAgIGNsb3NlVG91cjogdGhpcy5jbG9zZVdpZGdldFRvdXIKICAgICAgICB9KSkpOwogICAgICB9CgogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImhlYWRlciIsIHsKICAgICAgICBjbGFzc05hbWU6IGN4KChfY3ggPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jeCwgc3R5bGVzWydoZWFkZXInXSwgdHJ1ZSksIF9kZWZpbmVQcm9wZXJ0eShfY3gsIHN0eWxlc1snd2lkZ2V0SGVhZGVyJ10sIGlzV2lkZ2V0QnVpbGQpLCBfZGVmaW5lUHJvcGVydHkoX2N4LCBzdHlsZXNbJ2hlYWRlci1wcm9tbyddLCBpc1dhbGxldFBhZ2UpLCBfY3gpKQogICAgICB9LCBjcmVhdGVkV2FsbGV0TG9hZGVyICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAibG9hZGVyQ3JlYXRlV2FsbGV0IgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMb2FkZXIsIHsKICAgICAgICBzaG93TXlPd25UaXA6IGZvcm1hdE1lc3NhZ2UoewogICAgICAgICAgaWQ6ICdjcmVhdGVXYWxsZXRMb2FkZXJUaXAnLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdDcmVhdGluZyB3YWxsZXQuLi4gUGxlYXNlIHdhaXQuJwogICAgICAgIH0pCiAgICAgIH0pKSwgbG9nb1JlbmRlcmVyLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChOYXYsIHsKICAgICAgICBtZW51OiBtZW51SXRlbXMKICAgICAgfSksIGlzUGFydGlhbFRvdXJPcGVuICYmIGlzRXhjaGFuZ2UgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJ3YWxsZXRUb3VyIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUb3VyUGFydGlhbCwgewogICAgICAgIGlzVG91ck9wZW46IGlzUGFydGlhbFRvdXJPcGVuLAogICAgICAgIGNsb3NlVG91cjogdGhpcy5jbG9zZVBhcnRpYWxUb3VyCiAgICAgIH0pKSwgaW5jb21pbmdTd2FwUmVxdWVzdCwgaXNUb3VyT3BlbiAmJiBpc1dhbGxldFBhZ2UgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJ3YWxsZXRUb3VyIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChXYWxsZXRUb3VyLCB7CiAgICAgICAgaXNUb3VyT3BlbjogaXNUb3VyT3BlbiwKICAgICAgICBjbG9zZVRvdXI6IHRoaXMuY2xvc2VUb3VyCiAgICAgIH0pKSwgaXNXaWRnZXRUb3VyT3BlbiAmJiBpc1dhbGxldFBhZ2UgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJ3YWxsZXRUb3VyIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChXaWRnZXRXYWxsZXRUb3VyLCB7CiAgICAgICAgaXNUb3VyT3BlbjogaXNXaWRnZXRUb3VyT3BlbiwKICAgICAgICBjbG9zZVRvdXI6IHRoaXMuY2xvc2VXaWRnZXRUb3VyCiAgICAgIH0pKSk7CiAgICB9CiAgfV0sIFt7CiAgICBrZXk6ICJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhfcmVmOCkgewogICAgICB2YXIgcGF0aG5hbWUgPSBfcmVmOC5oaXN0b3J5LmxvY2F0aW9uLnBhdGhuYW1lOwoKICAgICAgaWYgKHBhdGhuYW1lID09PSAnL3J1JyB8fCBwYXRobmFtZSA9PT0gJy8nIHx8IHBhdGhuYW1lID09PSBsaW5rcy53YWxsZXQpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgcGF0aDogdHJ1ZQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgcGF0aDogZmFsc2UKICAgICAgfTsKICAgIH0KICB9XSk7CgogIHJldHVybiBIZWFkZXI7Cn0oQ29tcG9uZW50KSwgX2RlZmluZVByb3BlcnR5KF9jbGFzczIsICJwcm9wVHlwZXMiLCB7CiAgaGlzdG9yeTogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkCn0pLCBfdGVtcCkpIHx8IF9jbGFzcykgfHwgX2NsYXNzKSB8fCBfY2xhc3MpIHx8IF9jbGFzcyk7CmV4cG9ydCB7IEhlYWRlciBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/front/shared/components/Header/Header.tsx"],"names":["React","Component","PropTypes","cx","withRouter","isMobile","connect","links","actions","constants","config","injectIntl","FormattedMessage","CSSModules","styles","Nav","NavMobile","Logo","TourPartial","WalletTour","WidgetWalletTour","Loader","localisedUrl","unlocalisedUrl","messages","getMenuItems","getMenuItemsMobile","getActivatedCurrencies","ThemeSwitcher","UserTooltip","feedback","wpLogoutModal","isWidgetBuild","isWidget","isDark","localStorage","getItem","Header","feeds","peer","isSigned","isInputActive","reputation","modals","hiddenCoinsList","allowMultiple","props","history","tapCreateWalletButton","startTourAndSignInModal","listen","location","customProps","Promise","resolve","finishProps","intl","pathname","wallet","home","isWalletCreate","isWalletPage","setState","menuItems","menuItemsMobile","createdWalletLoader","setTimeout","wasOnExchange","wasOnWallet","wasOnWidgetWallet","hash","exchange","isGuestLink","slice","setItem","path","toLowerCase","includes","isPartialPage","didOpenWalletCreate","wasOnWalletLs","wasOnExchangeLs","wasOnWidgetWalletLs","tourEvent","allData","core","getWallets","widgetCurrencies","optionsalCur","forEach","el","push","window","widgetERC20Tokens","Object","keys","length","key","toUpperCase","erc20token","userCurrencies","filter","currency","address","balance","openWalletTour","openExchangeTour","openWidgetWalletTour","opts","plugins","backupPlugin","openCreateWallet","onClose","isTourOpen","isWidgetTourOpen","isPartialTourOpen","options","locale","createWallet","themeSwapAnimation","wasDark","theme","switched","removeItem","reload","orderId","participantPeer","declineRequest","updateCore","link","toggle","acceptRequest","console","log","replace","handleLogout","match","params","page","historyLink","products","invest","dinamicPath","lsWalletCreated","state","isWallet","menuItemsFill","title","formatMessage","exact","haveSubmenu","icon","currentPageFlag","exchangeDisabled","lastScrollTop","handlerAsync","isExchange","isLogoutPossible","isUserRegisteredAndLoggedIn","logoRenderer","handleSetDark","incomingSwapRequest","id","defaultMessage","closeWidgetTour","closePartialTour","closeTour","object","isRequired"],"mappings":"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","sourcesContent":["// @ts-nocheck\r\n/* eslint-disable max-len */\r\nimport React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport cx from 'classnames'\r\n\r\nimport { withRouter, Link } from 'react-router-dom'\r\nimport { isMobile } from 'react-device-detect'\r\nimport { connect } from 'redaction'\r\n\r\nimport links from 'helpers/links'\r\nimport actions from 'redux/actions'\r\nimport { constants } from 'helpers'\r\nimport config from 'helpers/externalConfig'\r\nimport { injectIntl, FormattedMessage } from 'react-intl'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './Header.scss'\r\n\r\nimport Nav from './Nav/Nav'\r\nimport NavMobile from './NavMobile/NavMobile'\r\n\r\nimport Logo from './Logo/Logo'\r\nimport TourPartial from './TourPartial/TourPartial'\r\nimport WalletTour from './WalletTour/WalletTour'\r\nimport { WidgetWalletTour } from './WidgetTours'\r\n\r\nimport Loader from 'components/loaders/Loader/Loader'\r\nimport { localisedUrl, unlocalisedUrl } from '../../helpers/locale'\r\nimport { messages, getMenuItems, getMenuItemsMobile } from './config'\r\nimport { getActivatedCurrencies } from 'helpers/user'\r\nimport { ThemeSwitcher } from './ThemeSwitcher'\r\n\r\n// Incoming swap requests and tooltips (revert)\r\nimport UserTooltip from 'components/Header/User/UserTooltip/UserTooltip'\r\nimport feedback from 'shared/helpers/feedback'\r\nimport wpLogoutModal from 'helpers/wpLogoutModal'\r\n\r\n/* uncomment to debug */\r\n//window.isUserRegisteredAndLoggedIn = true\r\n\r\nconst isWidgetBuild = config && config.isWidget\r\nconst isDark = localStorage.getItem(constants.localStorage.isDark)\r\n\r\n@injectIntl\r\n@withRouter\r\n@connect({\r\n  feeds: 'feeds.items',\r\n  peer: 'pubsubRoom.peer',\r\n  isSigned: 'signUp.isSigned',\r\n  isInputActive: 'inputActive.isInputActive',\r\n  reputation: 'pubsubRoom.reputation',\r\n  modals: 'modals',\r\n  hiddenCoinsList: 'core.hiddenCoinsList',\r\n})\r\n@CSSModules(styles, { allowMultiple: true })\r\nexport default class Header extends Component<any, any> {\r\n  static propTypes = {\r\n    history: PropTypes.object.isRequired,\r\n  }\r\n\r\n  static getDerivedStateFromProps({\r\n    history: {\r\n      location: { pathname },\r\n    },\r\n  }) {\r\n    if (pathname === '/ru' || pathname === '/' || pathname === links.wallet) {\r\n      return { path: true }\r\n    }\r\n    return { path: false }\r\n  }\r\n\r\n  lastScrollTop: any\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      match: {\r\n        params: { page = null },\r\n      },\r\n      location: { pathname },\r\n      intl,\r\n    } = props\r\n    const { exchange, home, wallet, history: historyLink } = links\r\n    const { products, invest, history } = messages\r\n    const { isWalletCreate } = constants.localStorage\r\n\r\n    const dinamicPath = pathname.includes(exchange)\r\n      ? `${unlocalisedUrl(intl.locale, pathname)}`\r\n      : `${home}`\r\n    let lsWalletCreated: string | boolean = localStorage.getItem(isWalletCreate)\r\n    if (config && config.isWidget) {\r\n      lsWalletCreated = true\r\n    }\r\n\r\n    const isWalletPage = pathname === wallet || pathname === `/ru${wallet}`\r\n\r\n    this.state = {\r\n      isPartialTourOpen: false,\r\n      path: false,\r\n      isTourOpen: false,\r\n      isWallet: false,\r\n      menuItemsFill: [\r\n        {\r\n          title: intl.formatMessage(products),\r\n          link: 'openMySesamPlease',\r\n          exact: true,\r\n          haveSubmenu: true,\r\n          icon: 'products',\r\n          currentPageFlag: true,\r\n        },\r\n        !config.opts.exchangeDisabled && {\r\n          title: intl.formatMessage(invest),\r\n          link: 'exchange/btc-to-eth',\r\n          icon: 'invest',\r\n          haveSubmenu: false,\r\n        },\r\n        {\r\n          title: intl.formatMessage(history),\r\n          link: historyLink,\r\n          icon: 'history',\r\n          haveSubmenu: false,\r\n        },\r\n      ],\r\n      //@\r\n      menuItems: getMenuItems(props, lsWalletCreated, dinamicPath),\r\n      menuItemsMobile: getMenuItemsMobile(props, lsWalletCreated, dinamicPath),\r\n      createdWalletLoader: isWalletPage && !lsWalletCreated,\r\n    }\r\n    this.lastScrollTop = 0\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handlerAsync()\r\n  }\r\n\r\n  handlerAsync = async () => {\r\n    const { history } = this.props\r\n\r\n    await this.tapCreateWalletButton()\r\n\r\n    this.startTourAndSignInModal()\r\n\r\n    history.listen(async (location) => {\r\n      await this.tapCreateWalletButton({ location })\r\n\r\n      this.startTourAndSignInModal({ location })\r\n    })\r\n  }\r\n\r\n  tapCreateWalletButton = (customProps = {}) =>\r\n    new Promise((resolve) => {\r\n      const finishProps = { ...this.props, ...customProps }\r\n      //@\r\n      const { location, intl } = finishProps\r\n      const { pathname } = location\r\n      const { wallet, home } = links\r\n\r\n      let isWalletCreate = localStorage.getItem(constants.localStorage.isWalletCreate)\r\n\r\n      if (config && config.isWidget) {\r\n        //@\r\n        isWalletCreate = true\r\n      }\r\n\r\n      const isWalletPage = pathname === wallet || pathname === `/ru${wallet}`\r\n\r\n      if (isWalletPage && !isWalletCreate) {\r\n        //@\r\n        isWalletCreate = true\r\n\r\n        this.setState(\r\n          () => ({\r\n            menuItems: getMenuItems(this.props, isWalletCreate),\r\n            //@\r\n            menuItemsMobile: getMenuItemsMobile(this.props, isWalletCreate),\r\n            createdWalletLoader: true,\r\n          }),\r\n          () => {\r\n            setTimeout(() => {\r\n              this.setState(() => ({\r\n                createdWalletLoader: false,\r\n              }))\r\n              resolve(true)\r\n            }, 4000)\r\n          }\r\n        )\r\n      } else {\r\n        resolve(true)\r\n      }\r\n    })\r\n\r\n  startTourAndSignInModal = (customProps = {}) => {\r\n    const finishProps = { ...this.props, ...customProps }\r\n    const { wasOnExchange, wasOnWallet, isWalletCreate, wasOnWidgetWallet } = constants.localStorage\r\n    const {\r\n      //@\r\n      hiddenCoinsList,\r\n      //@\r\n      location: { hash, pathname },\r\n    } = finishProps\r\n    const { wallet, exchange } = links\r\n    const isGuestLink = !(!hash || hash.slice(1) !== 'guest')\r\n\r\n    if (isGuestLink) {\r\n      //@\r\n      localStorage.setItem(wasOnWallet, true)\r\n      //@\r\n      localStorage.setItem(wasOnExchange, true)\r\n      //@\r\n      localStorage.setItem(wasOnWidgetWallet, true)\r\n      return\r\n    }\r\n\r\n    this.setState(() => ({\r\n      menuItems: getMenuItems(this.props, true),\r\n      //@\r\n      menuItemsMobile: getMenuItemsMobile(this.props, true),\r\n    }))\r\n\r\n    const path = pathname.toLowerCase()\r\n    const isWalletPage = path.includes(wallet) || path === `/` || path === '/ru'\r\n    const isPartialPage = path.includes(exchange) || path === `/ru${exchange}`\r\n\r\n    const didOpenWalletCreate = localStorage.getItem(isWalletCreate)\r\n\r\n    const wasOnWalletLs = localStorage.getItem(wasOnWallet)\r\n    const wasOnExchangeLs = localStorage.getItem(wasOnExchange)\r\n    const wasOnWidgetWalletLs = localStorage.getItem(wasOnWidgetWallet)\r\n\r\n    let tourEvent = () => {}\r\n\r\n    const allData = actions.core.getWallets({})\r\n\r\n    const widgetCurrencies = ['BTC', 'ETH']\r\n    const optionsalCur = ['BTC (SMS-Protected)', 'BTC (Multisig)', 'BTC (PIN-Protected)']\r\n\r\n    optionsalCur.forEach((el) => {\r\n      if (!hiddenCoinsList.includes(el)) {\r\n        widgetCurrencies.push(el)\r\n      }\r\n    })\r\n\r\n    if (isWidgetBuild) {\r\n      if (window.widgetERC20Tokens && Object.keys(window.widgetERC20Tokens).length) {\r\n        // Multi token widget build\r\n        Object.keys(window.widgetERC20Tokens).forEach((key) => {\r\n          widgetCurrencies.push(key.toUpperCase())\r\n        })\r\n      } else {\r\n        widgetCurrencies.push(config.erc20token.toUpperCase())\r\n      }\r\n    }\r\n\r\n    let userCurrencies = allData.filter(({ currency, address, balance }) => {\r\n      return (\r\n        (!hiddenCoinsList.includes(currency) &&\r\n          !hiddenCoinsList.includes(`${currency}:${address}`)) ||\r\n        balance > 0\r\n      )\r\n    })\r\n\r\n    if (isWidgetBuild) {\r\n      userCurrencies = allData.filter(\r\n        ({ currency, address }) =>\r\n          !hiddenCoinsList.includes(currency) && !hiddenCoinsList.includes(`${currency}:${address}`)\r\n      )\r\n      userCurrencies = userCurrencies.filter(({ currency }) => widgetCurrencies.includes(currency))\r\n    }\r\n\r\n    userCurrencies = userCurrencies.filter(({ currency }) =>\r\n      getActivatedCurrencies().includes(currency)\r\n    )\r\n\r\n    switch (true) {\r\n      case isWalletPage && !wasOnWalletLs:\r\n        tourEvent = this.openWalletTour\r\n        break\r\n      case isPartialPage && !wasOnExchangeLs:\r\n        tourEvent = this.openExchangeTour\r\n        break\r\n      case isWidgetBuild && !wasOnWidgetWalletLs:\r\n        tourEvent = this.openWidgetWalletTour\r\n        break\r\n      case !userCurrencies.length && isWalletPage && !config.opts.plugins.backupPlugin:\r\n        this.openCreateWallet({ onClose: tourEvent })\r\n        break\r\n      default:\r\n        return\r\n    }\r\n\r\n    if (!didOpenWalletCreate && isWalletPage && !config.opts.plugins.backupPlugin) {\r\n      this.openCreateWallet({ onClose: tourEvent })\r\n      return\r\n    }\r\n\r\n    tourEvent()\r\n  }\r\n\r\n  closeTour = () => {\r\n    this.setState(() => ({ isTourOpen: false }))\r\n  }\r\n\r\n  closeWidgetTour = () => {\r\n    this.setState(() => ({ isWidgetTourOpen: false }))\r\n  }\r\n\r\n  closePartialTour = () => {\r\n    this.setState(() => ({ isPartialTourOpen: false }))\r\n  }\r\n\r\n  openCreateWallet = (options) => {\r\n    const {\r\n      history,\r\n      intl: { locale },\r\n    } = this.props\r\n    history.push(localisedUrl(locale, links.createWallet))\r\n  }\r\n\r\n  openWalletTour = () => {\r\n    const { wasOnWallet } = constants.localStorage\r\n\r\n    setTimeout(() => {\r\n      this.setState(() => ({ isTourOpen: true }))\r\n    }, 1000)\r\n    //@\r\n    localStorage.setItem(wasOnWallet, true)\r\n  }\r\n\r\n  openWidgetWalletTour = () => {\r\n    const { wasOnWidgetWallet } = constants.localStorage\r\n\r\n    setTimeout(() => {\r\n      this.setState(() => ({ isWidgetTourOpen: true }))\r\n    }, 1000)\r\n    //@\r\n    localStorage.setItem(wasOnWidgetWallet, true)\r\n  }\r\n\r\n  openExchangeTour = () => {\r\n    const { wasOnExchange } = constants.localStorage\r\n    setTimeout(() => {\r\n      this.setState(() => ({ isPartialTourOpen: true }))\r\n    }, 1000)\r\n\r\n    //@\r\n    localStorage.setItem(wasOnExchange, true)\r\n  }\r\n\r\n  handleSetDark = () => {\r\n    this.setState(() => ({ themeSwapAnimation: true }))\r\n    const wasDark = localStorage.getItem(constants.localStorage.isDark)\r\n\r\n    feedback.theme.switched(wasDark ? 'bright' : 'dark')\r\n    if (wasDark) {\r\n      localStorage.removeItem(constants.localStorage.isDark)\r\n    } else {\r\n      //@\r\n      localStorage.setItem(constants.localStorage.isDark, true)\r\n    }\r\n    window.location.reload()\r\n  }\r\n\r\n  declineRequest = (orderId, participantPeer) => {\r\n    actions.core.declineRequest(orderId, participantPeer)\r\n    actions.core.updateCore()\r\n  }\r\n\r\n  acceptRequest = async (orderId, participantPeer, link) => {\r\n    const {\r\n      toggle,\r\n      history,\r\n      intl: { locale },\r\n    } = this.props\r\n\r\n    actions.core.acceptRequest(orderId, participantPeer)\r\n    actions.core.updateCore()\r\n\r\n    if (typeof toggle === 'function') {\r\n      toggle()\r\n    }\r\n\r\n    console.log('-Accepting request', link)\r\n    console.log(`Redirect to swap: ${link}`)\r\n    await history.replace(localisedUrl(locale, link))\r\n    await history.push(localisedUrl(locale, link))\r\n  }\r\n\r\n  handleLogout = () => {\r\n    const { intl } = this.props\r\n    wpLogoutModal(this.handleLogout, intl)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isTourOpen,\r\n      path,\r\n      isPartialTourOpen,\r\n      menuItems,\r\n      menuItemsMobile,\r\n      createdWalletLoader,\r\n      isWidgetTourOpen,\r\n      themeSwapAnimation,\r\n    } = this.state\r\n    const {\r\n      intl: { formatMessage, locale },\r\n      history: {\r\n        location: { pathname },\r\n      },\r\n      feeds,\r\n      peer,\r\n      isSigned,\r\n      isInputActive,\r\n    } = this.props\r\n\r\n    const { exchange, wallet } = links\r\n\r\n    const isWalletPage =\r\n      pathname.includes(wallet) || pathname === `/ru${wallet}` || pathname === `/`\r\n\r\n    const isExchange = pathname.includes(exchange)\r\n\r\n    const isLogoutPossible = window.isUserRegisteredAndLoggedIn\r\n\r\n    const logoRenderer = (\r\n      <div styleName=\"flexebleHeader\">\r\n        <div>\r\n          <Logo />\r\n        </div>\r\n        <div styleName=\"rightArea\">\r\n          <ThemeSwitcher themeSwapAnimation={themeSwapAnimation} onClick={this.handleSetDark} />\r\n\r\n          {isLogoutPossible && ( // some wordpress plugin cases\r\n            <div styleName={`logoutWrapper ${isDark ? 'dark' : ''}`} onClick={this.handleLogout}>\r\n              <i className=\"fas fa-sign-out-alt\" />\r\n              <FormattedMessage id=\"ExitWidget\" defaultMessage=\"Exit\" />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n\r\n    if (pathname.includes('/createWallet') && isMobile) {\r\n      return <span />\r\n    }\r\n\r\n    const incomingSwapRequest = (\r\n      <UserTooltip\r\n        feeds={feeds}\r\n        peer={peer}\r\n        acceptRequest={this.acceptRequest}\r\n        declineRequest={this.declineRequest}\r\n      />\r\n    )\r\n\r\n    if (isMobile) {\r\n      return (\r\n        <header id=\"header-mobile\" styleName=\"header-mobile\" className=\"data-tut-widget-tourFinish\">\r\n          {logoRenderer}\r\n          {createdWalletLoader && (\r\n            <div styleName=\"loaderCreateWallet\">\r\n              <Loader\r\n                showMyOwnTip={formatMessage({\r\n                  id: 'createWalletLoaderTip',\r\n                  defaultMessage: 'Creating wallet... Please wait.',\r\n                })}\r\n              />\r\n            </div>\r\n          )}\r\n          {incomingSwapRequest}\r\n          <NavMobile menu={menuItemsMobile} isHidden={isInputActive} />\r\n          {isWidgetTourOpen && isWalletPage && (\r\n            <div styleName=\"walletTour\">\r\n              <WidgetWalletTour isTourOpen={isWidgetTourOpen} closeTour={this.closeWidgetTour} />\r\n            </div>\r\n          )}\r\n        </header>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <header\r\n        className={cx({\r\n          [styles['header']]: true,\r\n          [styles['widgetHeader']]: isWidgetBuild,\r\n          [styles['header-promo']]: isWalletPage,\r\n        })}\r\n      >\r\n        {createdWalletLoader && (\r\n          <div styleName=\"loaderCreateWallet\">\r\n            <Loader\r\n              showMyOwnTip={formatMessage({\r\n                id: 'createWalletLoaderTip',\r\n                defaultMessage: 'Creating wallet... Please wait.',\r\n              })}\r\n            />\r\n          </div>\r\n        )}\r\n        {logoRenderer}\r\n        <Nav menu={menuItems} />\r\n        {isPartialTourOpen && isExchange && (\r\n          <div styleName=\"walletTour\">\r\n            <TourPartial isTourOpen={isPartialTourOpen} closeTour={this.closePartialTour} />\r\n          </div>\r\n        )}\r\n        {incomingSwapRequest}\r\n        {isTourOpen && isWalletPage && (\r\n          <div styleName=\"walletTour\">\r\n            <WalletTour isTourOpen={isTourOpen} closeTour={this.closeTour} />\r\n          </div>\r\n        )}\r\n        {isWidgetTourOpen && isWalletPage && (\r\n          <div styleName=\"walletTour\">\r\n            <WidgetWalletTour isTourOpen={isWidgetTourOpen} closeTour={this.closeWidgetTour} />\r\n          </div>\r\n        )}\r\n      </header>\r\n    )\r\n  }\r\n}\r\n"]}]}