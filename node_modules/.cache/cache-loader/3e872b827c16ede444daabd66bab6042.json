{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\pages\\Swap\\UTXOSwap\\EthTokenToUTXO.tsx","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\pages\\Swap\\UTXOSwap\\EthTokenToUTXO.tsx","mtime":1614842914207},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5IjsKCnZhciBfZGVjLCBfY2xhc3MsIF90ZW1wOwoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KCmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CgppbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50LCBGcmFnbWVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IGFjdGlvbnMgZnJvbSAncmVkdXgvYWN0aW9ucyc7CmltcG9ydCBDU1NNb2R1bGVzIGZyb20gJ3JlYWN0LWNzcy1tb2R1bGVzJzsKaW1wb3J0IHN0eWxlcyBmcm9tICcuLi9Td2FwLnNjc3MnOwppbXBvcnQgU3dhcFByb2dyZXNzIGZyb20gJy4vU3dhcFByb2dyZXNzL1N3YXBQcm9ncmVzcyc7CmltcG9ydCBTd2FwTGlzdCBmcm9tICcuL1N3YXBMaXN0L1N3YXBMaXN0JzsKaW1wb3J0IEZlZUNvbnRyb2xlciBmcm9tICcuLi9GZWVDb250cm9sZXIvRmVlQ29udHJvbGVyJzsKaW1wb3J0IEZhaWxDb250cm9sZXIgZnJvbSAnLi4vRmFpbENvbnRyb2xlci9GYWlsQ29udHJvbGVyJzsKaW1wb3J0IERlcG9zaXRXaW5kb3cgZnJvbSAnLi9EZXBvc2l0V2luZG93L0RlcG9zaXRXaW5kb3cnOwp2YXIgRXRoVG9rZW5Ub1VUWE8gPSAoX2RlYyA9IENTU01vZHVsZXMoc3R5bGVzKSwgX2RlYyhfY2xhc3MgPSAoX3RlbXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHsKICBfaW5oZXJpdHMoRXRoVG9rZW5Ub1VUWE8sIF9Db21wb25lbnQpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEV0aFRva2VuVG9VVFhPKTsKCiAgZnVuY3Rpb24gRXRoVG9rZW5Ub1VUWE8ocHJvcHMpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXRoVG9rZW5Ub1VUWE8pOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIl9maWVsZHMiLCBudWxsKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJzd2FwIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAic2lnblRpbWVyIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiY29uZmlybVRpbWVyIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiY29uZmlybVNjcmlwdENoZWNrZWQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnN3YXAuZmxvd1tfdGhpcy5fZmllbGRzLnZlcmlmeVNjcmlwdEZ1bmNdKCk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJoYW5kbGVGbG93U3RhdGVVcGRhdGUiLCBmdW5jdGlvbiAodmFsdWVzKSB7CiAgICAgIHZhciBzdGVwTnVtYmVycyA9IHsKICAgICAgICAnc2lnbic6IDEsCiAgICAgICAgJ3dhaXQtbG9jay11dHhvJzogMiwKICAgICAgICAndmVyaWZ5LXNjcmlwdCc6IDMsCiAgICAgICAgJ3N5bmMtYmFsYW5jZSc6IDQsCiAgICAgICAgJ2xvY2stZXRoJzogNSwKICAgICAgICAnd2FpdC13aXRoZHJhdy1ldGgnOiA2LAogICAgICAgIC8vIGFrYSBnZXRTZWNyZXQKICAgICAgICAnd2l0aGRyYXctdXR4byc6IDcsCiAgICAgICAgJ2ZpbmlzaCc6IDgsCiAgICAgICAgJ2VuZCc6IDkKICAgICAgfTsgLy8gYWN0aW9ucy5hbmFseXRpY3Muc3dhcEV2ZW50KHN0ZXBOdW1iZXJzW3ZhbHVlcy5zdGVwXSwgJ0VUSFRPS0VOMkJUQycpCgogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgZmxvdzogdmFsdWVzCiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAic2lnblN3YXAiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdzaWduIHN3YXAnKTsKCiAgICAgIF90aGlzLnN3YXAuZmxvdy5zaWduKCk7CgogICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHNpZ25lZDogdHJ1ZQogICAgICAgIH07CiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAicmVxdWVzdE1heEFsbG93YW5jZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF90aGlzJHN3YXAgPSBfdGhpcy5zd2FwLAogICAgICAgICAgc2VsbEN1cnJlbmN5ID0gX3RoaXMkc3dhcC5zZWxsQ3VycmVuY3ksCiAgICAgICAgICBzZWxsQW1vdW50ID0gX3RoaXMkc3dhcC5zZWxsQW1vdW50OwogICAgICB2YXIgZXRoVG9rZW5Td2FwID0gX3RoaXMuc3dhcC5mbG93LmV0aFRva2VuU3dhcDsKICAgICAgYWN0aW9ucy50b2tlbi5zZXRBbGxvd2FuY2VGb3JUb2tlbih7CiAgICAgICAgbmFtZTogc2VsbEN1cnJlbmN5LAogICAgICAgIHRvOiBldGhUb2tlblN3YXAuYWRkcmVzcywKICAgICAgICAvLyBzd2FwIGNvbnRyYWN0IGFkZHJlc3MKICAgICAgICB0YXJnZXRBbGxvd2FuY2U6IHNlbGxBbW91bnQsCiAgICAgICAgc3BlZWQ6ICdmYXN0JwogICAgICB9KTsKICAgIH0pOwoKICAgIHZhciBzd2FwID0gcHJvcHMuc3dhcCwKICAgICAgICBjdXJyZW5jeURhdGEgPSBwcm9wcy5jdXJyZW5jeURhdGEsCiAgICAgICAgZXRoQmFsYW5jZSA9IHByb3BzLmV0aEJhbGFuY2UsCiAgICAgICAgdG9rZW5JdGVtcyA9IHByb3BzLnRva2VuSXRlbXMsCiAgICAgICAgZmllbGRzID0gcHJvcHMuZmllbGRzOwogICAgX3RoaXMuc3dhcCA9IHN3YXA7CiAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgc3dhcDogc3dhcCwKICAgICAgY3VycmVuY3lEYXRhOiBjdXJyZW5jeURhdGEsCiAgICAgIHRva2VuSXRlbXM6IHRva2VuSXRlbXMsCiAgICAgIHNpZ25lZDogZmFsc2UsCiAgICAgIGVuYWJsZWRCdXR0b246IGZhbHNlLAogICAgICBpc0FkZHJlc3NDb3BpZWQ6IGZhbHNlLAogICAgICBmbG93OiBfdGhpcy5zd2FwLmZsb3cuc3RhdGUsCiAgICAgIGN1cnJlbmN5QWRkcmVzczogY3VycmVuY3lEYXRhLmFkZHJlc3MKICAgIH07CiAgICBfdGhpcy5fZmllbGRzID0gZmllbGRzOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEV0aFRva2VuVG9VVFhPLCBbewogICAga2V5OiAiY29tcG9uZW50V2lsbE1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7CiAgICAgIHRoaXMuc3dhcC5vbignc3RhdGUgdXBkYXRlJywgdGhpcy5oYW5kbGVGbG93U3RhdGVVcGRhdGUpOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBvbmVudFdpbGxVbm1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHsKICAgICAgdGhpcy5zd2FwLm9mZignc3RhdGUgdXBkYXRlJywgdGhpcy5oYW5kbGVGbG93U3RhdGVVcGRhdGUpOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBvbmVudERpZE1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMkc3RhdGUkZmxvdyA9IHRoaXMuc3RhdGUuZmxvdywKICAgICAgICAgIGlzU2lnbkZldGNoaW5nID0gX3RoaXMkc3RhdGUkZmxvdy5pc1NpZ25GZXRjaGluZywKICAgICAgICAgIGlzTWVTaWduZWQgPSBfdGhpcyRzdGF0ZSRmbG93LmlzTWVTaWduZWQsCiAgICAgICAgICBzdGVwID0gX3RoaXMkc3RhdGUkZmxvdy5zdGVwOwogICAgICB0aGlzLnNpZ25UaW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoIV90aGlzMi5zdGF0ZS5mbG93LmlzTWVTaWduZWQpIHsKICAgICAgICAgIF90aGlzMi5zaWduU3dhcCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjbGVhckludGVydmFsKF90aGlzMi5zaWduVGltZXIpOwogICAgICAgIH0KICAgICAgfSwgMzAwMCk7CiAgICAgIHRoaXMuY29uZmlybVRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChfdGhpczIuc3RhdGUuZmxvdy5zdGVwID09PSAzKSB7CiAgICAgICAgICBfdGhpczIuY29uZmlybVNjcmlwdENoZWNrZWQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2xlYXJJbnRlcnZhbChfdGhpczIuY29uZmlybVRpbWVyKTsKICAgICAgICB9CiAgICAgIH0sIDMwMDApOwogICAgICB0aGlzLnJlcXVlc3RNYXhBbGxvd2FuY2UoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcywKICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMuY2hpbGRyZW4sCiAgICAgICAgICBkaXNhYmxlZFRpbWVyID0gX3RoaXMkcHJvcHMuZGlzYWJsZWRUaW1lciwKICAgICAgICAgIGNvbnRpbnVlU3dhcCA9IF90aGlzJHByb3BzLmNvbnRpbnVlU3dhcCwKICAgICAgICAgIGVub3VnaEJhbGFuY2UgPSBfdGhpcyRwcm9wcy5lbm91Z2hCYWxhbmNlLAogICAgICAgICAgaGlzdG9yeSA9IF90aGlzJHByb3BzLmhpc3RvcnksCiAgICAgICAgICBldGhBZGRyZXNzID0gX3RoaXMkcHJvcHMuZXRoQWRkcmVzcywKICAgICAgICAgIHJlcXVlc3RUb0ZhdWNldFNlbmRlZCA9IF90aGlzJHByb3BzLnJlcXVlc3RUb0ZhdWNldFNlbmRlZCwKICAgICAgICAgIG9uQ2xpY2tDYW5jZWxTd2FwID0gX3RoaXMkcHJvcHMub25DbGlja0NhbmNlbFN3YXAsCiAgICAgICAgICBsb2NhbGUgPSBfdGhpcyRwcm9wcy5sb2NhbGUsCiAgICAgICAgICB3YWxsZXRzID0gX3RoaXMkcHJvcHMud2FsbGV0czsKICAgICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSwKICAgICAgICAgIGN1cnJlbmN5QWRkcmVzcyA9IF90aGlzJHN0YXRlLmN1cnJlbmN5QWRkcmVzcywKICAgICAgICAgIGZsb3cgPSBfdGhpcyRzdGF0ZS5mbG93LAogICAgICAgICAgZW5hYmxlZEJ1dHRvbiA9IF90aGlzJHN0YXRlLmVuYWJsZWRCdXR0b24sCiAgICAgICAgICBpc0FkZHJlc3NDb3BpZWQgPSBfdGhpcyRzdGF0ZS5pc0FkZHJlc3NDb3BpZWQsCiAgICAgICAgICBjdXJyZW5jeURhdGEgPSBfdGhpcyRzdGF0ZS5jdXJyZW5jeURhdGEsCiAgICAgICAgICB0b2tlbkl0ZW1zID0gX3RoaXMkc3RhdGUudG9rZW5JdGVtcywKICAgICAgICAgIHNpZ25lZCA9IF90aGlzJHN0YXRlLnNpZ25lZCwKICAgICAgICAgIHN3YXAgPSBfdGhpcyRzdGF0ZS5zd2FwOwogICAgICB2YXIgY2FuQ3JlYXRlRXRoVHJhbnNhY3Rpb24gPSBmbG93LmNhbkNyZWF0ZUV0aFRyYW5zYWN0aW9uLAogICAgICAgICAgaXNGYWlsZWRUcmFuc2FjdGlvbiA9IGZsb3cuaXNGYWlsZWRUcmFuc2FjdGlvbiwKICAgICAgICAgIGlzRmFpbGVkVHJhbnNhY3Rpb25FcnJvciA9IGZsb3cuaXNGYWlsZWRUcmFuc2FjdGlvbkVycm9yLAogICAgICAgICAgZ2FzQW1vdW50TmVlZGVkID0gZmxvdy5nYXNBbW91bnROZWVkZWQ7CiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJzd2FwQ29udGFpbmVyIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJzd2FwSW5mbyIKICAgICAgfSwgdGhpcy5zd2FwLmlkICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzdHJvbmciLCBudWxsLCB0aGlzLnN3YXAuc2VsbEFtb3VudC50b0ZpeGVkKDYpLCAnICcsIHRoaXMuc3dhcC5zZWxsQ3VycmVuY3ksICIgXHUyN0Y2ICIsICcgJywgdGhpcy5zd2FwLmJ1eUFtb3VudC50b0ZpeGVkKDYpLCAnICcsIHRoaXMuc3dhcC5idXlDdXJyZW5jeSkpLCAhZW5vdWdoQmFsYW5jZSAmJiBmbG93LnN0ZXAgPT09IDQgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIHN0eWxlTmFtZTogInN3YXBEZXBvc2l0V2luZG93IgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChEZXBvc2l0V2luZG93LCB7CiAgICAgICAgY3VycmVuY3lEYXRhOiBjdXJyZW5jeURhdGEsCiAgICAgICAgc3dhcDogc3dhcCwKICAgICAgICBmbG93OiBmbG93LAogICAgICAgIHRva2VuSXRlbXM6IHRva2VuSXRlbXMsCiAgICAgICAgZmllbGRzOiB0aGlzLl9maWVsZHMKICAgICAgfSkpIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRnJhZ21lbnQsIG51bGwsICFjb250aW51ZVN3YXAgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgIWNhbkNyZWF0ZUV0aFRyYW5zYWN0aW9uICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZlZUNvbnRyb2xlciwgewogICAgICAgIGV0aEFkZHJlc3M6IGV0aEFkZHJlc3MsCiAgICAgICAgZ2FzQW1vdW50TmVlZGVkOiBnYXNBbW91bnROZWVkZWQsCiAgICAgICAgZmllbGRzOiB0aGlzLl9maWVsZHMKICAgICAgfSksIGlzRmFpbGVkVHJhbnNhY3Rpb24gJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRmFpbENvbnRyb2xlciwgewogICAgICAgIGV0aEFkZHJlc3M6IGV0aEFkZHJlc3MsCiAgICAgICAgbWVzc2FnZTogaXNGYWlsZWRUcmFuc2FjdGlvbkVycm9yLAogICAgICAgIGZpZWxkczogdGhpcy5fZmllbGRzCiAgICAgIH0pKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN3YXBQcm9ncmVzcywgewogICAgICAgIGZsb3c6IGZsb3csCiAgICAgICAgbmFtZTogIkV0aFRva2VuVG9CdGNMaWtlIiwKICAgICAgICBzd2FwOiBzd2FwLAogICAgICAgIHRva2VuSXRlbXM6IHRva2VuSXRlbXMsCiAgICAgICAgaGlzdG9yeTogaGlzdG9yeSwKICAgICAgICBsb2NhbGU6IGxvY2FsZSwKICAgICAgICB3YWxsZXRzOiB3YWxsZXRzLAogICAgICAgIHNpZ25lZDogc2lnbmVkLAogICAgICAgIGZpZWxkczogdGhpcy5fZmllbGRzCiAgICAgIH0pKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN3YXBMaXN0LCB7CiAgICAgICAgZW5vdWdoQmFsYW5jZTogZW5vdWdoQmFsYW5jZSwKICAgICAgICBmbG93OiBmbG93LAogICAgICAgIHN3YXA6IHN3YXAsCiAgICAgICAgb25DbGlja0NhbmNlbFN3YXA6IG9uQ2xpY2tDYW5jZWxTd2FwLAogICAgICAgIGZpZWxkczogdGhpcy5fZmllbGRzCiAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJzd2FwQ29udGFpbmVySW5mbyIKICAgICAgfSwgY2hpbGRyZW4pKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBFdGhUb2tlblRvVVRYTzsKfShDb21wb25lbnQpLCBfdGVtcCkpIHx8IF9jbGFzcyk7CmV4cG9ydCB7IEV0aFRva2VuVG9VVFhPIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/front/shared/pages/Swap/UTXOSwap/EthTokenToUTXO.tsx"],"names":["React","Component","Fragment","actions","CSSModules","styles","SwapProgress","SwapList","FeeControler","FailControler","DepositWindow","EthTokenToUTXO","props","swap","flow","_fields","verifyScriptFunc","values","stepNumbers","setState","console","log","sign","signed","sellCurrency","sellAmount","ethTokenSwap","token","setAllowanceForToken","name","to","address","targetAllowance","speed","currencyData","ethBalance","tokenItems","fields","state","enabledButton","isAddressCopied","currencyAddress","on","handleFlowStateUpdate","off","isSignFetching","isMeSigned","step","signTimer","setInterval","signSwap","clearInterval","confirmTimer","confirmScriptChecked","requestMaxAllowance","children","disabledTimer","continueSwap","enoughBalance","history","ethAddress","requestToFaucetSended","onClickCancelSwap","locale","wallets","canCreateEthTransaction","isFailedTransaction","isFailedTransactionError","gasAmountNeeded","id","toFixed","buyAmount","buyCurrency"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react'\r\n\r\nimport actions from 'redux/actions'\r\nimport { constants } from 'helpers'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from '../Swap.scss'\r\n\r\nimport SwapProgress from './SwapProgress/SwapProgress'\r\nimport SwapList from './SwapList/SwapList'\r\nimport FeeControler from '../FeeControler/FeeControler'\r\nimport FailControler from '../FailControler/FailControler'\r\nimport DepositWindow from './DepositWindow/DepositWindow'\r\n\r\n\r\n@CSSModules(styles)\r\nexport default class EthTokenToUTXO extends Component<any, any> {\r\n\r\n  _fields = null\r\n  swap = null\r\n  signTimer = null\r\n  confirmTimer = null\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    const {\r\n      swap,\r\n      currencyData,\r\n      ethBalance,\r\n      tokenItems,\r\n      fields,\r\n    } = props\r\n\r\n    this.swap = swap\r\n\r\n    this.state = {\r\n      swap,\r\n      currencyData,\r\n      tokenItems,\r\n      signed: false,\r\n      enabledButton: false,\r\n      isAddressCopied: false,\r\n      flow: this.swap.flow.state,\r\n      currencyAddress: currencyData.address,\r\n    }\r\n\r\n    this._fields = fields\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.swap.on('state update', this.handleFlowStateUpdate)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.swap.off('state update', this.handleFlowStateUpdate)\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {\r\n      flow: {\r\n        isSignFetching,\r\n        isMeSigned,\r\n        step,\r\n      },\r\n    } = this.state\r\n\r\n    this.signTimer = setInterval(() => {\r\n      if (!this.state.flow.isMeSigned) {\r\n        this.signSwap()\r\n      } else {\r\n        clearInterval(this.signTimer)\r\n      }\r\n    }, 3000)\r\n\r\n    this.confirmTimer = setInterval(() => {\r\n      if (this.state.flow.step === 3) {\r\n        this.confirmScriptChecked()\r\n      } else {\r\n        clearInterval(this.confirmTimer)\r\n      }\r\n    }, 3000)\r\n\r\n    this.requestMaxAllowance()\r\n  }\r\n\r\n  confirmScriptChecked = () => {\r\n    this.swap.flow[this._fields.verifyScriptFunc]()\r\n  }\r\n\r\n  handleFlowStateUpdate = (values) => {\r\n\r\n    const stepNumbers = {\r\n      'sign': 1,\r\n      'wait-lock-utxo': 2,\r\n      'verify-script': 3,\r\n      'sync-balance': 4,\r\n      'lock-eth': 5,\r\n      'wait-withdraw-eth': 6, // aka getSecret\r\n      'withdraw-utxo': 7,\r\n      'finish': 8,\r\n      'end': 9,\r\n    }\r\n\r\n    // actions.analytics.swapEvent(stepNumbers[values.step], 'ETHTOKEN2BTC')\r\n\r\n    this.setState({\r\n      flow: values,\r\n    })\r\n  }\r\n\r\n  signSwap = () => {\r\n    console.log('sign swap')\r\n    this.swap.flow.sign()\r\n    this.setState(() => ({\r\n      signed: true,\r\n    }))\r\n  }\r\n\r\n  \r\n  requestMaxAllowance = () => {\r\n    const { sellCurrency, sellAmount } = this.swap\r\n    const { ethTokenSwap } = this.swap.flow\r\n\r\n    actions.token.setAllowanceForToken({\r\n      name: sellCurrency,\r\n      to: ethTokenSwap.address, // swap contract address\r\n      targetAllowance: sellAmount,\r\n      speed: 'fast',\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      children,\r\n      disabledTimer,\r\n      continueSwap,\r\n      enoughBalance,\r\n      history,\r\n      ethAddress,\r\n      requestToFaucetSended,\r\n      onClickCancelSwap,\r\n      locale,\r\n      wallets,\r\n    }  = this.props\r\n\r\n    const {\r\n      currencyAddress,\r\n      flow,\r\n      enabledButton,\r\n      isAddressCopied,\r\n      currencyData,\r\n      tokenItems,\r\n      signed,\r\n      swap,\r\n    } = this.state\r\n\r\n    const { canCreateEthTransaction, isFailedTransaction, isFailedTransactionError, gasAmountNeeded } = flow\r\n\r\n    return (\r\n      <div>\r\n        <div styleName=\"swapContainer\">\r\n          <div>\r\n            <div styleName=\"swapInfo\">\r\n              {this.swap.id &&\r\n                (\r\n                  <strong>\r\n                    {this.swap.sellAmount.toFixed(6)}\r\n                    {' '}\r\n                    {this.swap.sellCurrency} &#10230; {' '}\r\n                    {this.swap.buyAmount.toFixed(6)}\r\n                    {' '}\r\n                    {this.swap.buyCurrency}\r\n                  </strong>\r\n                )\r\n              }\r\n            </div>\r\n            {!enoughBalance && flow.step === 4\r\n              ? (\r\n                <div styleName=\"swapDepositWindow\">\r\n                  <DepositWindow currencyData={currencyData} swap={swap} flow={flow} tokenItems={tokenItems} fields={this._fields} />\r\n                </div>\r\n              )\r\n              : (\r\n                <Fragment>\r\n                  {!continueSwap\r\n                    ? (\r\n                      <Fragment>\r\n                        {\r\n                          !canCreateEthTransaction && (\r\n                            <FeeControler ethAddress={ethAddress} gasAmountNeeded={gasAmountNeeded} fields={this._fields} />\r\n                          )\r\n                        }\r\n                        {\r\n                          isFailedTransaction && (\r\n                            <FailControler ethAddress={ethAddress} message={isFailedTransactionError} fields={this._fields} />\r\n                          )\r\n                        }\r\n                      </Fragment>\r\n                    )\r\n                    : (\r\n                      <SwapProgress\r\n                        flow={flow}\r\n                        name=\"EthTokenToBtcLike\"\r\n                        swap={swap}\r\n                        tokenItems={tokenItems}\r\n                        history={history}\r\n                        locale={locale}\r\n                        wallets={wallets}\r\n                        signed={signed}\r\n                        fields={this._fields}\r\n                      />\r\n                    )\r\n                  }\r\n                </Fragment>\r\n              )\r\n            }\r\n          </div>\r\n          <SwapList enoughBalance={enoughBalance} flow={flow} swap={swap} onClickCancelSwap={onClickCancelSwap} fields={this._fields} />\r\n        </div>\r\n        <div styleName=\"swapContainerInfo\">{children}</div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]}]}