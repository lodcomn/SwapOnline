{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\components\\modals\\WithdrawModalMultisig\\WithdrawModalMultisigUser.tsx","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\components\\modals\\WithdrawModalMultisig\\WithdrawModalMultisigUser.tsx","mtime":1614850600496},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI7CmltcG9ydCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheSI7Cgp2YXIgX2RlYywgX2RlYzIsIF9jbGFzcywgX2NsYXNzMiwgX3RlbXA7CgppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICJAYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvciI7CgpmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfQoKZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vIEB0cy1ub2NoZWNrCmltcG9ydCBSZWFjdCwgeyBGcmFnbWVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJzsKaW1wb3J0IGhlbHBlcnMsIHsgY29uc3RhbnRzIH0gZnJvbSAnaGVscGVycyc7CmltcG9ydCBhY3Rpb25zIGZyb20gJ3JlZHV4L2FjdGlvbnMnOwppbXBvcnQgTGluayBmcm9tICdsb2NhbF9tb2R1bGVzL3N3LXZhbHVlbGluayc7CmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWRhY3Rpb24nOwppbXBvcnQgY29uZmlnIGZyb20gJ2FwcC1jb25maWcnOwppbXBvcnQgY3NzTW9kdWxlcyBmcm9tICdyZWFjdC1jc3MtbW9kdWxlcyc7CmltcG9ydCBzdHlsZXMgZnJvbSAnLi4vV2l0aGRyYXdNb2RhbC9XaXRoZHJhd01vZGFsLnNjc3MnOwppbXBvcnQgb3duU3R5bGUgZnJvbSAnLi9XaXRoZHJhd01vZGFsTXVsdGlzaWdVc2VyLnNjc3MnOwppbXBvcnQgeyBCaWdOdW1iZXIgfSBmcm9tICdiaWdudW1iZXIuanMnOwppbXBvcnQgTW9kYWwgZnJvbSAnY29tcG9uZW50cy9tb2RhbC9Nb2RhbC9Nb2RhbCc7CmltcG9ydCBGaWVsZExhYmVsIGZyb20gJ2NvbXBvbmVudHMvZm9ybXMvRmllbGRMYWJlbC9GaWVsZExhYmVsJzsKaW1wb3J0IElucHV0IGZyb20gJ2NvbXBvbmVudHMvZm9ybXMvSW5wdXQvSW5wdXQnOwppbXBvcnQgQnV0dG9uIGZyb20gJ2NvbXBvbmVudHMvY29udHJvbHMvQnV0dG9uL0J1dHRvbic7CmltcG9ydCB7IFNoYXJlTGluayB9IGZyb20gJ2NvbXBvbmVudHMvY29udHJvbHMnOwppbXBvcnQgVG9vbHRpcCBmcm9tICdjb21wb25lbnRzL3VpL1Rvb2x0aXAvVG9vbHRpcCc7CmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UsIGluamVjdEludGwsIGRlZmluZU1lc3NhZ2VzIH0gZnJvbSAncmVhY3QtaW50bCc7CmltcG9ydCBSZWFjdFRvb2x0aXAgZnJvbSAncmVhY3QtdG9vbHRpcCc7CmltcG9ydCB7IGlzTW9iaWxlIH0gZnJvbSAncmVhY3QtZGV2aWNlLWRldGVjdCc7CmltcG9ydCBJbnZvaWNlSW5mb0Jsb2NrIGZyb20gJ2NvbXBvbmVudHMvSW52b2ljZUluZm9CbG9jay9JbnZvaWNlSW5mb0Jsb2NrJzsKaW1wb3J0IHR5cGVmb3JjZSBmcm9tICdzd2FwLmFwcC91dGlsL3R5cGVmb3JjZSc7IC8vIGltcG9ydCB7IGlzQ29pbkFkZHJlc3MgfSBmcm9tICdzd2FwLmFwcC91dGlsL3R5cGVmb3JjZScKCmltcG9ydCBtaW5BbW91bnQgZnJvbSAnaGVscGVycy9jb25zdGFudHMvbWluQW1vdW50JzsKaW1wb3J0IHsgaW5wdXRSZXBsYWNlQ29tbWFXaXRoRG90IH0gZnJvbSAnaGVscGVycy9kb21VdGlscyc7CmltcG9ydCBsaW5rcyBmcm9tICdoZWxwZXJzL2xpbmtzJzsKaW1wb3J0IFFyUmVhZGVyIGZyb20gJ2NvbXBvbmVudHMvUXJSZWFkZXInOwppbXBvcnQgeyBnZXRGdWxsT3JpZ2luIH0gZnJvbSAnaGVscGVycy9saW5rcyc7CnZhciBpc0RhcmsgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShjb25zdGFudHMubG9jYWxTdG9yYWdlLmlzRGFyayk7CnZhciBXaXRoZHJhd01vZGFsTXVsdGlzaWdVc2VyID0gKF9kZWMgPSBjb25uZWN0KGZ1bmN0aW9uIChfcmVmKSB7CiAgdmFyIF9yZWYkdXNlciA9IF9yZWYudXNlciwKICAgICAgYWN0aXZlRmlhdCA9IF9yZWYkdXNlci5hY3RpdmVGaWF0LAogICAgICBidGNNdWx0aXNpZ1VzZXJEYXRhID0gX3JlZiR1c2VyLmJ0Y011bHRpc2lnVXNlckRhdGEsCiAgICAgIHdhbGxldHMgPSBfcmVmJHVzZXIuYnRjTXVsdGlzaWdVc2VyRGF0YS53YWxsZXRzLAogICAgICBkYXNoYm9hcmRNb2RhbHNBbGxvd2VkID0gX3JlZi51aS5kYXNoYm9hcmRNb2RhbHNBbGxvd2VkOwogIHJldHVybiB7CiAgICBhY3RpdmVGaWF0OiBhY3RpdmVGaWF0LAogICAgaXRlbXM6IFtidGNNdWx0aXNpZ1VzZXJEYXRhXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHdhbGxldHMpKSwKICAgIGRhc2hib2FyZFZpZXc6IGRhc2hib2FyZE1vZGFsc0FsbG93ZWQKICB9Owp9KSwgX2RlYzIgPSBjc3NNb2R1bGVzKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3R5bGVzKSwgb3duU3R5bGUpLCB7CiAgYWxsb3dNdWx0aXBsZTogdHJ1ZQp9KSwgaW5qZWN0SW50bChfY2xhc3MgPSBfZGVjKF9jbGFzcyA9IF9kZWMyKF9jbGFzcyA9IChfdGVtcCA9IF9jbGFzczIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHsKICBfaW5oZXJpdHMoV2l0aGRyYXdNb2RhbE11bHRpc2lnVXNlciwgX1JlYWN0JENvbXBvbmVudCk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoV2l0aGRyYXdNb2RhbE11bHRpc2lnVXNlcik7CgogIGZ1bmN0aW9uIFdpdGhkcmF3TW9kYWxNdWx0aXNpZ1VzZXIocHJvcHMpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2l0aGRyYXdNb2RhbE11bHRpc2lnVXNlcik7CgogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAicHJvcHMiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImJyb2FkY2FzdENhbmNlbEZ1bmMiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImZpYXRSYXRlcyIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiYWN0dWFseU1pbkFtb3VudCIsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgdXNlZEFkbWluRmVlLCBtaW47CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgdXNlZEFkbWluRmVlID0gX3RoaXMuc3RhdGUudXNlZEFkbWluRmVlOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBoZWxwZXJzWydidGMnXS5lc3RpbWF0ZUZlZVZhbHVlKHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ3NlbmRfbXVsdGlzaWcnLAogICAgICAgICAgICAgICAgc3BlZWQ6ICdmYXN0JwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIG1pbiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgbWluQW1vdW50WydidGNfbXVsdGlzaWdfMm4yJ10gPSBtaW47CgogICAgICAgICAgICAgIGlmICh1c2VkQWRtaW5GZWUpIHsKICAgICAgICAgICAgICAgIG1pbiA9IG5ldyBCaWdOdW1iZXIobWluKS5wbHVzKHVzZWRBZG1pbkZlZS5taW4pLnRvTnVtYmVyKCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICBtaW46IG1pbgogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAic2V0QmFsYW5jZU9uU3RhdGUiLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihjdXJyZW5jeSkgewogICAgICAgIHZhciBhZGRyZXNzLCBfeWllbGQkYWN0aW9ucyRidGNtdWwsIHVuY29uZmlybWVkQmFsYW5jZSwgYmFsYW5jZSwgZmluYWxCYWxhbmNlOwoKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGFkZHJlc3MgPSBfdGhpcy5wcm9wcy5kYXRhLmFkZHJlc3M7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYWN0aW9ucy5idGNtdWx0aXNpZy5nZXRBZGRyQmFsYW5jZShhZGRyZXNzKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3lpZWxkJGFjdGlvbnMkYnRjbXVsID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICB1bmNvbmZpcm1lZEJhbGFuY2UgPSBfeWllbGQkYWN0aW9ucyRidGNtdWwudW5jb25maXJtZWRCYWxhbmNlOwogICAgICAgICAgICAgICAgYmFsYW5jZSA9IF95aWVsZCRhY3Rpb25zJGJ0Y211bC5iYWxhbmNlOwogICAgICAgICAgICAgICAgZmluYWxCYWxhbmNlID0gdW5jb25maXJtZWRCYWxhbmNlICE9PSB1bmRlZmluZWQgJiYgdW5jb25maXJtZWRCYWxhbmNlIDwgMCA/IG5ldyBCaWdOdW1iZXIoYmFsYW5jZSkucGx1cyh1bmNvbmZpcm1lZEJhbGFuY2UpLnRvU3RyaW5nKCkgOiBiYWxhbmNlOwoKICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBiYWxhbmNlOiBmaW5hbEJhbGFuY2UKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImdldEZpYXRCYWxhbmNlIiwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgX3RoaXMkcHJvcHMsIGN1cnJlbmN5LCBhY3RpdmVGaWF0LCBleEN1cnJlbmN5UmF0ZTsKCiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsIGN1cnJlbmN5ID0gX3RoaXMkcHJvcHMuZGF0YS5jdXJyZW5jeSwgYWN0aXZlRmlhdCA9IF90aGlzJHByb3BzLmFjdGl2ZUZpYXQ7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBhY3Rpb25zLnVzZXIuZ2V0RXhjaGFuZ2VSYXRlKGN1cnJlbmN5LCBhY3RpdmVGaWF0LnRvTG93ZXJDYXNlKCkpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGV4Q3VycmVuY3lSYXRlID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgX3RoaXMuZmlhdFJhdGVzW2N1cnJlbmN5XSA9IGV4Q3VycmVuY3lSYXRlOwoKICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICBleEN1cnJlbmN5UmF0ZTogZXhDdXJyZW5jeVJhdGUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMyk7CiAgICB9KSkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImhhbmRsZVN1Ym1pdCIsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgdmFyIF90aGlzJHN0YXRlLCB0bywgYW1vdW50LCBvd25UeCwgX3RoaXMkcHJvcHMyLCBfdGhpcyRwcm9wczIkZGF0YSwgY3VycmVuY3ksIGFkZHJlc3MsIGJhbGFuY2UsIGludm9pY2UsIG9uUmVhZHksIG5hbWUsIHNlbmRPcHRpb25zLCByZXN1bHQsIHR4SWQ7CgogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpcyRzdGF0ZSA9IF90aGlzLnN0YXRlLCB0byA9IF90aGlzJHN0YXRlLmFkZHJlc3MsIGFtb3VudCA9IF90aGlzJHN0YXRlLmFtb3VudCwgb3duVHggPSBfdGhpcyRzdGF0ZS5vd25UeDsKICAgICAgICAgICAgICBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcywgX3RoaXMkcHJvcHMyJGRhdGEgPSBfdGhpcyRwcm9wczIuZGF0YSwgY3VycmVuY3kgPSBfdGhpcyRwcm9wczIkZGF0YS5jdXJyZW5jeSwgYWRkcmVzcyA9IF90aGlzJHByb3BzMiRkYXRhLmFkZHJlc3MsIGJhbGFuY2UgPSBfdGhpcyRwcm9wczIkZGF0YS5iYWxhbmNlLCBpbnZvaWNlID0gX3RoaXMkcHJvcHMyJGRhdGEuaW52b2ljZSwgb25SZWFkeSA9IF90aGlzJHByb3BzMiRkYXRhLm9uUmVhZHksIG5hbWUgPSBfdGhpcyRwcm9wczIubmFtZTsKCiAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgaXNTaGlwcGVkOiB0cnVlCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBfdGhpcy5zZXRCYWxhbmNlT25TdGF0ZShjdXJyZW5jeSk7CgogICAgICAgICAgICAgIHNlbmRPcHRpb25zID0gewogICAgICAgICAgICAgICAgdG86IHRvLAogICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnQsCiAgICAgICAgICAgICAgICBzcGVlZDogJ2Zhc3QnCiAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgaWYgKCEoaW52b2ljZSAmJiBvd25UeCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gYWN0aW9ucy5pbnZvaWNlcy5tYXJrSW52b2ljZShpbnZvaWNlLmlkLCAncmVhZHknLCBvd25UeCwgYWRkcmVzcyk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgYWN0aW9ucy5sb2FkZXIuaGlkZSgpOwogICAgICAgICAgICAgIGFjdGlvbnMubm90aWZpY2F0aW9ucy5zaG93KGNvbnN0YW50cy5ub3RpZmljYXRpb25zLlN1Y2Nlc3NXaXRoZHJhdywgewogICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnQsCiAgICAgICAgICAgICAgICBjdXJyZW5jeTogY3VycmVuY3ksCiAgICAgICAgICAgICAgICBhZGRyZXNzOiB0bwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICBpc1NoaXBwZWQ6IGZhbHNlLAogICAgICAgICAgICAgICAgICBlcnJvcjogZmFsc2UKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGFjdGlvbnMubW9kYWxzLmNsb3NlKG5hbWUpOwoKICAgICAgICAgICAgICBpZiAob25SZWFkeSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgICAgICAgICBvblJlYWR5KCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIHNlbmRPcHRpb25zID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzZW5kT3B0aW9ucyksIHt9LCB7CiAgICAgICAgICAgICAgICAvL0AKICAgICAgICAgICAgICAgIGZyb206IGFkZHJlc3MKICAgICAgICAgICAgICB9KTsgLy9ACgogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbnMuYnRjbXVsdGlzaWcuc2VuZChzZW5kT3B0aW9ucyk7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgIHR4SWQgPSBmYWxzZTsKCiAgICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbnMubXVsdGlzaWdUeC5icm9hZGNhc3QoewogICAgICAgICAgICAgICAgc2VuZGVyOiBhZGRyZXNzLAogICAgICAgICAgICAgICAgZGVzdGluYXRpb246IHRvLAogICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnQsCiAgICAgICAgICAgICAgICBmZWU6IDAuMDAwMSwKICAgICAgICAgICAgICAgIC8vIGFjdGlvbnMuaGVscGVycy5sYXN0QnRjRmVlCiAgICAgICAgICAgICAgICByYXdUeDogcmVzdWx0CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgIHR4SWQgPSBfY29udGV4dDQuc2VudDsKCiAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgX3RoaXMuYnJvYWRjYXN0Q2FuY2VsRnVuYyA9IGFjdGlvbnMuYnRjbXVsdGlzaWcuYnJvYWRjYXN0VFgyUm9vbSh7CiAgICAgICAgICAgICAgICB0eFJhdzogcmVzdWx0LAogICAgICAgICAgICAgICAgdHhJZDogdHhJZCwKICAgICAgICAgICAgICAgIGFkZHJlc3M6IHRvLAogICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnQsCiAgICAgICAgICAgICAgICBjdXJyZW5jeTogJ0JUQycsCiAgICAgICAgICAgICAgICBpbnZvaWNlOiBpbnZvaWNlCiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgICBzdGVwOiAncmF3bGluaycsCiAgICAgICAgICAgICAgICAgIHR4UmF3OiByZXN1bHQsCiAgICAgICAgICAgICAgICAgIHR4SWQ6IHR4SWQsCiAgICAgICAgICAgICAgICAgIGlzU2hpcHBlZDogZmFsc2UKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgICAgc3RlcDogJ3Jhd2xpbmsnLAogICAgICAgICAgICAgICAgICB0eFJhdzogcmVzdWx0LAogICAgICAgICAgICAgICAgICB0eElkOiB0eElkLAogICAgICAgICAgICAgICAgICBpc1NoaXBwZWQ6IGZhbHNlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNCk7CiAgICB9KSkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInNlbGxBbGxCYWxhbmNlIiwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICB2YXIgX3RoaXMkc3RhdGUyLCBhbW91bnQsIGJhbGFuY2UsIGN1cnJlbmN5LCBtaW4sIHVzZWRBZG1pbkZlZSwgZGF0YSwgbWluRmVlLCBmZWVGcm9tQW1vdW50LCBiYWxhbmNlTWluZXI7CgogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpcyRzdGF0ZTIgPSBfdGhpcy5zdGF0ZSwgYW1vdW50ID0gX3RoaXMkc3RhdGUyLmFtb3VudCwgYmFsYW5jZSA9IF90aGlzJHN0YXRlMi5iYWxhbmNlLCBjdXJyZW5jeSA9IF90aGlzJHN0YXRlMi5jdXJyZW5jeSwgbWluID0gX3RoaXMkc3RhdGUyLm1pbiwgdXNlZEFkbWluRmVlID0gX3RoaXMkc3RhdGUyLnVzZWRBZG1pbkZlZTsKICAgICAgICAgICAgICBkYXRhID0gX3RoaXMucHJvcHMuZGF0YTsKICAgICAgICAgICAgICBtaW5GZWUgPSBtaW47CgogICAgICAgICAgICAgIGlmICh1c2VkQWRtaW5GZWUpIHsKICAgICAgICAgICAgICAgIGZlZUZyb21BbW91bnQgPSBuZXcgQmlnTnVtYmVyKHVzZWRBZG1pbkZlZS5mZWUpLmRpdmlkZWRCeSgxMDApLm11bHRpcGxpZWRCeShiYWxhbmNlKTsKICAgICAgICAgICAgICAgIG1pbkZlZSA9IG5ldyBCaWdOdW1iZXIobWluRmVlKS5wbHVzKGZlZUZyb21BbW91bnQpLnRvTnVtYmVyKCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBiYWxhbmNlTWluZXIgPSBiYWxhbmNlID8gYmFsYW5jZSAhPT0gMCA/IG5ldyBCaWdOdW1iZXIoYmFsYW5jZSkubWludXMobWluRmVlKS50b1N0cmluZygpIDogYmFsYW5jZSA6ICdXYWl0IHBsZWFzZS4gTG9hZGluZy4uLic7CgogICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIGFtb3VudDogYmFsYW5jZU1pbmVyCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNSk7CiAgICB9KSkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImhhbmRsZUNvcHlMaW5rIiwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgaXNMaW5rQ29waWVkOiB0cnVlCiAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgaXNMaW5rQ29waWVkOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgfSwgNTAwKTsKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJoYW5kbGVSZWFkeSIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG5hbWUgPSBfdGhpcy5wcm9wcy5uYW1lOwogICAgICBhY3Rpb25zLm1vZGFscy5jbG9zZShuYW1lKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIm9wZW5TY2FuIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgb3BlblNjYW5DYW0gPSBfdGhpcy5zdGF0ZS5vcGVuU2NhbkNhbTsKCiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgb3BlblNjYW5DYW06ICFvcGVuU2NhbkNhbQogICAgICAgIH07CiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiaGFuZGxlRXJyb3IiLCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImhhbmRsZVNjYW4iLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBpZiAoZGF0YSkgewogICAgICAgIHZhciBhZGRyZXNzID0gZGF0YS5zcGxpdCgnOicpWzFdLnNwbGl0KCc/JylbMF07CiAgICAgICAgdmFyIGFtb3VudCA9IGRhdGEuc3BsaXQoJz0nKVsxXTsKCiAgICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzcywKICAgICAgICAgICAgYW1vdW50OiBhbW91bnQKICAgICAgICAgIH07CiAgICAgICAgfSk7CgogICAgICAgIF90aGlzLm9wZW5TY2FuKCk7CiAgICAgIH0KICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImhhbmRsZUNsb3NlIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgbmFtZSA9IF90aGlzLnByb3BzLm5hbWU7CiAgICAgIGFjdGlvbnMubW9kYWxzLmNsb3NlKG5hbWUpOwogICAgfSk7CgogICAgdmFyIF9wcm9wcyRkYXRhID0gcHJvcHMuZGF0YSwKICAgICAgICBfY3VycmVuY3kgPSBfcHJvcHMkZGF0YS5jdXJyZW5jeSwKICAgICAgICBfYW1vdW50ID0gX3Byb3BzJGRhdGEuYW1vdW50LAogICAgICAgIHRvQWRkcmVzcyA9IF9wcm9wcyRkYXRhLnRvQWRkcmVzcywKICAgICAgICBfYWRkcmVzcyA9IF9wcm9wcyRkYXRhLmFkZHJlc3MsCiAgICAgICAgaXRlbXMgPSBwcm9wcy5pdGVtczsgLy9ACgogICAgdmFyIGN1cnJlbnREZWNpbWFscyA9IGNvbnN0YW50cy50b2tlbkRlY2ltYWxzLmJ0Y211bHRpc2lnOwogICAgdmFyIHNlbGVjdGVkSXRlbSA9IGl0ZW1zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICByZXR1cm4gaXRlbS5hZGRyZXNzID09PSBfYWRkcmVzczsKICAgIH0pWzBdOwogICAgX3RoaXMuYnJvYWRjYXN0Q2FuY2VsRnVuYyA9IGZhbHNlOwogICAgdmFyIF91c2VkQWRtaW5GZWUgPSBmYWxzZTsKICAgIHZhciBfbWluID0gbWluQW1vdW50WydidGNfbXVsdGlzaWdfMm4yJ107CgogICAgaWYgKGNvbmZpZyAmJiBjb25maWcub3B0cyAmJiBjb25maWcub3B0cy5mZWUgJiYgY29uZmlnLm9wdHMuZmVlLmJ0YykgewogICAgICBfdXNlZEFkbWluRmVlID0gY29uZmlnLm9wdHMuZmVlLmJ0YzsKCiAgICAgIGlmIChfdXNlZEFkbWluRmVlKSB7CiAgICAgICAgLy8gbWluZXIgZmVlICsgbWluaW1hbCBhZG1pbiBmZWUKICAgICAgICBfbWluID0gbmV3IEJpZ051bWJlcihfbWluKS5wbHVzKF91c2VkQWRtaW5GZWUubWluKS50b051bWJlcigpOwogICAgICB9CiAgICB9CgogICAgX3RoaXMuc3RhdGUgPSB7CiAgICAgIHVzZWRBZG1pbkZlZTogX3VzZWRBZG1pbkZlZSwKICAgICAgc3RlcDogJ2ZpbGxmb3JtJywKICAgICAgaXNTaGlwcGVkOiBmYWxzZSwKICAgICAgYWRkcmVzczogdG9BZGRyZXNzID8gdG9BZGRyZXNzIDogJycsCiAgICAgIGFtb3VudDogX2Ftb3VudCA/IF9hbW91bnQgOiAnJywKICAgICAgY29kZTogJycsCiAgICAgIG1pbnVzOiAnJywKICAgICAgYmFsYW5jZTogc2VsZWN0ZWRJdGVtLmJhbGFuY2UgfHwgMCwKICAgICAgZXRoQmFsYW5jZTogbnVsbCwKICAgICAgY3VycmVudERlY2ltYWxzOiBjdXJyZW50RGVjaW1hbHMsCiAgICAgIGdldEZpYXQ6IDAsCiAgICAgIGVycm9yOiBmYWxzZSwKICAgICAgc21zQ29uZmlybWVkOiBmYWxzZSwKICAgICAgdHhSYXc6ICcnLAogICAgICBpc0xpbmtDb3BpZWQ6IGZhbHNlLAogICAgICBvd25UeDogJycsCiAgICAgIG1pbjogX21pbgogICAgfTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhXaXRoZHJhd01vZGFsTXVsdGlzaWdVc2VyLCBbewogICAga2V5OiAiY29tcG9uZW50RGlkTW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkgewogICAgICB2YXIgZXhDdXJyZW5jeVJhdGUgPSB0aGlzLnN0YXRlLmV4Q3VycmVuY3lSYXRlOwogICAgICB2YXIgY3VycmVuY3kgPSB0aGlzLnByb3BzLmRhdGEuY3VycmVuY3k7CiAgICAgIHRoaXMuc2V0QmFsYW5jZU9uU3RhdGUoY3VycmVuY3kpOwogICAgICB0aGlzLmZpYXRSYXRlcyA9IHt9OwogICAgICB0aGlzLmdldEZpYXRCYWxhbmNlKCk7CiAgICAgIHRoaXMuYWN0dWFseU1pbkFtb3VudCgpOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBvbmVudFdpbGxVbm1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHsKICAgICAgaWYgKHRoaXMuYnJvYWRjYXN0Q2FuY2VsRnVuYykgdGhpcy5icm9hZGNhc3RDYW5jZWxGdW5jKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkcmVzc0lzQ29ycmVjdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkcmVzc0lzQ29ycmVjdCgpIHsKICAgICAgdmFyIGN1cnJlbmN5ID0gdGhpcy5wcm9wcy5kYXRhLmN1cnJlbmN5OwogICAgICB2YXIgYWRkcmVzcyA9IHRoaXMuc3RhdGUuYWRkcmVzczsKCiAgICAgIGlmICghdHlwZWZvcmNlLmlzQ29pbkFkZHJlc3MuQlRDKGFkZHJlc3MpKSB7CiAgICAgICAgcmV0dXJuIGFjdGlvbnMuYnRjLmFkZHJlc3NJc0NvcnJlY3QoYWRkcmVzcyk7CiAgICAgIH0gZWxzZSByZXR1cm4gdHJ1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzJHN0YXRlMyA9IHRoaXMuc3RhdGUsCiAgICAgICAgICBhZGRyZXNzID0gX3RoaXMkc3RhdGUzLmFkZHJlc3MsCiAgICAgICAgICBhbW91bnQgPSBfdGhpcyRzdGF0ZTMuYW1vdW50LAogICAgICAgICAgY29kZSA9IF90aGlzJHN0YXRlMy5jb2RlLAogICAgICAgICAgYmFsYW5jZSA9IF90aGlzJHN0YXRlMy5iYWxhbmNlLAogICAgICAgICAgaXNTaGlwcGVkID0gX3RoaXMkc3RhdGUzLmlzU2hpcHBlZCwKICAgICAgICAgIG1pbnVzID0gX3RoaXMkc3RhdGUzLm1pbnVzLAogICAgICAgICAgZXhDdXJyZW5jeVJhdGUgPSBfdGhpcyRzdGF0ZTMuZXhDdXJyZW5jeVJhdGUsCiAgICAgICAgICBjdXJyZW50RGVjaW1hbHMgPSBfdGhpcyRzdGF0ZTMuY3VycmVudERlY2ltYWxzLAogICAgICAgICAgZXJyb3IgPSBfdGhpcyRzdGF0ZTMuZXJyb3IsCiAgICAgICAgICBzdGVwID0gX3RoaXMkc3RhdGUzLnN0ZXAsCiAgICAgICAgICB0eFJhdyA9IF90aGlzJHN0YXRlMy50eFJhdywKICAgICAgICAgIHR4SWQgPSBfdGhpcyRzdGF0ZTMudHhJZCwKICAgICAgICAgIGlzTGlua0NvcGllZCA9IF90aGlzJHN0YXRlMy5pc0xpbmtDb3BpZWQsCiAgICAgICAgICBvd25UeCA9IF90aGlzJHN0YXRlMy5vd25UeCwKICAgICAgICAgIG9wZW5TY2FuQ2FtID0gX3RoaXMkc3RhdGUzLm9wZW5TY2FuQ2FtLAogICAgICAgICAgdXNlZEFkbWluRmVlID0gX3RoaXMkc3RhdGUzLnVzZWRBZG1pbkZlZTsKICAgICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsCiAgICAgICAgICBuYW1lID0gX3RoaXMkcHJvcHMzLm5hbWUsCiAgICAgICAgICBfdGhpcyRwcm9wczMkZGF0YSA9IF90aGlzJHByb3BzMy5kYXRhLAogICAgICAgICAgY3VycmVuY3kgPSBfdGhpcyRwcm9wczMkZGF0YS5jdXJyZW5jeSwKICAgICAgICAgIGludm9pY2UgPSBfdGhpcyRwcm9wczMkZGF0YS5pbnZvaWNlLAogICAgICAgICAgaXRlbXMgPSBfdGhpcyRwcm9wczMuaXRlbXMsCiAgICAgICAgICBpbnRsID0gX3RoaXMkcHJvcHMzLmludGwsCiAgICAgICAgICBwb3J0YWxVSSA9IF90aGlzJHByb3BzMy5wb3J0YWxVSTsKICAgICAgdmFyIF90aGlzJHN0YXRlNCA9IHRoaXMuc3RhdGUsCiAgICAgICAgICBtaW4gPSBfdGhpcyRzdGF0ZTQubWluLAogICAgICAgICAgZGVmYXVsdE1pbiA9IF90aGlzJHN0YXRlNC5taW47CgogICAgICBpZiAodXNlZEFkbWluRmVlKSB7CiAgICAgICAgaWYgKGFtb3VudCkgewogICAgICAgICAgdmFyIGZlZUZyb21BbW91bnQgPSBuZXcgQmlnTnVtYmVyKHVzZWRBZG1pbkZlZS5mZWUpLmRpdmlkZWRCeSgxMDApLm11bHRpcGxpZWRCeShhbW91bnQpOwogICAgICAgICAgaWYgKG5ldyBCaWdOdW1iZXIodXNlZEFkbWluRmVlLm1pbikuaXNHcmVhdGVyVGhhbihmZWVGcm9tQW1vdW50KSkgZmVlRnJvbUFtb3VudCA9IG5ldyBCaWdOdW1iZXIodXNlZEFkbWluRmVlLm1pbik7CiAgICAgICAgICBtaW4gPSBuZXcgQmlnTnVtYmVyKG1pbikucGx1cyhmZWVGcm9tQW1vdW50KS50b051bWJlcigpOyAvLyBBZG1pbiBmZWUgaW4gc2F0b3NoaQogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIHR4Q29uZmlybUxpbmsgPSAiIi5jb25jYXQoZ2V0RnVsbE9yaWdpbigpKS5jb25jYXQobGlua3MubXVsdGlzaWduLCAiL2J0Yy9jb25maXJtLyIpLmNvbmNhdCh0eElkKTsKCiAgICAgIGlmIChpbnZvaWNlKSB7CiAgICAgICAgdHhDb25maXJtTGluayA9ICIiLmNvbmNhdChnZXRGdWxsT3JpZ2luKCkpLmNvbmNhdChsaW5rcy5tdWx0aXNpZ24sICIvYnRjL2NvbmZpcm1pbnZvaWNlLyIpLmNvbmNhdChpbnZvaWNlLmlkLCAifCIpLmNvbmNhdCh0eElkKTsKICAgICAgfSAvL0AKCgogICAgICB2YXIgbGlua2VkID0gTGluay5hbGwodGhpcywgJ2FkZHJlc3MnLCAnYW1vdW50JywgJ2NvZGUnLCAnb3duVHgnKTsKICAgICAgdmFyIGRhdGFDdXJyZW5jeSA9IGN1cnJlbmN5LnRvVXBwZXJDYXNlKCk7CiAgICAgIHZhciBpc0Rpc2FibGVkID0gIWFkZHJlc3MgfHwgIWFtb3VudCB8fCBpc1NoaXBwZWQgfHwgb3duVHggfHwgIXRoaXMuYWRkcmVzc0lzQ29ycmVjdCgpIHx8IG5ldyBCaWdOdW1iZXIoYW1vdW50KS5pc0dyZWF0ZXJUaGFuKGJhbGFuY2UpIHx8IG5ldyBCaWdOdW1iZXIoYW1vdW50KS5kcCgpID4gY3VycmVudERlY2ltYWxzOwogICAgICB2YXIgTmFuUmVwbGFjZW1lbnQgPSBiYWxhbmNlIHx8ICcuLi4nOwogICAgICB2YXIgZ2V0RmlhdCA9IGFtb3VudCAqIGV4Q3VycmVuY3lSYXRlOwoKICAgICAgaWYgKG5ldyBCaWdOdW1iZXIoYW1vdW50KS5pc0dyZWF0ZXJUaGFuKDApKSB7CiAgICAgICAgbGlua2VkLmFtb3VudC5jaGVjayhmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKHZhbHVlKS5pc0xlc3NUaGFuT3JFcXVhbFRvKGJhbGFuY2UpOwogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICB3aWR0aDogJzM0MHB4JywKICAgICAgICAgICAgZm9udFNpemU6ICcxMnB4JwogICAgICAgICAgfQogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAiV2l0aGRyb3cxNzAiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJUaGUgYW1vdW50IG11c3QgYmUgbm8gbW9yZSB0aGFuIHlvdXIgYmFsYW5jZSIsCiAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAgbWluOiBtaW4sCiAgICAgICAgICAgIGN1cnJlbmN5OiAiIi5jb25jYXQoY3VycmVuY3kpCiAgICAgICAgICB9CiAgICAgICAgfSkpKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuc3RhdGUuYW1vdW50IDwgMCkgewogICAgICAgIHRoaXMuc2V0U3RhdGUoewogICAgICAgICAgYW1vdW50OiAnJywKICAgICAgICAgIG1pbnVzOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHZhciBsYWJlbHMgPSBkZWZpbmVNZXNzYWdlcyh7CiAgICAgICAgd2l0aGRyb3dNb2RhbDogewogICAgICAgICAgaWQ6ICd3aXRoZHJvd1RpdGxlMjcxJywKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiU2VuZCIKICAgICAgICB9LAogICAgICAgIG93blR4UGxhY2Vob2xkZXI6IHsKICAgICAgICAgIGlkOiAnd2l0aGRyYXdPd25UeFBsYWNlaG9sZGVyJywKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAn0JXRgdC70Lgg0L7Qv9C70LDRgtC40LvQuCDRgSDQtNGA0YPQs9C+0LPQviDQuNGB0YLQvtGH0L3QuNC60LAnCiAgICAgICAgfQogICAgICB9KTsKICAgICAgdmFyIGZvcm1SZW5kZXIgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgb3BlblNjYW5DYW0gJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUXJSZWFkZXIsIHsKICAgICAgICBvcGVuU2NhbjogdGhpcy5vcGVuU2NhbiwKICAgICAgICBoYW5kbGVFcnJvcjogdGhpcy5oYW5kbGVFcnJvciwKICAgICAgICBoYW5kbGVTY2FuOiB0aGlzLmhhbmRsZVNjYW4KICAgICAgfSksIGludm9pY2UgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSW52b2ljZUluZm9CbG9jaywgewogICAgICAgIGludm9pY2VEYXRhOiBpbnZvaWNlCiAgICAgIH0pLCBzdGVwID09PSAnZmlsbGZvcm0nICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgicCIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJub3RpY2UgZGFzaGJvYXJkVmlld05vdGljZSIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAiV2l0aGRyb3cyMTMiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiUGxlYXNlIG5vdGU6IEZlZSBpcyB7bWluQW1vdW50fSB7ZGF0YX0ue2JyfVlvdXIgYmFsYW5jZSBtdXN0IGV4Y2VlZCB0aGlzIHN1bSB0byBwZXJmb3JtIHRyYW5zYWN0aW9uIiwKICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgIG1pbkFtb3VudDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCBtaW4pLAogICAgICAgICAgYnI6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJiciIsIG51bGwpLAogICAgICAgICAgZGF0YTogIiIuY29uY2F0KGRhdGFDdXJyZW5jeSkKICAgICAgICB9CiAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJyIiwgbnVsbCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJiciIsIG51bGwpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiYnIiLCBudWxsKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJoaWdoTGV2ZWwiLAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICBtYXJnaW5Cb3R0b206ICcyMHB4JwogICAgICAgIH0KICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRmllbGRMYWJlbCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAiV2l0aGRyb3cxMTk0IiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkFkZHJlc3MgIgogICAgICB9KSwgJyAnLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUb29sdGlwLCB7CiAgICAgICAgaWQ6ICJXdEgyMDMiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicKICAgICAgICB9CiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogIldUSDI3NSIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJNYWtlIHN1cmUgdGhlIHdhbGxldCB5b3V7YnJ9YXJlIHNlbmRpbmcgdGhlIGZ1bmRzIHRvIHN1cHBvcnRzIHtjdXJyZW5jeX0iLAogICAgICAgIHZhbHVlczogewogICAgICAgICAgYnI6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJiciIsIG51bGwpLAogICAgICAgICAgY3VycmVuY3k6ICIiLmNvbmNhdChjdXJyZW5jeS50b1VwcGVyQ2FzZSgpKQogICAgICAgIH0KICAgICAgfSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KElucHV0LCB7CiAgICAgICAgdmFsdWVMaW5rOiBsaW5rZWQuYWRkcmVzcywKICAgICAgICBmb2N1c09uSW5pdDogdHJ1ZSwKICAgICAgICBwYXR0ZXJuOiAiMC05YS16QS1aOiIsCiAgICAgICAgcGxhY2Vob2xkZXI6ICJFbnRlciAiLmNvbmNhdChjdXJyZW5jeS50b1VwcGVyQ2FzZSgpLCAiIGFkZHJlc3MgdG8gdHJhbnNmZXIiKSwKICAgICAgICBxcjogdHJ1ZSwKICAgICAgICB3aXRoTWFyZ2luOiB0cnVlLAogICAgICAgIG9wZW5TY2FuOiB0aGlzLm9wZW5TY2FuCiAgICAgIH0pLCBhZGRyZXNzICYmICF0aGlzLmFkZHJlc3NJc0NvcnJlY3QoKSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIHN0eWxlTmFtZTogInJlZG5vdGUiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogIldpdGhkcmF3SW5jb3JlY3RBZGRyZXNzIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIllvdXIgYWRkcmVzcyBub3QgY29ycmVjdCIKICAgICAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJsb3dMZXZlbCAiLmNvbmNhdChpc0RhcmsgPyAnZGFyaycgOiAnJyksCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIG1hcmdpbkJvdHRvbTogJzUwcHgnCiAgICAgICAgfQogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgicCIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJiYWxhbmNlIgogICAgICB9LCBiYWxhbmNlLCAiICIsIGN1cnJlbmN5LnRvVXBwZXJDYXNlKCkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGaWVsZExhYmVsLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJXaXRoZHJvdzExOCIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJBbW91bnQgIgogICAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAiZ3JvdXAiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KElucHV0LCB7CiAgICAgICAgc3R5bGVOYW1lOiAiaW5wdXQiLAogICAgICAgIHZhbHVlTGluazogbGlua2VkLmFtb3VudCwKICAgICAgICBwYXR0ZXJuOiAiMC05XFwuIiwKICAgICAgICBwbGFjZWhvbGRlcjogIkVudGVyIHRoZSBhbW91bnQiLAogICAgICAgIGZpYXQ6IGdldEZpYXQudG9GaXhlZCgyKSwKICAgICAgICBvbktleURvd246IGlucHV0UmVwbGFjZUNvbW1hV2l0aERvdAogICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZTogewogICAgICAgICAgbWFyZ2luTGVmdDogJzE1cHgnCiAgICAgICAgfQogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsKICAgICAgICBibHVlOiB0cnVlLAogICAgICAgIGJpZzogdHJ1ZSwKICAgICAgICBvbkNsaWNrOiB0aGlzLnNlbGxBbGxCYWxhbmNlLAogICAgICAgICJkYXRhLXRpcCI6IHRydWUsCiAgICAgICAgImRhdGEtZm9yIjogIldpdGhkcm93MTM0IgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJTZWxlY3QyMTAiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiTUFYIgogICAgICB9KSkpLCAhaXNNb2JpbGUgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3RUb29sdGlwLCB7CiAgICAgICAgaWQ6ICJXaXRoZHJvdzEzNCIsCiAgICAgICAgdHlwZTogImxpZ2h0IiwKICAgICAgICBlZmZlY3Q6ICJzb2xpZCIsCiAgICAgICAgc3R5bGVOYW1lOiAici10b29sdGlwIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJXaXRoZHJhd0J1dHRvbjMyIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIndoZW4geW91IGNsaWNrIHRoaXMgYnV0dG9uLCBpbiB0aGUgZmllbGQsIGFuIGFtb3VudCBlcXVhbCB0byB5b3VyIGJhbGFuY2UgbWludXMgdGhlIG1pbmVycyBjb21taXNzaW9uIHdpbGwgYXBwZWFyIgogICAgICB9KSksICFsaW5rZWQuYW1vdW50LmVycm9yICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiBtaW51cyA/ICdyZWRub3RlJyA6ICdub3RlJwogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJXaXRoZHJhd01vZGFsMjU2IiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIk5vIGxlc3MgdGhhbiB7bWluQW1vdW50fSIsCiAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICBtaW5BbW91bnQ6ICIiLmNvbmNhdChkZWZhdWx0TWluKQogICAgICAgIH0KICAgICAgfSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAic2VuZEJ0bnNXcmFwcGVyIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIHN0eWxlTmFtZTogImFjdGlvbkJ0biIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7CiAgICAgICAgYmx1ZTogdHJ1ZSwKICAgICAgICBiaWc6IHRydWUsCiAgICAgICAgZmlsbDogdHJ1ZSwKICAgICAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCwKICAgICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZVN1Ym1pdAogICAgICB9LCBpc1NoaXBwZWQgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAiV2l0aGRyYXdNb2RhbDExMjEyIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlByb2Nlc3NpbmcgLi4uIgogICAgICB9KSkgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAiV2l0aGRyYXdNb2RhbDExMSIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJTZW5kIgogICAgICB9KSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJhY3Rpb25CdG4iCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgewogICAgICAgIGJpZzogdHJ1ZSwKICAgICAgICBmaWxsOiB0cnVlLAogICAgICAgIGdyYXk6IHRydWUsCiAgICAgICAgb25DbGljazogdGhpcy5oYW5kbGVDbG9zZQogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAiV2l0aGRyYXdNb2RhbENhbmNlbEJ0biIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJDYW5jZWwiCiAgICAgIH0pKSkpKSwgZXJyb3IgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJyZWRub3RlIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJXaXRoZHJhd01vZGFsRXJyb3JTZW5kIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIntlcnJvck5hbWV9IHtjdXJyZW5jeX06e2JyfXtlcnJvck1lc3NhZ2V9IiwKICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgIGVycm9yTmFtZTogaW50bC5mb3JtYXRNZXNzYWdlKGVycm9yLm5hbWUpLAogICAgICAgICAgZXJyb3JNZXNzYWdlOiBpbnRsLmZvcm1hdE1lc3NhZ2UoZXJyb3IubWVzc2FnZSksCiAgICAgICAgICBicjogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJyIiwgbnVsbCksCiAgICAgICAgICBjdXJyZW5jeTogIiIuY29uY2F0KGN1cnJlbmN5KQogICAgICAgIH0KICAgICAgfSkpLCBpbnZvaWNlICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiaHIiLCBudWxsKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJsb3dMZXZlbCAiLmNvbmNhdChpc0RhcmsgPyAnZGFyaycgOiAnJyksCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIG1hcmdpbkJvdHRvbTogJzUwcHgnCiAgICAgICAgfQogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIHN0eWxlTmFtZTogImdyb3VwRmllbGQiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAiZG93bkxhYmVsIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGaWVsZExhYmVsLCB7CiAgICAgICAgaW5Sb3c6IHRydWUKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7CiAgICAgICAgc3R5bGVOYW1lOiAibW9iaWxlRm9udCIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAiV2l0aGRyb3dPd25UWCIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJcdTA0MThcdTA0M0JcdTA0MzggXHUwNDQzXHUwNDNBXHUwNDMwXHUwNDM2XHUwNDM4XHUwNDQyXHUwNDM1IFRYIgogICAgICB9KSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAiZ3JvdXAiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KElucHV0LCB7CiAgICAgICAgc3R5bGVOYW1lOiAiaW5wdXQiLAogICAgICAgIHZhbHVlTGluazogbGlua2VkLm93blR4LAogICAgICAgIHBsYWNlaG9sZGVyOiAiIi5jb25jYXQoaW50bC5mb3JtYXRNZXNzYWdlKGxhYmVscy5vd25UeFBsYWNlaG9sZGVyKSkKICAgICAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7CiAgICAgICAgc3R5bGVOYW1lOiAiYnV0dG9uRnVsbCIsCiAgICAgICAgYmx1ZTogdHJ1ZSwKICAgICAgICBiaWc6IHRydWUsCiAgICAgICAgZnVsbFdpZHRoOiB0cnVlLAogICAgICAgIGRpc2FibGVkOiAhb3duVHggfHwgaXNTaGlwcGVkLAogICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU3VibWl0CiAgICAgIH0sIGlzU2hpcHBlZCA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJXaXRoZHJhd01vZGFsMTEyMTIiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiUHJvY2Vzc2luZyAuLi4iCiAgICAgIH0pKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogIldpdGhkcmF3TW9kYWxJbnZvaWNlU2F2ZVR4IiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlx1MDQxRVx1MDQ0Mlx1MDQzQ1x1MDQzNVx1MDQ0Mlx1MDQzOFx1MDQ0Mlx1MDQ0QyBcdTA0M0FcdTA0MzBcdTA0M0EgXHUwNDNFXHUwNDNGXHUwNDNCXHUwNDMwXHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDNEXHUwNDRCXHUwNDM5IgogICAgICB9KSkpKSwgc3RlcCA9PT0gJ3Jhd2xpbmsnICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgicCIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJub3RpY2UgZGFzaGJvYXJkVmlld05vdGljZSIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAiV2l0aGRyYXdNU1VzZXJSZWFkeSIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJUWCBjb25maXJtIGxpbmsiCiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiYnIiLCBudWxsKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAiV2l0aGRyYXdNU1VzZXJNZXNzYWdlIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlNlbmQgdGhpcyBsaW5rIHRvIG90aGVyIHdhbGxldCBvd25lciIKICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIHN0eWxlTmFtZTogImhpZ2hMZXZlbCIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJncm91cEZpZWxkIgogICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFNoYXJlTGluaywgewogICAgICAgIGxpbms6IHR4Q29uZmlybUxpbmsKICAgICAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJjZW50ZXJBbGlnbiIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7CiAgICAgICAgc3R5bGVOYW1lOiAiYnV0dG9uRnVsbCIsCiAgICAgICAgYmlnOiB0cnVlLAogICAgICAgIGJsdWU6IHRydWUsCiAgICAgICAgZnVsbFdpZHRoOiB0cnVlLAogICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlUmVhZHkKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAiV2l0aGRyYXdNU1VzZXJGaW5pc2giLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiUmVhZHkiCiAgICAgIH0pKSkpKTsKICAgICAgcmV0dXJuIHBvcnRhbFVJID8gZm9ybVJlbmRlciA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE1vZGFsLCB7CiAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICB0aXRsZTogIiIuY29uY2F0KGludGwuZm9ybWF0TWVzc2FnZShsYWJlbHMud2l0aGRyb3dNb2RhbCksICcgJykuY29uY2F0KGN1cnJlbmN5LnRvVXBwZXJDYXNlKCkpCiAgICAgIH0sIGZvcm1SZW5kZXIpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFdpdGhkcmF3TW9kYWxNdWx0aXNpZ1VzZXI7Cn0oUmVhY3QuQ29tcG9uZW50KSwgX2RlZmluZVByb3BlcnR5KF9jbGFzczIsICJwcm9wVHlwZXMiLCB7CiAgbmFtZTogUHJvcFR5cGVzLnN0cmluZywKICBkYXRhOiBQcm9wVHlwZXMub2JqZWN0Cn0pLCBfdGVtcCkpIHx8IF9jbGFzcykgfHwgX2NsYXNzKSB8fCBfY2xhc3MpOwpleHBvcnQgeyBXaXRoZHJhd01vZGFsTXVsdGlzaWdVc2VyIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/front/shared/components/modals/WithdrawModalMultisig/WithdrawModalMultisigUser.tsx"],"names":["React","Fragment","PropTypes","helpers","constants","actions","Link","connect","config","cssModules","styles","ownStyle","BigNumber","Modal","FieldLabel","Input","Button","ShareLink","Tooltip","FormattedMessage","injectIntl","defineMessages","ReactTooltip","isMobile","InvoiceInfoBlock","typeforce","minAmount","inputReplaceCommaWithDot","links","QrReader","getFullOrigin","isDark","localStorage","getItem","WithdrawModalMultisigUser","user","activeFiat","btcMultisigUserData","wallets","dashboardModalsAllowed","ui","items","dashboardView","allowMultiple","props","usedAdminFee","state","estimateFeeValue","method","speed","min","plus","toNumber","setState","currency","address","data","btcmultisig","getAddrBalance","unconfirmedBalance","balance","finalBalance","undefined","toString","getExchangeRate","toLowerCase","exCurrencyRate","fiatRates","to","amount","ownTx","invoice","onReady","name","isShipped","setBalanceOnState","sendOptions","invoices","markInvoice","id","loader","hide","notifications","show","SuccessWithdraw","error","modals","close","Function","from","send","result","txId","multisigTx","broadcast","sender","destination","fee","rawTx","broadcastCancelFunc","broadcastTX2Room","txRaw","step","minFee","feeFromAmount","dividedBy","multipliedBy","balanceMiner","minus","isLinkCopied","setTimeout","openScanCam","err","console","split","openScan","toAddress","currentDecimals","tokenDecimals","selectedItem","filter","item","opts","btc","code","ethBalance","getFiat","smsConfirmed","getFiatBalance","actualyMinAmount","isCoinAddress","BTC","addressIsCorrect","intl","portalUI","defaultMin","isGreaterThan","txConfirmLink","multisign","linked","all","dataCurrency","toUpperCase","isDisabled","dp","NanReplacement","check","value","isLessThanOrEqualTo","width","fontSize","labels","withdrowModal","defaultMessage","ownTxPlaceholder","formRender","handleError","handleScan","br","marginBottom","textAlign","toFixed","marginLeft","sellAllBalance","handleSubmit","handleClose","errorName","formatMessage","errorMessage","message","handleReady","Component","string","object"],"mappings":"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","sourcesContent":["// @ts-nocheck\r\nimport React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport helpers, { constants } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport Link from 'local_modules/sw-valuelink'\r\nimport { connect } from 'redaction'\r\nimport config from 'app-config'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from '../WithdrawModal/WithdrawModal.scss'\r\nimport ownStyle from './WithdrawModalMultisigUser.scss'\r\n\r\nimport { BigNumber } from 'bignumber.js'\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\r\nimport Input from 'components/forms/Input/Input'\r\nimport Button from 'components/controls/Button/Button'\r\nimport { ShareLink } from 'components/controls'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport { isMobile } from 'react-device-detect'\r\nimport InvoiceInfoBlock from 'components/InvoiceInfoBlock/InvoiceInfoBlock'\r\n\r\nimport typeforce from 'swap.app/util/typeforce'\r\n// import { isCoinAddress } from 'swap.app/util/typeforce'\r\nimport minAmount from 'helpers/constants/minAmount'\r\nimport { inputReplaceCommaWithDot } from 'helpers/domUtils'\r\nimport links from 'helpers/links'\r\nimport CopyToClipboard from 'react-copy-to-clipboard'\r\nimport QrReader from 'components/QrReader'\r\nimport { getFullOrigin } from 'helpers/links'\r\n\r\nconst isDark = localStorage.getItem(constants.localStorage.isDark)\r\n\r\n@injectIntl\r\n@connect(\r\n  ({\r\n    user: {\r\n      activeFiat,\r\n      btcMultisigUserData,\r\n      btcMultisigUserData: { wallets },\r\n    },\r\n    ui: { dashboardModalsAllowed },\r\n  }) => ({\r\n    activeFiat,\r\n    items: [btcMultisigUserData, ...wallets],\r\n    dashboardView: dashboardModalsAllowed,\r\n  })\r\n)\r\n@cssModules({ ...styles, ...ownStyle }, { allowMultiple: true })\r\nexport default class WithdrawModalMultisigUser extends React.Component<any, any> {\r\n  props: any\r\n\r\n  static propTypes = {\r\n    name: PropTypes.string,\r\n    data: PropTypes.object,\r\n  }\r\n\r\n  broadcastCancelFunc: any\r\n  fiatRates: any\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      data: { currency, amount, toAddress, address },\r\n      items,\r\n    } = props\r\n\r\n    //@\r\n    const currentDecimals = constants.tokenDecimals.btcmultisig\r\n\r\n    const selectedItem = items.filter((item) => item.address === address)[0]\r\n\r\n    this.broadcastCancelFunc = false\r\n\r\n    let usedAdminFee: any = false\r\n\r\n    let min = minAmount['btc_multisig_2n2']\r\n\r\n    if (config && config.opts && config.opts.fee && config.opts.fee.btc) {\r\n      usedAdminFee = config.opts.fee.btc\r\n      if (usedAdminFee) {\r\n        // miner fee + minimal admin fee\r\n        min = new BigNumber(min).plus(usedAdminFee.min).toNumber()\r\n      }\r\n    }\r\n\r\n    this.state = {\r\n      usedAdminFee,\r\n      step: 'fillform',\r\n      isShipped: false,\r\n      address: toAddress ? toAddress : '',\r\n      amount: amount ? amount : '',\r\n      code: '',\r\n      minus: '',\r\n      balance: selectedItem.balance || 0,\r\n      ethBalance: null,\r\n      currentDecimals,\r\n      getFiat: 0,\r\n      error: false,\r\n      smsConfirmed: false,\r\n      txRaw: '',\r\n      isLinkCopied: false,\r\n      ownTx: '',\r\n      min,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { exCurrencyRate } = this.state\r\n    const {\r\n      data: { currency },\r\n    } = this.props\r\n\r\n    this.setBalanceOnState(currency)\r\n\r\n    this.fiatRates = {}\r\n    this.getFiatBalance()\r\n    this.actualyMinAmount()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.broadcastCancelFunc) this.broadcastCancelFunc()\r\n  }\r\n\r\n  actualyMinAmount = async () => {\r\n    const { usedAdminFee } = this.state\r\n\r\n    let min: any = await helpers['btc'].estimateFeeValue({ method: 'send_multisig', speed: 'fast' })\r\n    minAmount['btc_multisig_2n2'] = min\r\n\r\n    if (usedAdminFee) {\r\n      min = new BigNumber(min).plus(usedAdminFee.min).toNumber()\r\n    }\r\n\r\n    this.setState({\r\n      min,\r\n    })\r\n  }\r\n\r\n  setBalanceOnState = async (currency) => {\r\n    const {\r\n      data: { address },\r\n    } = this.props\r\n\r\n    const {\r\n      //@\r\n      unconfirmedBalance,\r\n      //@\r\n      balance,\r\n    } = await actions.btcmultisig.getAddrBalance(address)\r\n\r\n    const finalBalance =\r\n      unconfirmedBalance !== undefined && unconfirmedBalance < 0\r\n        ? new BigNumber(balance).plus(unconfirmedBalance).toString()\r\n        : balance\r\n\r\n    this.setState(() => ({\r\n      balance: finalBalance,\r\n    }))\r\n  }\r\n\r\n  getFiatBalance = async () => {\r\n    const {\r\n      data: { currency },\r\n      activeFiat,\r\n    } = this.props\r\n\r\n    const exCurrencyRate = await actions.user.getExchangeRate(currency, activeFiat.toLowerCase())\r\n\r\n    this.fiatRates[currency] = exCurrencyRate\r\n\r\n    this.setState(() => ({\r\n      exCurrencyRate,\r\n    }))\r\n  }\r\n\r\n  handleSubmit = async () => {\r\n    const { address: to, amount, ownTx } = this.state\r\n    const {\r\n      data: { currency, address, balance, invoice, onReady },\r\n      name,\r\n    } = this.props\r\n\r\n    this.setState(() => ({ isShipped: true }))\r\n\r\n    this.setBalanceOnState(currency)\r\n\r\n    let sendOptions = {\r\n      to,\r\n      amount,\r\n      speed: 'fast',\r\n    }\r\n\r\n    if (invoice && ownTx) {\r\n      await actions.invoices.markInvoice(invoice.id, 'ready', ownTx, address)\r\n      actions.loader.hide()\r\n      actions.notifications.show(constants.notifications.SuccessWithdraw, {\r\n        amount,\r\n        currency,\r\n        address: to,\r\n      })\r\n      this.setState(() => ({ isShipped: false, error: false }))\r\n      actions.modals.close(name)\r\n      if (onReady instanceof Function) {\r\n        onReady()\r\n      }\r\n      return\r\n    }\r\n\r\n    sendOptions = {\r\n      ...sendOptions,\r\n      //@\r\n      from: address,\r\n    }\r\n\r\n    //@\r\n    const result = await actions.btcmultisig.send(sendOptions)\r\n\r\n    let txId = false\r\n\r\n    if (result) {\r\n      //@\r\n      txId = await actions.multisigTx.broadcast({\r\n        sender: address,\r\n        destination: to,\r\n        amount,\r\n        fee: 0.0001, // actions.helpers.lastBtcFee\r\n        rawTx: result,\r\n      })\r\n    }\r\n\r\n    this.broadcastCancelFunc = actions.btcmultisig.broadcastTX2Room(\r\n      {\r\n        txRaw: result,\r\n        txId,\r\n        address: to,\r\n        amount,\r\n        currency: 'BTC',\r\n        invoice,\r\n      },\r\n      () => {\r\n        this.setState({\r\n          step: 'rawlink',\r\n          txRaw: result,\r\n          txId,\r\n          isShipped: false,\r\n        })\r\n      },\r\n      () => {\r\n        this.setState({\r\n          step: 'rawlink',\r\n          txRaw: result,\r\n          txId,\r\n          isShipped: false,\r\n        })\r\n      }\r\n    )\r\n  }\r\n\r\n  sellAllBalance = async () => {\r\n    const { amount, balance, currency, min, usedAdminFee } = this.state\r\n\r\n    const { data } = this.props\r\n\r\n    let minFee = min\r\n\r\n    if (usedAdminFee) {\r\n      let feeFromAmount = new BigNumber(usedAdminFee.fee).dividedBy(100).multipliedBy(balance)\r\n      minFee = new BigNumber(minFee).plus(feeFromAmount).toNumber()\r\n    }\r\n\r\n    const balanceMiner = balance\r\n      ? balance !== 0\r\n        ? new BigNumber(balance).minus(minFee).toString()\r\n        : balance\r\n      : 'Wait please. Loading...'\r\n\r\n    this.setState({\r\n      amount: balanceMiner,\r\n    })\r\n  }\r\n\r\n  addressIsCorrect() {\r\n    const {\r\n      data: { currency },\r\n    } = this.props\r\n    const { address } = this.state\r\n\r\n    if (!typeforce.isCoinAddress.BTC(address)) {\r\n      return actions.btc.addressIsCorrect(address)\r\n    } else return true\r\n  }\r\n\r\n  handleCopyLink = () => {\r\n    this.setState(\r\n      {\r\n        isLinkCopied: true,\r\n      },\r\n      () => {\r\n        setTimeout(() => {\r\n          this.setState({\r\n            isLinkCopied: false,\r\n          })\r\n        }, 500)\r\n      }\r\n    )\r\n  }\r\n\r\n  handleReady = () => {\r\n    const { name } = this.props\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  openScan = () => {\r\n    const { openScanCam } = this.state\r\n\r\n    this.setState(() => ({\r\n      openScanCam: !openScanCam,\r\n    }))\r\n  }\r\n\r\n  handleError = (err) => {\r\n    console.error(err)\r\n  }\r\n\r\n  handleScan = (data) => {\r\n    if (data) {\r\n      const address = data.split(':')[1].split('?')[0]\r\n      const amount = data.split('=')[1]\r\n      this.setState(() => ({\r\n        address,\r\n        amount,\r\n      }))\r\n      this.openScan()\r\n    }\r\n  }\r\n\r\n  handleClose = () => {\r\n    const { name } = this.props\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      address,\r\n      amount,\r\n      code,\r\n      balance,\r\n      isShipped,\r\n      minus,\r\n      exCurrencyRate,\r\n      currentDecimals,\r\n      error,\r\n      step,\r\n      txRaw,\r\n      txId,\r\n      isLinkCopied,\r\n      ownTx,\r\n      openScanCam,\r\n      usedAdminFee,\r\n    } = this.state\r\n\r\n    const {\r\n      name,\r\n      data: { currency, invoice },\r\n      items,\r\n      intl,\r\n      portalUI,\r\n    } = this.props\r\n\r\n    let { min, min: defaultMin } = this.state\r\n\r\n    if (usedAdminFee) {\r\n      if (amount) {\r\n        let feeFromAmount = new BigNumber(usedAdminFee.fee).dividedBy(100).multipliedBy(amount)\r\n        if (new BigNumber(usedAdminFee.min).isGreaterThan(feeFromAmount))\r\n          feeFromAmount = new BigNumber(usedAdminFee.min)\r\n\r\n        min = new BigNumber(min).plus(feeFromAmount).toNumber() // Admin fee in satoshi\r\n      }\r\n    }\r\n\r\n    let txConfirmLink = `${getFullOrigin()}${links.multisign}/btc/confirm/${txId}`\r\n    if (invoice) {\r\n      txConfirmLink = `${getFullOrigin()}${links.multisign}/btc/confirminvoice/${\r\n        invoice.id\r\n      }|${txId}`\r\n    }\r\n    //@\r\n    const linked = Link.all(this, 'address', 'amount', 'code', 'ownTx')\r\n\r\n    const dataCurrency = currency.toUpperCase()\r\n\r\n    const isDisabled =\r\n      !address ||\r\n      !amount ||\r\n      isShipped ||\r\n      ownTx ||\r\n      !this.addressIsCorrect() ||\r\n      new BigNumber(amount).isGreaterThan(balance) ||\r\n      new BigNumber(amount).dp() > currentDecimals\r\n\r\n    const NanReplacement = balance || '...'\r\n    const getFiat = amount * exCurrencyRate\r\n\r\n    if (new BigNumber(amount).isGreaterThan(0)) {\r\n      linked.amount.check(\r\n        (value) => new BigNumber(value).isLessThanOrEqualTo(balance),\r\n        <div style={{ width: '340px', fontSize: '12px' }}>\r\n          <FormattedMessage\r\n            id=\"Withdrow170\"\r\n            defaultMessage=\"The amount must be no more than your balance\"\r\n            values={{\r\n              min,\r\n              currency: `${currency}`,\r\n            }}\r\n          />\r\n        </div>\r\n      )\r\n    }\r\n\r\n    if (this.state.amount < 0) {\r\n      this.setState({\r\n        amount: '',\r\n        minus: true,\r\n      })\r\n    }\r\n\r\n    const labels = defineMessages({\r\n      withdrowModal: {\r\n        id: 'withdrowTitle271',\r\n        defaultMessage: `Send`,\r\n      },\r\n      ownTxPlaceholder: {\r\n        id: 'withdrawOwnTxPlaceholder',\r\n        defaultMessage: 'Если оплатили с другого источника',\r\n      },\r\n    })\r\n\r\n    const formRender = (\r\n      <Fragment>\r\n        {openScanCam && (\r\n          <QrReader\r\n            openScan={this.openScan}\r\n            handleError={this.handleError}\r\n            handleScan={this.handleScan}\r\n          />\r\n        )}\r\n        {invoice && <InvoiceInfoBlock invoiceData={invoice} />}\r\n        {step === 'fillform' && (\r\n          <Fragment>\r\n            <p styleName=\"notice dashboardViewNotice\">\r\n              <FormattedMessage\r\n                id=\"Withdrow213\"\r\n                defaultMessage=\"Please note: Fee is {minAmount} {data}.{br}Your balance must exceed this sum to perform transaction\"\r\n                values={{ minAmount: <span>{min}</span>, br: <br />, data: `${dataCurrency}` }}\r\n              />\r\n            </p>\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <div styleName=\"highLevel\" style={{ marginBottom: '20px' }}>\r\n              <FieldLabel>\r\n                <FormattedMessage id=\"Withdrow1194\" defaultMessage=\"Address \" />{' '}\r\n                <Tooltip id=\"WtH203\">\r\n                  <div style={{ textAlign: 'center' }}>\r\n                    <FormattedMessage\r\n                      id=\"WTH275\"\r\n                      defaultMessage=\"Make sure the wallet you{br}are sending the funds to supports {currency}\"\r\n                      values={{ br: <br />, currency: `${currency.toUpperCase()}` }}\r\n                    />\r\n                  </div>\r\n                </Tooltip>\r\n              </FieldLabel>\r\n              <Input\r\n                valueLink={linked.address}\r\n                focusOnInit\r\n                pattern=\"0-9a-zA-Z:\"\r\n                placeholder={`Enter ${currency.toUpperCase()} address to transfer`}\r\n                qr\r\n                withMargin\r\n                openScan={this.openScan}\r\n              />\r\n              {address && !this.addressIsCorrect() && (\r\n                <div styleName=\"rednote\">\r\n                  <FormattedMessage\r\n                    id=\"WithdrawIncorectAddress\"\r\n                    defaultMessage=\"Your address not correct\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div styleName={`lowLevel ${isDark ? 'dark' : ''}`} style={{ marginBottom: '50px' }}>\r\n              <p styleName=\"balance\">\r\n                {balance} {currency.toUpperCase()}\r\n              </p>\r\n              <FieldLabel>\r\n                <FormattedMessage id=\"Withdrow118\" defaultMessage=\"Amount \" />\r\n              </FieldLabel>\r\n\r\n              <div styleName=\"group\">\r\n                <Input\r\n                  styleName=\"input\"\r\n                  valueLink={linked.amount}\r\n                  pattern=\"0-9\\.\"\r\n                  placeholder=\"Enter the amount\"\r\n                  fiat={getFiat.toFixed(2)}\r\n                  onKeyDown={inputReplaceCommaWithDot}\r\n                />\r\n                <div style={{ marginLeft: '15px' }}>\r\n                  <Button blue big onClick={this.sellAllBalance} data-tip data-for=\"Withdrow134\">\r\n                    <FormattedMessage id=\"Select210\" defaultMessage=\"MAX\" />\r\n                  </Button>\r\n                </div>\r\n                {!isMobile && (\r\n                  <ReactTooltip id=\"Withdrow134\" type=\"light\" effect=\"solid\" styleName=\"r-tooltip\">\r\n                    <FormattedMessage\r\n                      id=\"WithdrawButton32\"\r\n                      defaultMessage=\"when you click this button, in the field, an amount equal to your balance minus the miners commission will appear\"\r\n                    />\r\n                  </ReactTooltip>\r\n                )}\r\n                {!linked.amount.error && (\r\n                  <div styleName={minus ? 'rednote' : 'note'}>\r\n                    <FormattedMessage\r\n                      id=\"WithdrawModal256\"\r\n                      defaultMessage=\"No less than {minAmount}\"\r\n                      values={{ minAmount: `${defaultMin}` }}\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div styleName=\"sendBtnsWrapper\">\r\n              <div styleName=\"actionBtn\">\r\n                <Button blue big fill disabled={isDisabled} onClick={this.handleSubmit}>\r\n                  {isShipped ? (\r\n                    <Fragment>\r\n                      <FormattedMessage id=\"WithdrawModal11212\" defaultMessage=\"Processing ...\" />\r\n                    </Fragment>\r\n                  ) : (\r\n                    <Fragment>\r\n                      <FormattedMessage id=\"WithdrawModal111\" defaultMessage=\"Send\" />\r\n                    </Fragment>\r\n                  )}\r\n                </Button>\r\n              </div>\r\n              <div styleName=\"actionBtn\">\r\n                <Button big fill gray onClick={this.handleClose}>\r\n                  <Fragment>\r\n                    <FormattedMessage id=\"WithdrawModalCancelBtn\" defaultMessage=\"Cancel\" />\r\n                  </Fragment>\r\n                </Button>\r\n              </div>\r\n            </div>\r\n            {error && (\r\n              <div styleName=\"rednote\">\r\n                <FormattedMessage\r\n                  id=\"WithdrawModalErrorSend\"\r\n                  defaultMessage=\"{errorName} {currency}:{br}{errorMessage}\"\r\n                  values={{\r\n                    errorName: intl.formatMessage(error.name),\r\n                    errorMessage: intl.formatMessage(error.message),\r\n                    br: <br />,\r\n                    currency: `${currency}`,\r\n                  }}\r\n                />\r\n              </div>\r\n            )}\r\n            {invoice && (\r\n              <Fragment>\r\n                <hr />\r\n                <div\r\n                  styleName={`lowLevel ${isDark ? 'dark' : ''}`}\r\n                  style={{ marginBottom: '50px' }}\r\n                >\r\n                  <div styleName=\"groupField\">\r\n                    <div styleName=\"downLabel\">\r\n                      <FieldLabel inRow>\r\n                        <span styleName=\"mobileFont\">\r\n                          <FormattedMessage id=\"WithdrowOwnTX\" defaultMessage=\"Или укажите TX\" />\r\n                        </span>\r\n                      </FieldLabel>\r\n                    </div>\r\n                  </div>\r\n                  <div styleName=\"group\">\r\n                    <Input\r\n                      styleName=\"input\"\r\n                      valueLink={linked.ownTx}\r\n                      placeholder={`${intl.formatMessage(labels.ownTxPlaceholder)}`}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <Button\r\n                  styleName=\"buttonFull\"\r\n                  blue\r\n                  big\r\n                  fullWidth\r\n                  disabled={!ownTx || isShipped}\r\n                  onClick={this.handleSubmit}\r\n                >\r\n                  {isShipped ? (\r\n                    <Fragment>\r\n                      <FormattedMessage id=\"WithdrawModal11212\" defaultMessage=\"Processing ...\" />\r\n                    </Fragment>\r\n                  ) : (\r\n                    <FormattedMessage\r\n                      id=\"WithdrawModalInvoiceSaveTx\"\r\n                      defaultMessage=\"Отметить как оплаченный\"\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </Fragment>\r\n            )}\r\n          </Fragment>\r\n        )}\r\n        {step === 'rawlink' && (\r\n          <Fragment>\r\n            <p styleName=\"notice dashboardViewNotice\">\r\n              <FormattedMessage id=\"WithdrawMSUserReady\" defaultMessage=\"TX confirm link\" />\r\n              <br />\r\n              <FormattedMessage\r\n                id=\"WithdrawMSUserMessage\"\r\n                defaultMessage=\"Send this link to other wallet owner\"\r\n              />\r\n            </p>\r\n            <div styleName=\"highLevel\">\r\n              <div styleName=\"groupField\"></div>\r\n              <div>\r\n                <ShareLink link={txConfirmLink} />\r\n              </div>\r\n            </div>\r\n            <div styleName=\"centerAlign\">\r\n              <Button styleName=\"buttonFull\" big blue fullWidth onClick={this.handleReady}>\r\n                <FormattedMessage id=\"WithdrawMSUserFinish\" defaultMessage=\"Ready\" />\r\n              </Button>\r\n            </div>\r\n          </Fragment>\r\n        )}\r\n      </Fragment>\r\n    )\r\n    return portalUI ? (\r\n      formRender\r\n    ) : (\r\n      <Modal\r\n        name={name}\r\n        title={`${intl.formatMessage(labels.withdrowModal)}${' '}${currency.toUpperCase()}`}\r\n      >\r\n        {formRender}\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n"]}]}