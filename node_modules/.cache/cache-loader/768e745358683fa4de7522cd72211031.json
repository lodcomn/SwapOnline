{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\helpers\\ethToken.ts","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\helpers\\ethToken.ts","mtime":1614842914102},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIkBiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKaW1wb3J0IGNvbmZpZyBmcm9tICcuL2V4dGVybmFsQ29uZmlnJzsKaW1wb3J0IGV0aCBmcm9tICcuL2V0aCc7CmltcG9ydCBjb25zdGFudHMgZnJvbSAnLi9jb25zdGFudHMnOwppbXBvcnQgQmlnTnVtYmVyIGZyb20gJ2JpZ251bWJlci5qcyc7Cgp2YXIgaXNFdGhUb2tlbiA9IGZ1bmN0aW9uIGlzRXRoVG9rZW4oX3JlZikgewogIHZhciBuYW1lID0gX3JlZi5uYW1lOwogIHJldHVybiBPYmplY3Qua2V5cyhjb25maWcuZXJjMjApLmluY2x1ZGVzKG5hbWUudG9Mb3dlckNhc2UoKSk7Cn07Cgp2YXIgaXNFdGhPckV0aFRva2VuID0gZnVuY3Rpb24gaXNFdGhPckV0aFRva2VuKF9yZWYyKSB7CiAgdmFyIG5hbWUgPSBfcmVmMi5uYW1lOwogIHJldHVybiBPYmplY3Qua2V5cyhjb25maWcuZXJjMjApLmNvbmNhdCgnZXRoJykuaW5jbHVkZXMobmFtZS50b0xvd2VyQ2FzZSgpKTsKfTsKCnZhciBlc3RpbWF0ZUZlZVZhbHVlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKG9wdGlvbnMpIHsKICAgIHZhciBtZXRob2QsIHNwZWVkLCBnYXNQcmljZSwgZmVlVmFsdWU7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBtZXRob2QgPSBvcHRpb25zLm1ldGhvZCwgc3BlZWQgPSBvcHRpb25zLnNwZWVkOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGVzdGltYXRlR2FzUHJpY2UoewogICAgICAgICAgICAgIHNwZWVkOiBzcGVlZAogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGdhc1ByaWNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgZmVlVmFsdWUgPSBuZXcgQmlnTnVtYmVyKGNvbnN0YW50cy5kZWZhdWx0RmVlUmF0ZXMuZXRoVG9rZW4ubGltaXRbbWV0aG9kXSkubXVsdGlwbGllZEJ5KGdhc1ByaWNlKS5tdWx0aXBsaWVkQnkoMWUtMTgpLnRvTnVtYmVyKCk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsICtmZWVWYWx1ZSk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIGVzdGltYXRlRmVlVmFsdWUoX3gpIHsKICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKTsKCnZhciBlc3RpbWF0ZUdhc1ByaWNlID0gZnVuY3Rpb24gZXN0aW1hdGVHYXNQcmljZShfcmVmNCkgewogIHZhciBzcGVlZCA9IF9yZWY0LnNwZWVkOwogIHJldHVybiBldGguZXN0aW1hdGVHYXNQcmljZSh7CiAgICBzcGVlZDogc3BlZWQKICB9KTsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBlc3RpbWF0ZUZlZVZhbHVlOiBlc3RpbWF0ZUZlZVZhbHVlLAogIGVzdGltYXRlR2FzUHJpY2U6IGVzdGltYXRlR2FzUHJpY2UsCiAgaXNFdGhUb2tlbjogaXNFdGhUb2tlbiwKICBpc0V0aE9yRXRoVG9rZW46IGlzRXRoT3JFdGhUb2tlbgp9Ow=="},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/front/shared/helpers/ethToken.ts"],"names":["config","eth","constants","BigNumber","isEthToken","name","Object","keys","erc20","includes","toLowerCase","isEthOrEthToken","concat","estimateFeeValue","options","method","speed","estimateGasPrice","gasPrice","feeValue","defaultFeeRates","ethToken","limit","multipliedBy","toNumber"],"mappings":";;AACA,OAAOA,MAAP,MAAmB,kBAAnB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,SAAP,MAAsB,cAAtB;;AAGA,IAAMC,UAAU,GAAG,SAAbA,UAAa;AAAA,MAAGC,IAAH,QAAGA,IAAH;AAAA,SAAcC,MAAM,CAACC,IAAP,CAAYP,MAAM,CAACQ,KAAnB,EAA0BC,QAA1B,CAAmCJ,IAAI,CAACK,WAAL,EAAnC,CAAd;AAAA,CAAnB;;AACA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB;AAAA,MAAGN,IAAH,SAAGA,IAAH;AAAA,SAAcC,MAAM,CAACC,IAAP,CAAYP,MAAM,CAACQ,KAAnB,EAA0BI,MAA1B,CAAiC,KAAjC,EAAwCH,QAAxC,CAAiDJ,IAAI,CAACK,WAAL,EAAjD,CAAd;AAAA,CAAxB;;AAOA,IAAMG,gBAAgB;AAAA,uEAAG,iBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACfC,YAAAA,MADe,GACGD,OADH,CACfC,MADe,EACPC,KADO,GACGF,OADH,CACPE,KADO;AAAA;AAAA,mBAEAC,gBAAgB,CAAC;AAAED,cAAAA,KAAK,EAALA;AAAF,aAAD,CAFhB;;AAAA;AAEjBE,YAAAA,QAFiB;AAGjBC,YAAAA,QAHiB,GAGN,IAAIhB,SAAJ,CAAcD,SAAS,CAACkB,eAAV,CAA0BC,QAA1B,CAAmCC,KAAnC,CAAyCP,MAAzC,CAAd,EACdQ,YADc,CACDL,QADC,EAEdK,YAFc,CAED,KAFC,EAGdC,QAHc,EAHM;AAAA,6CAQhB,CAACL,QARe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAhBN,gBAAgB;AAAA;AAAA;AAAA,GAAtB;;AAYA,IAAMI,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA,MAAGD,KAAH,SAAGA,KAAH;AAAA,SAAef,GAAG,CAACgB,gBAAJ,CAAqB;AAAED,IAAAA,KAAK,EAALA;AAAF,GAArB,CAAf;AAAA,CAAzB;;AAEA,eAAe;AACbH,EAAAA,gBAAgB,EAAhBA,gBADa;AAEbI,EAAAA,gBAAgB,EAAhBA,gBAFa;AAGbb,EAAAA,UAAU,EAAVA,UAHa;AAIbO,EAAAA,eAAe,EAAfA;AAJa,CAAf","sourcesContent":["import actions from 'redux/actions'\r\nimport config from './externalConfig'\r\nimport eth from './eth'\r\nimport constants from './constants'\r\nimport BigNumber from 'bignumber.js'\r\n\r\n\r\nconst isEthToken = ({ name }) => Object.keys(config.erc20).includes(name.toLowerCase())\r\nconst isEthOrEthToken = ({ name }) => Object.keys(config.erc20).concat('eth').includes(name.toLowerCase())\r\n\r\ntype EstimateFeeOptions = {\r\n  method: string\r\n  speed: 'fast' | 'normal' | 'slow'\r\n}\r\n\r\nconst estimateFeeValue = async (options: EstimateFeeOptions) => {\r\n  const { method, speed } = options\r\n  const gasPrice = await estimateGasPrice({ speed })\r\n  const feeValue = new BigNumber(constants.defaultFeeRates.ethToken.limit[method])\r\n    .multipliedBy(gasPrice)\r\n    .multipliedBy(1e-18)\r\n    .toNumber()\r\n\r\n  return +feeValue\r\n}\r\n\r\n\r\nconst estimateGasPrice = ({ speed }) => eth.estimateGasPrice({ speed })\r\n\r\nexport default {\r\n  estimateFeeValue,\r\n  estimateGasPrice,\r\n  isEthToken,\r\n  isEthOrEthToken,\r\n}\r\n"]}]}