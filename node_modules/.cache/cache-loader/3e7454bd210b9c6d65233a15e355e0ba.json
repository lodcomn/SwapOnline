{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\pages\\Swap\\SwapController.tsx","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\pages\\Swap\\SwapController.tsx","mtime":1614842914204},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5IjsKCnZhciBfZGVjLCBfY2xhc3MsIF90ZW1wOwoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KCmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CgppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAncmVhY3QtaW50bCc7CmltcG9ydCBDU1NNb2R1bGVzIGZyb20gJ3JlYWN0LWNzcy1tb2R1bGVzJzsKaW1wb3J0IHN0eWxlcyBmcm9tICcuL1N3YXAuc2Nzcyc7CnZhciBTd2FwQ29udHJvbGxlciA9IChfZGVjID0gQ1NTTW9kdWxlcyhzdHlsZXMpLCBfZGVjKF9jbGFzcyA9IChfdGVtcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHsKICBfaW5oZXJpdHMoU3dhcENvbnRyb2xsZXIsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihTd2FwQ29udHJvbGxlcik7CgogIGZ1bmN0aW9uIFN3YXBDb250cm9sbGVyKHByb3BzKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN3YXBDb250cm9sbGVyKTsKCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJwcm9wcyIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAic3dhcCIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAibW91bnQiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImRpc3BhdGNoRXZlbnQiLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgX3RoaXMuc3dhcC5ldmVudHMuZGlzcGF0Y2goZXZlbnQpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiY2hlY2tTdGF0dXNVc2VyIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgb25saW5lID0gX3RoaXMuc3RhdGUub25saW5lOwoKICAgICAgdmFyIHN0YXR1cyA9IF90aGlzLnN3YXAucm9vbS5nZXRPbmxpbmVQYXJ0aWNpcGFudCgpOwoKICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBvbmxpbmU6IHN0YXR1cwogICAgICAgIH07CiAgICAgIH0pOwogICAgfSk7CgogICAgdmFyIHN3YXAgPSBwcm9wcy5zd2FwOwogICAgX3RoaXMuc3dhcCA9IHN3YXA7CiAgICBfdGhpcy5tb3VudCA9IHRydWU7CiAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgb25saW5lOiB0cnVlCiAgICB9OwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFN3YXBDb250cm9sbGVyLCBbewogICAga2V5OiAiY29tcG9uZW50RGlkTW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuc3dhcC5ldmVudHMuc3Vic2NyaWJlKCdjaGVjayBzdGF0dXMnLCB0aGlzLmNoZWNrU3RhdHVzVXNlcik7CiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgnY2hlY2sgc3RhdHVzJyk7CiAgICAgIHZhciBjaGVja1N0YXR1c1VzZXJUaW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoIV90aGlzMi5tb3VudCkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja1N0YXR1c1VzZXJUaW1lcik7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBfdGhpczIuY2hlY2tTdGF0dXNVc2VyKCk7CiAgICAgIH0sIDUwMDApOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBvbmVudFdpbGxVbm1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHsKICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KCdjaGVjayBzdGF0dXMnKTsKICAgICAgdGhpcy5zd2FwLmV2ZW50cy51bnN1YnNjcmliZSgnY2hlY2sgc3RhdHVzJywgdGhpcy5jaGVja1N0YXR1c1VzZXIpOwogICAgICB0aGlzLm1vdW50ID0gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBvbmxpbmUgPSB0aGlzLnN0YXRlLm9ubGluZTsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAib25saW5lSW5kaWNhdG9yIgogICAgICB9LCBvbmxpbmUgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgicCIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJvbmxpbmUiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogIlN3YXBDb250cm9sbGVyNTQiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQW5vdGhlciBwYXJ0aWNpcGFudCBpcyBvbmxpbmUiCiAgICAgIH0pKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJwIiwgewogICAgICAgIHN0eWxlTmFtZTogIm9mZmxpbmUiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogIlN3YXBDb250cm9sbGVyNjAiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQW5vdGhlciBwYXJ0aWNpcGFudCBpcyBvZmZsaW5lIgogICAgICB9KSkpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFN3YXBDb250cm9sbGVyOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpLCBfdGVtcCkpIHx8IF9jbGFzcyk7CmV4cG9ydCBkZWZhdWx0IFN3YXBDb250cm9sbGVyOw=="},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/front/shared/pages/Swap/SwapController.tsx"],"names":["React","FormattedMessage","CSSModules","styles","SwapController","props","event","swap","events","dispatch","online","state","status","room","getOnlineParticipant","setState","mount","subscribe","checkStatusUser","dispatchEvent","checkStatusUserTimer","setInterval","clearInterval","unsubscribe","PureComponent"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,gBAAT,QAAiC,YAAjC;AAEA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,OAAOC,MAAP,MAAmB,aAAnB;IAIMC,c,WADLF,UAAU,CAACC,MAAD,C;;;;;AAOT,0BAAYE,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB;;AAAA;;AAAA;;AAAA,oEAkCH,UAACC,KAAD,EAAW;AACzB,YAAKC,IAAL,CAAUC,MAAV,CAAiBC,QAAjB,CAA0BH,KAA1B;AACD,KApCkB;;AAAA,sEAsCD,YAAM;AAAA,UACdI,MADc,GACH,MAAKC,KADF,CACdD,MADc;;AAEtB,UAAME,MAAM,GAAG,MAAKL,IAAL,CAAUM,IAAV,CAAeC,oBAAf,EAAf;;AAEA,YAAKC,QAAL,CAAc;AAAA,eAAO;AACnBL,UAAAA,MAAM,EAAEE;AADW,SAAP;AAAA,OAAd;AAGD,KA7CkB;;AAAA,QAGTL,IAHS,GAGAF,KAHA,CAGTE,IAHS;AAKjB,UAAKA,IAAL,GAAYA,IAAZ;AAEA,UAAKS,KAAL,GAAa,IAAb;AAEA,UAAKL,KAAL,GAAa;AACXD,MAAAA,MAAM,EAAE;AADG,KAAb;AATiB;AAYlB;;;;WAED,6BAAoB;AAAA;;AAClB,WAAKH,IAAL,CAAUC,MAAV,CAAiBS,SAAjB,CAA2B,cAA3B,EAA2C,KAAKC,eAAhD;AACA,WAAKC,aAAL,CAAmB,cAAnB;AAEA,UAAMC,oBAAoB,GAAGC,WAAW,CAAC,YAAM;AAC7C,YAAI,CAAC,MAAI,CAACL,KAAV,EAAiB;AACfM,UAAAA,aAAa,CAACF,oBAAD,CAAb;AACA;AACD;;AAED,QAAA,MAAI,CAACF,eAAL;AACD,OAPuC,EAOrC,IAPqC,CAAxC;AAQD;;;WAED,gCAAuB;AACrB,WAAKC,aAAL,CAAmB,cAAnB;AACA,WAAKZ,IAAL,CAAUC,MAAV,CAAiBe,WAAjB,CAA6B,cAA7B,EAA6C,KAAKL,eAAlD;AACA,WAAKF,KAAL,GAAa,KAAb;AACD;;;WAeD,kBAAS;AAAA,UACCN,MADD,GACY,KAAKC,KADjB,CACCD,MADD;AAGP,0BACE;AAAK,QAAA,SAAS,EAAC;AAAf,SAEIA,MAAM,gBACJ;AAAG,QAAA,SAAS,EAAC;AAAb,sBACE,oBAAC,gBAAD;AAAkB,QAAA,EAAE,EAAC,kBAArB;AAAwC,QAAA,cAAc,EAAC;AAAvD,QADF,CADI,gBAKJ;AAAG,QAAA,SAAS,EAAC;AAAb,sBACE,oBAAC,gBAAD;AAAkB,QAAA,EAAE,EAAC,kBAArB;AAAwC,QAAA,cAAc,EAAC;AAAvD,QADF,CAPN,CADF;AAeD;;;;EAvE0BV,KAAK,CAACwB,a;AA0EnC,eAAepB,cAAf","sourcesContent":["import React from 'react'\r\n\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './Swap.scss'\r\n\r\n\r\n@CSSModules(styles)\r\nclass SwapController extends React.PureComponent<any, any> {\r\n\r\n  props: any\r\n  swap: any\r\n  mount: any\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const { swap } = props\r\n\r\n    this.swap = swap\r\n\r\n    this.mount = true\r\n\r\n    this.state = {\r\n      online: true,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.swap.events.subscribe('check status', this.checkStatusUser)\r\n    this.dispatchEvent('check status')\r\n\r\n    const checkStatusUserTimer = setInterval(() => {\r\n      if (!this.mount) {\r\n        clearInterval(checkStatusUserTimer)\r\n        return\r\n      }\r\n\r\n      this.checkStatusUser()\r\n    }, 5000)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.dispatchEvent('check status')\r\n    this.swap.events.unsubscribe('check status', this.checkStatusUser)\r\n    this.mount = false\r\n  }\r\n\r\n  dispatchEvent = (event) => {\r\n    this.swap.events.dispatch(event)\r\n  }\r\n\r\n  checkStatusUser = () => {\r\n    const { online } = this.state\r\n    const status = this.swap.room.getOnlineParticipant()\r\n\r\n    this.setState(() => ({\r\n      online: status,\r\n    }))\r\n  }\r\n\r\n  render() {\r\n    const { online } = this.state\r\n\r\n    return (\r\n      <div styleName=\"onlineIndicator\">\r\n        {\r\n          online ? (\r\n            <p styleName=\"online\">\r\n              <FormattedMessage id=\"SwapController54\" defaultMessage=\"Another participant is online\" />\r\n            </p>\r\n          ) : (\r\n            <p styleName=\"offline\">\r\n              <FormattedMessage id=\"SwapController60\" defaultMessage=\"Another participant is offline\" />\r\n            </p>\r\n          )\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SwapController\r\n"]}]}