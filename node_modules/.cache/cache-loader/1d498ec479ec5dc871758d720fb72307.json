{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\pages\\Swap\\UTXOSwap\\SwapProgress\\SwapProgress.tsx","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\pages\\Swap\\UTXOSwap\\SwapProgress\\SwapProgress.tsx","mtime":1614842914212},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI7CmltcG9ydCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSI7Cgp2YXIgX2RlYywgX2NsYXNzLCBfY2xhc3MyLCBfdGVtcDsKCmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIkBiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKCmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9CgpmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICJ1bmRlZmluZWQiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSAiZnVuY3Rpb24iKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfQoKaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCwgRnJhZ21lbnQgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7CmltcG9ydCBzdHlsZXMgZnJvbSAnLi9Td2FwUHJvZ3Jlc3Muc2Nzcyc7CmltcG9ydCBDU1NNb2R1bGVzIGZyb20gJ3JlYWN0LWNzcy1tb2R1bGVzJzsKaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nOwppbXBvcnQgY29uZmlnIGZyb20gJ2FwcC1jb25maWcnOwppbXBvcnQgeyBjb25zdGFudHMsIGV0aFRva2VuIH0gZnJvbSAnaGVscGVycyc7CmltcG9ydCB7IGxvY2FsaXNlZFVybCB9IGZyb20gJ2hlbHBlcnMvbG9jYWxlJzsKaW1wb3J0IHsgQmlnTnVtYmVyIH0gZnJvbSAnYmlnbnVtYmVyLmpzJzsKaW1wb3J0IHsgTGluayBhcyBMaW5rVG8gfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IHsgaW5qZWN0SW50bCwgRm9ybWF0dGVkTWVzc2FnZSB9IGZyb20gJ3JlYWN0LWludGwnOwppbXBvcnQgVGltZXIgZnJvbSAnLi4vLi4vVGltZXIvVGltZXInOwppbXBvcnQgeyBCdXR0b24sIFRpbWVyQnV0dG9uIH0gZnJvbSAnY29tcG9uZW50cy9jb250cm9scyc7CmltcG9ydCBTd2FwQ29udHJvbGxlciBmcm9tICcuLi8uLi9Td2FwQ29udHJvbGxlcic7CmltcG9ydCBQbGVhc2VEb250TGVhdmVXcmFwcGVyIGZyb20gJy4vU3dhcFByb2dyZXNzVGV4dC9QbGVhc2VEb250TGVhdmVXcmFwcGVyJzsKaW1wb3J0IEJ0Y0xpa2VUb0V0aCBmcm9tICcuL1N3YXBQcm9ncmVzc1RleHQvQnRjTGlrZVRvRXRoJzsKaW1wb3J0IEJ0Y0xpa2VUb0V0aFRva2VuIGZyb20gJy4vU3dhcFByb2dyZXNzVGV4dC9CdGNMaWtlVG9FdGhUb2tlbic7CmltcG9ydCBFdGhUb0J0Y0xpa2UgZnJvbSAnLi9Td2FwUHJvZ3Jlc3NUZXh0L0V0aFRvQnRjTGlrZSc7CmltcG9ydCBFdGhUb2tlblRvQnRjTGlrZSBmcm9tICcuL1N3YXBQcm9ncmVzc1RleHQvRXRoVG9rZW5Ub0J0Y0xpa2UnOwppbXBvcnQgbWV0YW1hc2sgZnJvbSAnaGVscGVycy9tZXRhbWFzayc7CmltcG9ydCAqIGFzIGFuaW1hdGlvbiBmcm9tICcuL2ltYWdlcyc7CmltcG9ydCBmaW5pc2hTdmcgZnJvbSAnLi9pbWFnZXMvZmluaXNoLnN2Zyc7CnZhciBpc0RhcmsgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShjb25zdGFudHMubG9jYWxTdG9yYWdlLmlzRGFyayk7CnZhciBTd2FwUHJvZ3Jlc3MgPSAoX2RlYyA9IENTU01vZHVsZXMoc3R5bGVzLCB7CiAgYWxsb3dNdWx0aXBsZTogdHJ1ZQp9KSwgaW5qZWN0SW50bChfY2xhc3MgPSBfZGVjKF9jbGFzcyA9IChfdGVtcCA9IF9jbGFzczIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHsKICBfaW5oZXJpdHMoU3dhcFByb2dyZXNzLCBfQ29tcG9uZW50KTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihTd2FwUHJvZ3Jlc3MpOwoKICBmdW5jdGlvbiBTd2FwUHJvZ3Jlc3MocHJvcHMpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3dhcFByb2dyZXNzKTsKCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJzd2FwIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiX2ZpZWxkcyIsIG51bGwpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIndhbGxldHMiLCBudWxsKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJoaXN0b3J5IiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAibG9jYWxlIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAidGltZXIiLCBudWxsKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJpc1NlbGxDdXJyZW5jeUV0aE9yRXRoVG9rZW4iLCBudWxsKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvblB1c2hHb1RvV2FsbGV0IiwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5oaXN0b3J5LnB1c2gobG9jYWxpc2VkVXJsKF90aGlzLmxvY2FsZSwgJy93YWxsZXQnKSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvblB1c2hHb1RvVHhQYWdlIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2Fzc2VydFRoaXNJbml0aWFsaXplID0gX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksCiAgICAgICAgICBfYXNzZXJ0VGhpc0luaXRpYWxpemUyID0gX2Fzc2VydFRoaXNJbml0aWFsaXplLnN0YXRlLAogICAgICAgICAgZmxvdyA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZTIuZmxvdywKICAgICAgICAgIHN3YXAgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemUyLnN3YXAsCiAgICAgICAgICBfYXNzZXJ0VGhpc0luaXRpYWxpemUzID0gX2Fzc2VydFRoaXNJbml0aWFsaXplLl9maWVsZHMsCiAgICAgICAgICBjdXJyZW5jeU5hbWUgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemUzLmN1cnJlbmN5TmFtZSwKICAgICAgICAgIHdpdGhkcmF3VHJhbnNhY3Rpb25IYXNoID0gX2Fzc2VydFRoaXNJbml0aWFsaXplMy53aXRoZHJhd1RyYW5zYWN0aW9uSGFzaCwKICAgICAgICAgIGV4cGxvcmVyTGluayA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZTMuZXhwbG9yZXJMaW5rOwoKICAgICAgaWYgKGZsb3cuZXRoU3dhcFdpdGhkcmF3VHJhbnNhY3Rpb25IYXNoICYmIHN3YXAuc2VsbEN1cnJlbmN5ID09PSBjdXJyZW5jeU5hbWUpIHsKICAgICAgICB3aW5kb3cub3BlbigiIi5jb25jYXQoY29uZmlnLmxpbmsuZXRoZXJzY2FuLCAiL3R4LyIpLmNvbmNhdChmbG93LmV0aFN3YXBXaXRoZHJhd1RyYW5zYWN0aW9uSGFzaCksICdfYmxhbmsnKTsKICAgICAgfQoKICAgICAgaWYgKGZsb3dbd2l0aGRyYXdUcmFuc2FjdGlvbkhhc2hdKSB7CiAgICAgICAgd2luZG93Lm9wZW4oIiIuY29uY2F0KGV4cGxvcmVyTGluaywgIi90eC8iKS5jb25jYXQoZmxvd1t3aXRoZHJhd1RyYW5zYWN0aW9uSGFzaF0pLCAnX2JsYW5rJyk7CiAgICAgIH0KICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImhhbmRsZUJhclByb2dyZXNzIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2Fzc2VydFRoaXNJbml0aWFsaXplNCA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLAogICAgICAgICAgX2Fzc2VydFRoaXNJbml0aWFsaXplNSA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZTQuc3RhdGUuc3dhcCwKICAgICAgICAgIHNlbGxDdXJyZW5jeSA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZTUuc2VsbEN1cnJlbmN5LAogICAgICAgICAgX2Fzc2VydFRoaXNJbml0aWFsaXplNiA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZTUuZmxvdywKICAgICAgICAgIHN0ZXBOdW1iZXJzID0gX2Fzc2VydFRoaXNJbml0aWFsaXplNi5zdGVwTnVtYmVycywKICAgICAgICAgIHN0ZXAgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemU2LnN0YXRlLnN0ZXAsCiAgICAgICAgICBjdXJyZW5jeU5hbWUgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemU0Ll9maWVsZHMuY3VycmVuY3lOYW1lOwoKICAgICAgdmFyIGZpcnN0ID0gc3RlcE51bWJlcnMuc2lnbjsKICAgICAgdmFyIHNpeHRoID0gc2VsbEN1cnJlbmN5ID09PSBjdXJyZW5jeU5hbWUgPyBzdGVwTnVtYmVyc1sid2l0aGRyYXctZXRoIl0gOiBzdGVwTnVtYmVyc1sid2FpdC13aXRoZHJhdy1ldGgiXTsKICAgICAgdmFyIHNldmVudGggPSBzZWxsQ3VycmVuY3kgPT09IGN1cnJlbmN5TmFtZSA/IHN0ZXBOdW1iZXJzLmZpbmlzaCA6IHN0ZXBOdW1iZXJzWyJ3aXRoZHJhdy0iLmNvbmNhdChjdXJyZW5jeU5hbWUudG9Mb3dlckNhc2UoKSldOwogICAgICB2YXIgZWlnaHRoID0gc2VsbEN1cnJlbmN5ID09PSBjdXJyZW5jeU5hbWUgPyBzdGVwTnVtYmVycy5lbmQgOiBzdGVwTnVtYmVycy5maW5pc2g7CgogICAgICBpZiAoc3RlcCA+PSBmaXJzdCAmJiBzdGVwIDwgc2l4dGgpIHsKICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICBzdGVwVmFsdWU6IDEKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKHN0ZXAgPT09IHNpeHRoKSB7CiAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgc3RlcFZhbHVlOiAyCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmIChzdGVwID09PSBzZXZlbnRoKSB7CiAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgc3RlcFZhbHVlOiAzCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmIChzdGVwID49IGVpZ2h0aCkgewogICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgIHN0ZXBWYWx1ZTogNAogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJyZWxvYWRQYWdlIiwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy50aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBzdGFydFN3YXBUaW1lID0gbmV3IEJpZ051bWJlcihsb2NhbFN0b3JhZ2UuZ2V0SXRlbShjb25zdGFudHMubG9jYWxTdG9yYWdlLnN0YXJ0U3dhcCkpLnRvTnVtYmVyKCk7CgogICAgICAgIGlmIChfdGhpcy5zd2FwLmZsb3cuaXNGaW5pc2hlZCkgewogICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnRpbWVyKTsKICAgICAgICB9CgogICAgICAgIHZhciBpc1N3YXBQYWdlID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCJzd2FwcyIpOwoKICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHN0YXJ0U3dhcFRpbWUgPiA2MDAgKiAxMDAwICYmIGlzU3dhcFBhZ2UpIHsKICAgICAgICAgIGNvbnNvbGUud2FybignVVBTISEhIFNXQVAgSVMgRlJPWkVOIC0gUkVMT0FEJyk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShjb25zdGFudHMubG9jYWxTdG9yYWdlLnN0YXJ0U3dhcCk7CiAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMudGltZXIpOwogICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgIH0KICAgICAgfSwgMTAwMCk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJjaGVja0NhblJlZnVuZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF90aGlzJHN0YXRlID0gX3RoaXMuc3RhdGUsCiAgICAgICAgICBzZWxsQ3VycmVuY3kgPSBfdGhpcyRzdGF0ZS5zZWxsQ3VycmVuY3ksCiAgICAgICAgICBidXlDdXJyZW5jeSA9IF90aGlzJHN0YXRlLmJ1eUN1cnJlbmN5LAogICAgICAgICAgc3dhcCA9IF90aGlzJHN0YXRlLnN3YXA7CgogICAgICBpZiAoIXN3YXApIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZhciBfc3dhcCRmbG93ID0gc3dhcC5mbG93LAogICAgICAgICAgc3RhdGUgPSBfc3dhcCRmbG93LnN0YXRlLAogICAgICAgICAgc3RlcE51bWJlcnMgPSBfc3dhcCRmbG93LnN0ZXBOdW1iZXJzOwogICAgICB2YXIgX3RoaXMkX2ZpZWxkcyA9IF90aGlzLl9maWVsZHMsCiAgICAgICAgICBzY3JpcHRDcmVhdGluZ1RyYW5zYWN0aW9uSGFzaCA9IF90aGlzJF9maWVsZHMuc2NyaXB0Q3JlYXRpbmdUcmFuc2FjdGlvbkhhc2gsCiAgICAgICAgICB3aXRoZHJhd1RyYW5zYWN0aW9uSGFzaCA9IF90aGlzJF9maWVsZHMud2l0aGRyYXdUcmFuc2FjdGlvbkhhc2g7CgogICAgICB2YXIgZ2V0RmluYWxDdXJyZW5jeSA9IGZ1bmN0aW9uIGdldEZpbmFsQ3VycmVuY3koY3VycmVuY3kpIHsKICAgICAgICB2YXIgaXNDdXJyZW5jeUV0aE9yRXRoVG9rZW4gPSBldGhUb2tlbi5pc0V0aE9yRXRoVG9rZW4oewogICAgICAgICAgbmFtZTogY3VycmVuY3kKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGlzQ3VycmVuY3lFdGhPckV0aFRva2VuKSB7CiAgICAgICAgICByZXR1cm4gJ0V0aCc7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gY3VycmVuY3kuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBjdXJyZW5jeS5zbGljZSgxKS50b0xvd2VyQ2FzZSgpOwogICAgICB9OwoKICAgICAgdmFyIGZpbmFsQnV5Q3VycmVuY3kgPSBnZXRGaW5hbEN1cnJlbmN5KGJ1eUN1cnJlbmN5KTsKICAgICAgdmFyIGZpbmFsU2VsbEN1cnJlbmN5ID0gZ2V0RmluYWxDdXJyZW5jeShzZWxsQ3VycmVuY3kpOwogICAgICB2YXIgaXNTdGFydFN0ZXBGb3JSZWZ1bmQgPSBzdGF0ZS5zdGVwID49IHN0ZXBOdW1iZXJzWyJsb2NrLSIuY29uY2F0KGZpbmFsU2VsbEN1cnJlbmN5LnRvTG93ZXJDYXNlKCkpXTsKICAgICAgdmFyIGlzRW5kU3RlcEZvclJlZnVuZCA9IHN0YXRlLnN0ZXAgPCBzdGVwTnVtYmVyc1sid2l0aGRyYXctIi5jb25jYXQoZmluYWxCdXlDdXJyZW5jeS50b0xvd2VyQ2FzZSgpKV07CiAgICAgIHZhciBpc1N0ZXBGb3JSZWZ1bmQgPSBpc1N0YXJ0U3RlcEZvclJlZnVuZCAmJiBpc0VuZFN0ZXBGb3JSZWZ1bmQ7CiAgICAgIHZhciBpc05vdEZpbmlzaGVkID0gIXN0YXRlLmlzRmluaXNoZWQgJiYgIXN0YXRlLmlzUmVmdW5kZWQ7CiAgICAgIHZhciBpc0N1cnJlbmN5RnVuZGVkID0gX3RoaXMuaXNTZWxsQ3VycmVuY3lFdGhPckV0aFRva2VuID8gc3RhdGUuZXRoU3dhcENyZWF0aW9uVHJhbnNhY3Rpb25IYXNoIDogc3RhdGVbc2NyaXB0Q3JlYXRpbmdUcmFuc2FjdGlvbkhhc2hdOwogICAgICB2YXIgaXNDdXJyZW5jeVdpdGhkcmF3biA9IF90aGlzLmlzU2VsbEN1cnJlbmN5RXRoT3JFdGhUb2tlbiA/IHN0YXRlW3dpdGhkcmF3VHJhbnNhY3Rpb25IYXNoXSA6IHN0YXRlLmV0aFN3YXBXaXRoZHJhd1RyYW5zYWN0aW9uSGFzaDsKICAgICAgdmFyIGNhblJlZnVuZCA9IGlzU3RlcEZvclJlZnVuZCAmJiBpc0N1cnJlbmN5RnVuZGVkICYmIGlzTm90RmluaXNoZWQgJiYgIWlzQ3VycmVuY3lXaXRoZHJhd247CiAgICAgIHJldHVybiBjYW5SZWZ1bmQ7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJoYW5kbGVGbG93U3RhdGVVcGRhdGUiLCBmdW5jdGlvbiAodmFsdWVzKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgZmxvdzogdmFsdWVzCiAgICAgICAgfTsKICAgICAgfSk7CgogICAgICBfdGhpcy5oYW5kbGVCYXJQcm9ncmVzcygpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiaGFuZGxlU3RlcENoYW5nZUltYWdlIiwgZnVuY3Rpb24gKHN0ZXApIHsKICAgICAgaWYgKHN0ZXAgPCAxMCkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiaW1nIiwgewogICAgICAgICAgc3JjOiBhbmltYXRpb25bImljb24iLmNvbmNhdChzdGVwKV0sCiAgICAgICAgICBhbHQ6ICJzdGVwIgogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAoc3RlcCA9PT0gMTApIHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImltZyIsIHsKICAgICAgICAgIHNyYzogYW5pbWF0aW9uWydpY29uOSddLAogICAgICAgICAgYWx0OiAic3RlcCIKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiaGFuZGxlRm9jdXNTZWNyZXRJbnB1dCIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICByZXR1cm4gZXZlbnQudGFyZ2V0LnNlbGVjdCgpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAidHJ5UmVmdW5kIiwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBmbG93OwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGZsb3cgPSBfdGhpcy5zd2FwLmZsb3c7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGZsb3cudHJ5UmVmdW5kKCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdCkgewogICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgIHJlZnVuZEVycm9yOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVmdW5kRXJyb3I6IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCA1MDAwKTsKICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBlbmFibGVkQnV0dG9uOiBmYWxzZQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJ3aWxsRW5hYmxlIiwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGVuYWJsZWRCdXR0b246IHRydWUKICAgICAgICB9OwogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInN1Ym1pdFNlY3JldCIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHNlY3JldCA9IF90aGlzLnN0YXRlLnNlY3JldDsKCiAgICAgIF90aGlzLnN3YXAuZmxvdy5zdWJtaXRTZWNyZXQoc2VjcmV0KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImNvbmZpcm1TY3JpcHRDaGVja2VkIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgdmVyaWZ5U2NyaXB0RnVuYyA9IF90aGlzLl9maWVsZHMudmVyaWZ5U2NyaXB0RnVuYzsKCiAgICAgIF90aGlzLnN3YXAuZmxvd1t2ZXJpZnlTY3JpcHRGdW5jXSgpOwogICAgfSk7CgogICAgdmFyIF9mbG93ID0gcHJvcHMuZmxvdywKICAgICAgICBfc3RlcCA9IHByb3BzLnN0ZXAsCiAgICAgICAgX3N3YXAgPSBwcm9wcy5zd2FwLAogICAgICAgIHN0eWxlcyA9IHByb3BzLnN0eWxlcywKICAgICAgICBzaWduZWQgPSBwcm9wcy5zaWduZWQsCiAgICAgICAgd2FsbGV0cyA9IHByb3BzLndhbGxldHMsCiAgICAgICAgaGlzdG9yeSA9IHByb3BzLmhpc3RvcnksCiAgICAgICAgbG9jYWxlID0gcHJvcHMubG9jYWxlLAogICAgICAgIGZpZWxkcyA9IHByb3BzLmZpZWxkczsKICAgIF90aGlzLl9maWVsZHMgPSBmaWVsZHM7CiAgICBjb25zb2xlLmxvZygnU3dhcFByb2dyZXNzIGZpZWxkcycsIF90aGlzLl9maWVsZHMpOwogICAgX3RoaXMuc3dhcCA9IF9zd2FwOwogICAgX3RoaXMud2FsbGV0cyA9IHdhbGxldHM7CiAgICBfdGhpcy5oaXN0b3J5ID0gaGlzdG9yeTsKICAgIF90aGlzLmxvY2FsZSA9IGxvY2FsZTsKICAgIF90aGlzLmlzU2VsbEN1cnJlbmN5RXRoT3JFdGhUb2tlbiA9IGV0aFRva2VuLmlzRXRoT3JFdGhUb2tlbih7CiAgICAgIG5hbWU6IF9zd2FwLnNlbGxDdXJyZW5jeQogICAgfSk7CiAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgc3RlcDogX3N0ZXAsCiAgICAgIHN3YXA6IF9zd2FwLAogICAgICBzaWduZWQ6IHNpZ25lZCwKICAgICAgZW5hYmxlZEJ1dHRvbjogZmFsc2UsCiAgICAgIHJlZnVuZEVycm9yOiBmYWxzZSwKICAgICAgZmxvdzogX2Zsb3csCiAgICAgIHN0ZXBzOiBfZmxvdy5zdGVwcywKICAgICAgYnV5Q3VycmVuY3k6IF9zd2FwLmJ1eUN1cnJlbmN5LAogICAgICBzZWxsQ3VycmVuY3k6IF9zd2FwLnNlbGxDdXJyZW5jeSwKICAgICAgc2VjcmV0OiBjcnlwdG8ucmFuZG9tQnl0ZXMoMzIpLnRvU3RyaW5nKCdoZXgnKSwKICAgICAgc3RlcFZhbHVlOiAwCiAgICB9OwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFN3YXBQcm9ncmVzcywgW3sKICAgIGtleTogImNvbXBvbmVudERpZE1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHsKICAgICAgdGhpcy5zd2FwLm9uKCdzdGF0ZSB1cGRhdGUnLCB0aGlzLmhhbmRsZUZsb3dTdGF0ZVVwZGF0ZSk7CiAgICAgIHRoaXMuaGFuZGxlQmFyUHJvZ3Jlc3MoKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oY29uc3RhbnRzLmxvY2FsU3RvcmFnZS5zdGFydFN3YXAsIERhdGUubm93KCkudG9TdHJpbmcoKSk7CiAgICAgIHRoaXMucmVsb2FkUGFnZSgpOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBvbmVudFdpbGxVbm1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHsKICAgICAgdGhpcy5zd2FwLm9mZignc3RhdGUgdXBkYXRlJywgdGhpcy5oYW5kbGVGbG93U3RhdGVVcGRhdGUpOwogICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIF90aGlzJHN0YXRlMiA9IHRoaXMuc3RhdGUsCiAgICAgICAgICBzdGVwID0gX3RoaXMkc3RhdGUyLnN0ZXAsCiAgICAgICAgICBzdGVwcyA9IF90aGlzJHN0YXRlMi5zdGVwcywKICAgICAgICAgIGZsb3cgPSBfdGhpcyRzdGF0ZTIuZmxvdywKICAgICAgICAgIHN3YXAgPSBfdGhpcyRzdGF0ZTIuc3dhcCwKICAgICAgICAgIHNpZ25lZCA9IF90aGlzJHN0YXRlMi5zaWduZWQsCiAgICAgICAgICBidXlBbW91bnQgPSBfdGhpcyRzdGF0ZTIuYnV5QW1vdW50LAogICAgICAgICAgc2VsbEFtb3VudCA9IF90aGlzJHN0YXRlMi5zZWxsQW1vdW50LAogICAgICAgICAgYnV5Q3VycmVuY3kgPSBfdGhpcyRzdGF0ZTIuYnV5Q3VycmVuY3ksCiAgICAgICAgICBzZWxsQ3VycmVuY3kgPSBfdGhpcyRzdGF0ZTIuc2VsbEN1cnJlbmN5LAogICAgICAgICAgZW5hYmxlZEJ1dHRvbiA9IF90aGlzJHN0YXRlMi5lbmFibGVkQnV0dG9uLAogICAgICAgICAgcmVmdW5kRXJyb3IgPSBfdGhpcyRzdGF0ZTIucmVmdW5kRXJyb3IsCiAgICAgICAgICBzdGVwVmFsdWUgPSBfdGhpcyRzdGF0ZTIuc3RlcFZhbHVlLAogICAgICAgICAgaXNTZWNyZXRDb3BpZWQgPSBfdGhpcyRzdGF0ZTIuaXNTZWNyZXRDb3BpZWQ7CiAgICAgIHZhciBfdGhpcyRfZmllbGRzMiA9IHRoaXMuX2ZpZWxkcywKICAgICAgICAgIGN1cnJlbmN5TmFtZSA9IF90aGlzJF9maWVsZHMyLmN1cnJlbmN5TmFtZSwKICAgICAgICAgIHNjcmlwdFZhbHVlcyA9IF90aGlzJF9maWVsZHMyLnNjcmlwdFZhbHVlcywKICAgICAgICAgIGV4cGxvcmVyTGluayA9IF90aGlzJF9maWVsZHMyLmV4cGxvcmVyTGluaywKICAgICAgICAgIHdpdGhkcmF3VHJhbnNhY3Rpb25IYXNoID0gX3RoaXMkX2ZpZWxkczIud2l0aGRyYXdUcmFuc2FjdGlvbkhhc2g7CiAgICAgIHZhciBwcm9ncmVzcyA9IE1hdGguZmxvb3IoOTAgKiBzdGVwVmFsdWUpOwogICAgICB2YXIgZmluaXNoSWNvbiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJpbWciLCB7CiAgICAgICAgc3JjOiBmaW5pc2hTdmcsCiAgICAgICAgYWx0OiAiZmluaXNoSWNvbiIKICAgICAgfSk7CiAgICAgIHZhciBzaG93V2FsbGV0QnV0dG9uID0gIXRoaXMuc3dhcC5kZXN0aW5hdGlvbkJ1eUFkZHJlc3MgfHwgdGhpcy5zd2FwLmRlc3RpbmF0aW9uQnV5QWRkcmVzcyA9PT0gdGhpcy53YWxsZXRzW2J1eUN1cnJlbmN5LnRvVXBwZXJDYXNlKCldOwogICAgICB2YXIgY2FuUmVmdW5kID0gdGhpcy5jaGVja0NhblJlZnVuZCgpOwogICAgICB2YXIgX3JlZnVuZFR4ID0gZmFsc2U7CgogICAgICBpZiAoZmxvdy5yZWZ1bmRUcmFuc2FjdGlvbkhhc2gpIHsKICAgICAgICBfcmVmdW5kVHggPSBmbG93LnJlZnVuZFRyYW5zYWN0aW9uSGFzaC50cmFuc2FjdGlvbkhhc2ggfHwgZmxvdy5yZWZ1bmRUcmFuc2FjdGlvbkhhc2g7CiAgICAgIH0KICAgICAgLyoqIHRvZG8gKiovCgoKICAgICAgdmFyIHN3YXBUZXh0cyA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCB0aGlzLnByb3BzLm5hbWUgPT09ICdCdGNMaWtlVG9FdGgnICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ0Y0xpa2VUb0V0aCwgewogICAgICAgIHN0ZXA6IGZsb3cuc3RlcCwKICAgICAgICBmbG93OiBmbG93LAogICAgICAgIHN3YXA6IHN3YXAsCiAgICAgICAgY29pbk5hbWU6IGN1cnJlbmN5TmFtZQogICAgICB9KSwgdGhpcy5wcm9wcy5uYW1lID09PSAnRXRoVG9CdGNMaWtlJyAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdGhUb0J0Y0xpa2UsIHsKICAgICAgICBzdGVwOiBmbG93LnN0ZXAsCiAgICAgICAgZmxvdzogZmxvdywKICAgICAgICBzd2FwOiBzd2FwLAogICAgICAgIGNvaW5OYW1lOiBjdXJyZW5jeU5hbWUKICAgICAgfSksIHRoaXMucHJvcHMubmFtZSA9PT0gJ0J0Y0xpa2VUb0V0aFRva2VuJyAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdGNMaWtlVG9FdGhUb2tlbiwgewogICAgICAgIHN0ZXA6IGZsb3cuc3RlcCwKICAgICAgICBmbG93OiBmbG93LAogICAgICAgIHN3YXA6IHN3YXAsCiAgICAgICAgY29pbk5hbWU6IGN1cnJlbmN5TmFtZQogICAgICB9KSwgdGhpcy5wcm9wcy5uYW1lID09PSAnRXRoVG9rZW5Ub0J0Y0xpa2UnICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV0aFRva2VuVG9CdGNMaWtlLCB7CiAgICAgICAgc3RlcDogZmxvdy5zdGVwLAogICAgICAgIGZsb3c6IGZsb3csCiAgICAgICAgc3dhcDogc3dhcCwKICAgICAgICBjb2luTmFtZTogY3VycmVuY3lOYW1lCiAgICAgIH0pKTsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAib3ZlcmxheSAiLmNvbmNhdChpc0RhcmsgPyAnZGFyaycgOiAnJykKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJjb250YWluZXIiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAic3RlcENvbnRhaW5lciIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3dhcENvbnRyb2xsZXIsIHsKICAgICAgICBzd2FwOiBzd2FwCiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIHN0eWxlTmFtZTogInByb2dyZXNzQ29udGFpbmVyIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIHN0eWxlTmFtZTogcHJvZ3Jlc3MgPiAxODAgPyAncHJvZ3Jlc3MtcGllLWNoYXJ0IGd0LTUwJyA6ICdwcm9ncmVzcy1waWUtY2hhcnQnCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAicHBjLXByb2dyZXNzIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIHN0eWxlTmFtZTogInBwYy1wcm9ncmVzcy1maWxsIiwKICAgICAgICBzdHlsZTogewogICAgICAgICAgdHJhbnNmb3JtOiAicm90YXRlKCIuY29uY2F0KHByb2dyZXNzLCAiZGVnKSIpCiAgICAgICAgfQogICAgICB9KSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIHN0eWxlTmFtZTogInN0ZXAiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAic3RlcEltZyIKICAgICAgfSwgZmxvdy5pc0ZpbmlzaGVkID8gZmluaXNoSWNvbiA6IHRoaXMuaGFuZGxlU3RlcENoYW5nZUltYWdlKGZsb3cuc3RlcCkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAic3RlcEluZm8iCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgewogICAgICAgIHN0eWxlTmFtZTogInN0ZXBIZWFkaW5nIgogICAgICB9LCBzd2FwVGV4dHMpLCBzaWduZWQgJiYgZmxvdy5zdGVwIDwgNCAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJhIiwgewogICAgICAgIGhyZWY6ICIiLmNvbmNhdChjb25maWcubGluay5ldGhlcnNjYW4sICIvdHgvIikuY29uY2F0KGZsb3cuc2lnblRyYW5zYWN0aW9uSGFzaCksCiAgICAgICAgdGFyZ2V0OiAiX2JsYW5rIiwKICAgICAgICByZWw6ICJub29wZW5lciBub3JlZmVycmVyIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJzd2FwcHJvcGdyZXNzMTkzIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlNpZ24gRVRIIHRyYW5zYWN0aW9uOiB7dHJhbnNhY3Rpb259IiwKICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgIHRyYW5zYWN0aW9uOiBmbG93LnNpZ25UcmFuc2FjdGlvbkhhc2gKICAgICAgICB9CiAgICAgIH0pKSkpLCBmbG93LnV0eG9TY3JpcHRWYWx1ZXMgJiYgIWZsb3cuaXNGaW5pc2hlZCAmJiAhZmxvdy5pc0V0aFdpdGhkcmF3biAmJiBmbG93LnJlZnVuZFR4SGV4ICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiYSIsIHsKICAgICAgICBocmVmOiAiaHR0cHM6Ly93aWtpLnN3YXBvbmxpbmUuaW8vZmFxL215LXN3YXAtZ290LXN0dWNrLWFuZC1teS1iaXRjb2luLWhhcy1iZWVuLXdpdGhkcmF3bi13aGF0LXRvLWRvLyIsCiAgICAgICAgdGFyZ2V0OiAiX2JsYW5rIiwKICAgICAgICByZWw6ICJub29wZW5lciBub3JlZmVycmVyIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJzd2FwcHJvcGdyZXNzMTkyIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkhvdyB0byByZWZ1bmQgeW91ciBtb25leSA/IgogICAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogInN3YXBwcm9wZ3Jlc3MzMzMiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiUmVmdW5kIGhleCB0cmFuc2FjdGlvbjogIgogICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImNvZGUiLCBudWxsLCAiICIsIGZsb3cucmVmdW5kVHhIZXgsICIgIikpLCBfcmVmdW5kVHggJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJyZWZ1bmRUcmFuc2FjdGlvbiIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJhIiwgewogICAgICAgIGhyZWY6IHN3YXAuc2VsbEN1cnJlbmN5ID09PSBjdXJyZW5jeU5hbWUgPyAiIi5jb25jYXQoZXhwbG9yZXJMaW5rLCAiL3R4LyIpLmNvbmNhdChfcmVmdW5kVHgpIDogIiIuY29uY2F0KGNvbmZpZy5saW5rLmV0aGVyc2NhbiwgIi90eC8iKS5jb25jYXQoX3JlZnVuZFR4KSwKICAgICAgICB0YXJnZXQ6ICJfYmxhbmsiLAogICAgICAgIHJlbDogIm5vb3BlbmVyIG5vcmVmZXJyZXIiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogInN3YXBwcm9ncmVzczI1NCIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJSZWZ1bmQgdHJhbnNhY3Rpb246ICIKICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgewogICAgICAgIHN0eWxlTmFtZTogInJlZnVuZFRyYW5zYWN0aW9uSGFzaCIKICAgICAgfSwgX3JlZnVuZFR4KSkpKSwgY2FuUmVmdW5kICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBlbmFibGVkQnV0dG9uID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAiYnRuUmVmdW5kIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsKICAgICAgICBncmF5OiB0cnVlLAogICAgICAgIG9uQ2xpY2s6IHRoaXMudHJ5UmVmdW5kCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogInN3YXBwcm9ncmVzczI3MCIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJUcnkgcmVmdW5kIgogICAgICB9KSkpLCByZWZ1bmRFcnJvciAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJ0cnlBZ2FpbiIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAic3dhcHByb2dyZXNzMjcxIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlRyeSBhZ2FpbiBpbiBhIGZldyBtaW51dGVzIgogICAgICB9KSkpIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJ0aW1lclJlZnVuZCIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGltZXIsIHsKICAgICAgICBpc1JlZnVuZDogdHJ1ZSwKICAgICAgICBsb2NrVGltZTogZmxvd1tzY3JpcHRWYWx1ZXNdLmxvY2tUaW1lICogMTAwMCwKICAgICAgICBjYW5jZWxUaW1lOiAoZmxvd1tzY3JpcHRWYWx1ZXNdLmxvY2tUaW1lIC0gNzIwMCkgKiAxMDAwLAogICAgICAgIGVuYWJsZWRCdXR0b246IGZ1bmN0aW9uIGVuYWJsZWRCdXR0b24oKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMyLnNldFN0YXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBlbmFibGVkQnV0dG9uOiB0cnVlCiAgICAgICAgICAgIH07CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pKSksIGZsb3cuc3RlcCA9PT0gMiAmJiAhdGhpcy5pc1NlbGxDdXJyZW5jeUV0aE9yRXRoVG9rZW4gJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGltZXJCdXR0b24sIHsKICAgICAgICBicmFuZDogdHJ1ZSwKICAgICAgICBvbkNsaWNrOiB0aGlzLnN1Ym1pdFNlY3JldC5iaW5kKHRoaXMpLAogICAgICAgIHRpbWVMZWZ0OiAxODAsCiAgICAgICAgZm9yY2VDbGljazogdHJ1ZQogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJzd2FwRmluaXNoZWRHb0hvbWUyODkiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiU3VibWl0IHRoZSBTZWNyZXQiCiAgICAgIH0pKSwgZmxvdy5zdGVwID09PSAzICYmIHRoaXMuaXNTZWxsQ3VycmVuY3lFdGhPckV0aFRva2VuICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRpbWVyQnV0dG9uLCB7CiAgICAgICAgYnJhbmQ6IHRydWUsCiAgICAgICAgb25DbGljazogdGhpcy5jb25maXJtU2NyaXB0Q2hlY2tlZC5iaW5kKHRoaXMpLAogICAgICAgIHRpbWVMZWZ0OiAxODAsCiAgICAgICAgZm9yY2VDbGljazogdHJ1ZQogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJzd2FwRmluaXNoZWRHb0hvbWUyOTgiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiRXZlcnl0aGluZyBpcyBPSy4gQ29udGludWUiCiAgICAgIH0pKSwgZmxvdy5zdGVwID09PSA0ICYmIGZsb3cud2FpdFVubG9ja1VUWE8gJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJhdHRlbnRpb24iCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogIlN3YXBfT3duZXJIYXNMb2NrZWRVVFgiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiU3dhcCBwYXVzZWQgYmVjYXVzZSB5b3UgaGFzIHVuY29uZmlybWVkIHRyYW5zYWN0aW9uIGluIG1lbXBvb2wuIFdhaXRpbmcgY29uZmlybSIKICAgICAgfSkpLCBmbG93LnN0ZXAgPD0gNSAmJiBmbG93LnBhcnRpY2lwYW50SGFzTG9ja2VkVVRYTyAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgewogICAgICAgIHN0eWxlTmFtZTogImF0dGVudGlvbiIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAiU3dhcF9TZWxsZXJIYXNMb2NrZWRVVFgiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiU3dhcCBwYXVzZWQgYmVjYXVzZSBvd25lciBoYXMgdW5jb25maXJtZWQgdHJhbnNhY3Rpb24gaW4gbWVtcG9vbC4gV2FpdGluZyBjb25maXJtIgogICAgICB9KSksIGZsb3cuc3RlcCA8PSA1ICYmIGZsb3cudXR4b0Z1bmRFcnJvciAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgewogICAgICAgIHN0eWxlTmFtZTogImF0dGVudGlvbiIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAiU3dhcF9VdHhvQnJvYWRjYXN0RXJyb3IiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiU3dhcCBwYXVzZWQgYmVjYXVzZSBicm9hZGNhc3QgdHggZW5kZWQgd2l0aCBlcnJvciBcIntlcnJvcn1cIiIsCiAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICBlcnJvcjogZmxvdy51dHhvRnVuZEVycm9yCiAgICAgICAgfQogICAgICB9KSksIG1ldGFtYXNrLmlzQ29ubmVjdGVkKCkgJiYgKCF0aGlzLmlzU2VsbEN1cnJlbmN5RXRoT3JFdGhUb2tlbiAmJiBmbG93LnN0ZXAgPT09IDYgfHwgdGhpcy5pc1NlbGxDdXJyZW5jeUV0aE9yRXRoVG9rZW4gJiYgZmxvdy5zdGVwID09PSA1ICYmIGZsb3cuaXNVVFhPU2NyaXB0T2spICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzdHJvbmciLCB7CiAgICAgICAgc3R5bGVOYW1lOiAibWV0YW1hc2tfYXR0ZW50aW9uIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJTd2FwX01ldGFtYXNrQXR0ZW50aW9uIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlBsZWFzZSBjb25maXJtIHRoZSB0cmFuc2FjdGlvbiBpbiB5b3VyIFwie3dhbGxldE5hbWV9XCIgd2FsbGV0IiwKICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgIHdhbGxldE5hbWU6IG1ldGFtYXNrLndlYjNjb25uZWN0LmdldFByb3ZpZGVyVGl0bGUoKQogICAgICAgIH0KICAgICAgfSkpLCBmbG93LnN0ZXAgPiAzICYmICF0aGlzLmlzU2VsbEN1cnJlbmN5RXRoT3JFdGhUb2tlbiAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQbGVhc2VEb250TGVhdmVXcmFwcGVyLCB7CiAgICAgICAgaXNCdGNMaWtlOiBmbG93LnNlY3JldCA/IGZsb3cuc2VjcmV0IDogZmFsc2UKICAgICAgfSkpLCBmbG93LmV0aFN3YXBXaXRoZHJhd1RyYW5zYWN0aW9uSGFzaCAmJiAhdGhpcy5pc1NlbGxDdXJyZW5jeUV0aE9yRXRoVG9rZW4gJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJ0cmFuc2FjdGlvbiIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImEiLCB7CiAgICAgICAgaHJlZjogIiIuY29uY2F0KGNvbmZpZy5saW5rLmV0aGVyc2NhbiwgIi90eC8iKS5jb25jYXQoZmxvdy5ldGhTd2FwV2l0aGRyYXdUcmFuc2FjdGlvbkhhc2gpLAogICAgICAgIHRhcmdldDogIl9ibGFuayIsCiAgICAgICAgcmVsOiAibm9yZWZlcnJlciBub29wZW5lciIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAic3dhcHByb3BncmVzczIwNyIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJ7dHJhbnNhY3Rpb259IiwKICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgIHRyYW5zYWN0aW9uOiBmbG93LmV0aFN3YXBXaXRoZHJhd1RyYW5zYWN0aW9uSGFzaAogICAgICAgIH0KICAgICAgfSkpKSwgZmxvd1t3aXRoZHJhd1RyYW5zYWN0aW9uSGFzaF0gJiYgdGhpcy5pc1NlbGxDdXJyZW5jeUV0aE9yRXRoVG9rZW4gJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJ0cmFuc2FjdGlvbiIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImEiLCB7CiAgICAgICAgaHJlZjogIiIuY29uY2F0KGV4cGxvcmVyTGluaywgIi90eC8iKS5jb25jYXQoZmxvd1t3aXRoZHJhd1RyYW5zYWN0aW9uSGFzaF0pLAogICAgICAgIHRhcmdldDogIl9ibGFuayIsCiAgICAgICAgcmVsOiAibm9vcGVuZXIgbm9yZWZlcnJlciIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAic3dhcHByb3BncmVzczIxOCIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJ7dHJhbnNhY3Rpb259IiwKICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgIHRyYW5zYWN0aW9uOiBmbG93W3dpdGhkcmF3VHJhbnNhY3Rpb25IYXNoXQogICAgICAgIH0KICAgICAgfSkpKSwgZmxvdy5pc0ZpbmlzaGVkICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAiZmluaXNoQnV0dG9uc0hvbGRlciIKICAgICAgfSwgc2hvd1dhbGxldEJ1dHRvbiAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMaW5rVG8sIHsKICAgICAgICB0bzogIi93YWxsZXQiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgewogICAgICAgIGJyYW5kOiB0cnVlLAogICAgICAgIG9uQ2xpY2s6IHRoaXMub25QdXNoR29Ub1dhbGxldAogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJzd2FwUHJvZ3Jlc3NHb1RvV2FsbGV0IiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkNoZWNrIGJhbGFuY2UiCiAgICAgIH0pKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgewogICAgICAgIGdyYXk6IHRydWUsCiAgICAgICAgb25DbGljazogdGhpcy5vblB1c2hHb1RvVHhQYWdlCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogInN3YXBQcm9ncmVzc0dvVG9UeFBhZ2UiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiVmlldyBUWCBpbiBleHBsb3JlciIKICAgICAgfSkpKSkpKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBTd2FwUHJvZ3Jlc3M7Cn0oQ29tcG9uZW50KSwgX2RlZmluZVByb3BlcnR5KF9jbGFzczIsICJwcm9wVHlwZXMiLCB7CiAgZmxvdzogUHJvcFR5cGVzLm9iamVjdAp9KSwgX2RlZmluZVByb3BlcnR5KF9jbGFzczIsICJkZWZhdWx0UHJvcHMiLCB7CiAgZmxvdzoge30sCiAgd2hpdGVMb2dvOiBmYWxzZQp9KSwgX3RlbXApKSB8fCBfY2xhc3MpIHx8IF9jbGFzcyk7CmV4cG9ydCB7IFN3YXBQcm9ncmVzcyBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/front/shared/pages/Swap/UTXOSwap/SwapProgress/SwapProgress.tsx"],"names":["React","Component","Fragment","PropTypes","styles","CSSModules","crypto","config","constants","ethToken","localisedUrl","BigNumber","Link","LinkTo","injectIntl","FormattedMessage","Timer","Button","TimerButton","SwapController","PleaseDontLeaveWrapper","BtcLikeToEth","BtcLikeToEthToken","EthToBtcLike","EthTokenToBtcLike","metamask","animation","finishSvg","isDark","localStorage","getItem","SwapProgress","allowMultiple","props","history","push","locale","state","flow","swap","_fields","currencyName","withdrawTransactionHash","explorerLink","ethSwapWithdrawTransactionHash","sellCurrency","window","open","link","etherscan","stepNumbers","step","first","sign","sixth","seventh","finish","toLowerCase","eighth","end","setState","stepValue","timer","setTimeout","startSwapTime","startSwap","toNumber","isFinished","clearTimeout","isSwapPage","location","pathname","includes","Date","now","console","warn","removeItem","reload","buyCurrency","scriptCreatingTransactionHash","getFinalCurrency","currency","isCurrencyEthOrEthToken","isEthOrEthToken","name","charAt","toUpperCase","slice","finalBuyCurrency","finalSellCurrency","isStartStepForRefund","isEndStepForRefund","isStepForRefund","isNotFinished","isRefunded","isCurrencyFunded","isSellCurrencyEthOrEthToken","ethSwapCreationTransactionHash","isCurrencyWithdrawn","canRefund","values","handleBarProgress","event","target","select","tryRefund","then","result","refundError","enabledButton","secret","submitSecret","verifyScriptFunc","signed","wallets","fields","log","steps","randomBytes","toString","on","handleFlowStateUpdate","setItem","reloadPage","off","buyAmount","sellAmount","isSecretCopied","scriptValues","progress","Math","floor","finishIcon","showWalletButton","destinationBuyAddress","checkCanRefund","_refundTx","refundTransactionHash","transactionHash","swapTexts","transform","handleStepChangeImage","signTransactionHash","transaction","utxoScriptValues","isEthWithdrawn","refundTxHex","lockTime","bind","confirmScriptChecked","waitUnlockUTXO","participantHasLockedUTXO","utxoFundError","error","isConnected","isUTXOScriptOk","walletName","web3connect","getProviderTitle","onPushGoToWallet","onPushGoToTxPage","object","whiteLogo"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport actions from 'redux/actions'\r\n\r\nimport styles from './SwapProgress.scss'\r\nimport CSSModules from 'react-css-modules'\r\n\r\nimport crypto from 'crypto'\r\nimport swapApp from 'swap.app'\r\nimport config from 'app-config'\r\n\r\nimport { constants, links, ethToken } from 'helpers'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport { Link as LinkTo } from 'react-router-dom'\r\n\r\nimport { injectIntl, FormattedMessage } from 'react-intl'\r\n\r\nimport Timer from '../../Timer/Timer'\r\nimport { Button, TimerButton } from 'components/controls'\r\n\r\nimport SwapController from '../../SwapController'\r\nimport PleaseDontLeaveWrapper from './SwapProgressText/PleaseDontLeaveWrapper'\r\n\r\nimport BtcLikeToEth from './SwapProgressText/BtcLikeToEth'\r\nimport BtcLikeToEthToken from './SwapProgressText/BtcLikeToEthToken'\r\nimport EthToBtcLike from './SwapProgressText/EthToBtcLike'\r\nimport EthTokenToBtcLike from './SwapProgressText/EthTokenToBtcLike'\r\nimport metamask from 'helpers/metamask'\r\n\r\n\r\n\r\nimport * as animation from './images'\r\nimport finishSvg from './images/finish.svg'\r\n\r\n\r\nconst isDark = localStorage.getItem(constants.localStorage.isDark)\r\n\r\n@injectIntl\r\n@CSSModules(styles, { allowMultiple: true })\r\nexport default class SwapProgress extends Component<any, any> {\r\n  swap = null\r\n  _fields = null\r\n  wallets = null\r\n  history = null\r\n  locale = null\r\n  timer = null\r\n  isSellCurrencyEthOrEthToken = null\r\n\r\n\r\n  static propTypes = {\r\n    flow: PropTypes.object,\r\n  }\r\n\r\n  static defaultProps = {\r\n    flow: {},\r\n    whiteLogo: false,\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    const {\r\n      flow,\r\n      step,\r\n      swap,\r\n      styles,\r\n      signed,\r\n      wallets,\r\n      history,\r\n      locale,\r\n      fields,\r\n    } = props\r\n\r\n    this._fields = fields\r\n\r\n\r\n    console.log('SwapProgress fields', this._fields)\r\n\r\n    this.swap = swap\r\n\r\n    this.wallets = wallets\r\n    this.history = history\r\n    this.locale = locale\r\n\r\n    this.isSellCurrencyEthOrEthToken = ethToken.isEthOrEthToken({ name: swap.sellCurrency })\r\n\r\n    this.state = {\r\n      step,\r\n      swap,\r\n      signed,\r\n      enabledButton: false,\r\n      refundError: false,\r\n      flow,\r\n      steps: flow.steps,\r\n      buyCurrency: swap.buyCurrency,\r\n      sellCurrency: swap.sellCurrency,\r\n      secret: crypto.randomBytes(32).toString('hex'),\r\n      stepValue: 0,\r\n    }\r\n  }\r\n\r\n  onPushGoToWallet = () => {\r\n    this.history.push(localisedUrl(this.locale, '/wallet'))\r\n  }\r\n\r\n  onPushGoToTxPage = () => {\r\n    const {\r\n      state: {\r\n        flow,\r\n        swap,\r\n      },\r\n      _fields: {\r\n        currencyName,\r\n        withdrawTransactionHash,\r\n        explorerLink,\r\n      },\r\n    } = this\r\n\r\n    if (flow.ethSwapWithdrawTransactionHash && swap.sellCurrency === currencyName) {\r\n      window.open(`${config.link.etherscan}/tx/${flow.ethSwapWithdrawTransactionHash}`, '_blank')\r\n    }\r\n    if (flow[withdrawTransactionHash]) {\r\n      window.open(`${explorerLink}/tx/${flow[withdrawTransactionHash]}`, '_blank')\r\n    }\r\n  }\r\n\r\n  handleBarProgress = () => {\r\n    const {\r\n      state: {\r\n        swap: {\r\n          sellCurrency,\r\n          flow: {\r\n            stepNumbers,\r\n            state: {\r\n              step,\r\n            },\r\n          },\r\n        },\r\n      },\r\n      _fields: {\r\n        currencyName,\r\n      }\r\n    } = this\r\n\r\n    const first = stepNumbers.sign\r\n    const sixth = sellCurrency === currencyName ? stepNumbers[`withdraw-eth`] : stepNumbers[`wait-withdraw-eth`]\r\n    const seventh = sellCurrency === currencyName ? stepNumbers.finish : stepNumbers[`withdraw-${currencyName.toLowerCase()}`]\r\n    const eighth = sellCurrency === currencyName ? stepNumbers.end : stepNumbers.finish\r\n\r\n    if (step >= first && step < sixth) {\r\n      this.setState({\r\n        stepValue: 1,\r\n      })\r\n    }\r\n    if (step === sixth) {\r\n      this.setState({\r\n        stepValue: 2,\r\n      })\r\n    }\r\n    if (step === seventh) {\r\n      this.setState({\r\n        stepValue: 3,\r\n      })\r\n    }\r\n    if (step >= eighth) {\r\n      this.setState({\r\n        stepValue: 4,\r\n      })\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.swap.on('state update', this.handleFlowStateUpdate)\r\n    this.handleBarProgress()\r\n    localStorage.setItem(constants.localStorage.startSwap, Date.now().toString())\r\n    this.reloadPage()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.swap.off('state update', this.handleFlowStateUpdate)\r\n    clearTimeout(this.timer)\r\n  }\r\n\r\n  reloadPage = () => {\r\n    this.timer = setTimeout(() => {\r\n      const startSwapTime: number = new BigNumber(localStorage.getItem(constants.localStorage.startSwap)).toNumber()\r\n\r\n      if (this.swap.flow.isFinished) {\r\n        clearTimeout(this.timer)\r\n      }\r\n\r\n      const isSwapPage = window.location.pathname.includes(\"swaps\")\r\n\r\n      if (((Date.now() - startSwapTime) > 600 * 1000) && isSwapPage) {\r\n        console.warn('UPS!!! SWAP IS FROZEN - RELOAD')\r\n        localStorage.removeItem(constants.localStorage.startSwap)\r\n        clearTimeout(this.timer)\r\n        window.location.reload()\r\n      }\r\n    }, 1000)\r\n  }\r\n\r\n  checkCanRefund = () => {\r\n    const { sellCurrency, buyCurrency, swap } = this.state\r\n\r\n    if (!swap) {\r\n      return false\r\n    }\r\n\r\n    const { state, stepNumbers } = swap.flow\r\n\r\n    const {\r\n      scriptCreatingTransactionHash,\r\n      withdrawTransactionHash,\r\n    } = this._fields\r\n\r\n    const getFinalCurrency = (currency) => {\r\n      const isCurrencyEthOrEthToken = ethToken.isEthOrEthToken({ name: currency })\r\n\r\n      if (isCurrencyEthOrEthToken) {\r\n        return 'Eth'\r\n      }\r\n\r\n      return currency.charAt(0).toUpperCase() + currency.slice(1).toLowerCase()\r\n    }\r\n\r\n    const finalBuyCurrency = getFinalCurrency(buyCurrency)\r\n    const finalSellCurrency = getFinalCurrency(sellCurrency)\r\n\r\n    const isStartStepForRefund = state.step >= stepNumbers[`lock-${finalSellCurrency.toLowerCase()}`]\r\n    const isEndStepForRefund = state.step < stepNumbers[`withdraw-${finalBuyCurrency.toLowerCase()}`]\r\n\r\n    const isStepForRefund = isStartStepForRefund && isEndStepForRefund\r\n\r\n    const isNotFinished = !state.isFinished && !state.isRefunded\r\n\r\n    const isCurrencyFunded = this.isSellCurrencyEthOrEthToken\r\n      ? state.ethSwapCreationTransactionHash\r\n      : state[scriptCreatingTransactionHash]\r\n\r\n    const isCurrencyWithdrawn = this.isSellCurrencyEthOrEthToken\r\n      ? state[withdrawTransactionHash]\r\n      : state.ethSwapWithdrawTransactionHash\r\n\r\n    const canRefund = isStepForRefund\r\n      && isCurrencyFunded\r\n      && isNotFinished\r\n      && !isCurrencyWithdrawn\r\n\r\n    return canRefund\r\n  }\r\n\r\n  handleFlowStateUpdate = (values) => {\r\n    this.setState(() => ({\r\n      flow: values,\r\n    }))\r\n\r\n    this.handleBarProgress()\r\n  }\r\n\r\n  // TODO add animation css, if the app will have error and try to on 10s step, will show the 9th of animathin\r\n\r\n  handleStepChangeImage = (step) => {\r\n    if (step < 10) {\r\n      return <img src={animation[`icon${step}`]} alt=\"step\" />\r\n    }\r\n    if (step === 10) {\r\n      // eslint-disable-next-line\r\n      return <img src={animation['icon9']} alt=\"step\" />\r\n    }\r\n  }\r\n\r\n  handleFocusSecretInput = (event) => event.target.select();\r\n\r\n  tryRefund = async () => {\r\n    const { flow } = this.swap\r\n\r\n    await flow.tryRefund()\r\n      .then((result) => {\r\n        if (!result) {\r\n          this.setState(() => ({ refundError: true }))\r\n          setTimeout(() => this.setState(() => ({ refundError: false })), 5000)\r\n          return\r\n        }\r\n\r\n        this.setState(() => ({ enabledButton: false }))\r\n      })\r\n  }\r\n\r\n  willEnable = () => {\r\n    this.setState(() => ({ enabledButton: true }))\r\n  }\r\n\r\n  submitSecret = () => {\r\n    const { secret } = this.state\r\n\r\n    this.swap.flow.submitSecret(secret)\r\n  }\r\n\r\n  confirmScriptChecked = () => {\r\n    const {\r\n      verifyScriptFunc,\r\n    } = this._fields\r\n    this.swap.flow[verifyScriptFunc]()\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      step,\r\n      steps,\r\n      flow,\r\n      swap,\r\n      signed,\r\n      buyAmount,\r\n      sellAmount,\r\n      buyCurrency,\r\n      sellCurrency,\r\n      enabledButton,\r\n      refundError,\r\n      stepValue,\r\n      isSecretCopied,\r\n    } = this.state\r\n\r\n    const {\r\n      currencyName,\r\n      scriptValues,\r\n      explorerLink,\r\n      withdrawTransactionHash,\r\n    } = this._fields\r\n\r\n    const progress = Math.floor(90 * stepValue)\r\n    const finishIcon = <img src={finishSvg} alt=\"finishIcon\" />\r\n    const showWalletButton = (!this.swap.destinationBuyAddress)\r\n      || (this.swap.destinationBuyAddress === this.wallets[buyCurrency.toUpperCase()])\r\n\r\n    const canRefund = this.checkCanRefund()\r\n\r\n    let _refundTx = false\r\n\r\n    if (flow.refundTransactionHash) {\r\n      _refundTx = flow.refundTransactionHash.transactionHash || flow.refundTransactionHash\r\n    }\r\n\r\n    /** todo **/\r\n    const swapTexts = (\r\n      <Fragment>\r\n        {\r\n          this.props.name === 'BtcLikeToEth' &&\r\n            <BtcLikeToEth step={flow.step} flow={flow} swap={swap} coinName={currencyName} />\r\n        }\r\n        {\r\n          this.props.name === 'EthToBtcLike' &&\r\n            <EthToBtcLike step={flow.step} flow={flow} swap={swap} coinName={currencyName} />\r\n        }\r\n        {\r\n          this.props.name === 'BtcLikeToEthToken' &&\r\n            <BtcLikeToEthToken step={flow.step} flow={flow} swap={swap} coinName={currencyName} />\r\n        }\r\n        {\r\n          this.props.name === 'EthTokenToBtcLike' &&\r\n            <EthTokenToBtcLike step={flow.step} flow={flow} swap={swap} coinName={currencyName} />\r\n        }\r\n      </Fragment>\r\n    )\r\n\r\n    return (\r\n      <div styleName={`overlay ${isDark ? 'dark' : ''}`}>\r\n        <div styleName=\"container\">\r\n          <div styleName=\"stepContainer\">\r\n            <SwapController swap={swap} />\r\n            <div styleName=\"progressContainer\">\r\n              <div styleName={progress > 180 ? 'progress-pie-chart gt-50' : 'progress-pie-chart'}>\r\n                <div styleName=\"ppc-progress\">\r\n                  <div styleName=\"ppc-progress-fill\" style={{ transform: `rotate(${progress}deg)` }} />\r\n                </div>\r\n              </div>\r\n              <div styleName=\"step\">\r\n                <div styleName=\"stepImg\">\r\n                  {flow.isFinished ? finishIcon : this.handleStepChangeImage(flow.step)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div styleName=\"stepInfo\">\r\n\r\n              <span styleName=\"stepHeading\">\r\n                {swapTexts}\r\n              </span>\r\n\r\n              {signed && flow.step < 4 && (\r\n                <div>\r\n                  <strong>\r\n                    <a href={`${config.link.etherscan}/tx/${flow.signTransactionHash}`} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                      <FormattedMessage id=\"swappropgress193\" defaultMessage=\"Sign ETH transaction: {transaction}\" values={{ transaction: flow.signTransactionHash }} />\r\n                    </a>\r\n                  </strong>\r\n                </div>\r\n              )}\r\n\r\n              {(flow.utxoScriptValues && !flow.isFinished && !flow.isEthWithdrawn) && flow.refundTxHex && (\r\n                <div>\r\n                  <a\r\n                    href=\"https://wiki.swaponline.io/faq/my-swap-got-stuck-and-my-bitcoin-has-been-withdrawn-what-to-do/\"\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                  >\r\n                    <FormattedMessage id=\"swappropgress192\" defaultMessage=\"How to refund your money ?\" />\r\n                  </a>\r\n                  <FormattedMessage id=\"swappropgress333\" defaultMessage=\"Refund hex transaction: \" />\r\n                  <code> {flow.refundTxHex} </code>\r\n                </div>\r\n              )}\r\n\r\n              {\r\n                _refundTx && (\r\n                  <div styleName=\"refundTransaction\">\r\n                    <strong>\r\n                      <a\r\n                        href={swap.sellCurrency === currencyName\r\n                          ? `${explorerLink}/tx/${_refundTx}`\r\n                          : `${config.link.etherscan}/tx/${_refundTx}`\r\n                        }\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                      >\r\n                        <FormattedMessage id=\"swapprogress254\" defaultMessage=\"Refund transaction: \" />\r\n                        <span styleName=\"refundTransactionHash\">{_refundTx}</span>\r\n                      </a>\r\n                    </strong>\r\n                  </div>\r\n                )\r\n              }\r\n\r\n              {canRefund &&\r\n                <Fragment>\r\n                  {enabledButton\r\n                    ? (\r\n                      <Fragment>\r\n                        <div styleName=\"btnRefund\">\r\n                          <Button gray onClick={this.tryRefund}>\r\n                            <FormattedMessage id=\"swapprogress270\" defaultMessage=\"Try refund\" />\r\n                          </Button>\r\n                        </div>\r\n                        {refundError &&\r\n                          <span styleName=\"tryAgain\">\r\n                            <FormattedMessage id=\"swapprogress271\" defaultMessage=\"Try again in a few minutes\" />\r\n                          </span>\r\n                        }\r\n                      </Fragment>\r\n                    )\r\n                    : (\r\n                      <div styleName=\"timerRefund\">\r\n                        <Timer\r\n                          isRefund\r\n                          lockTime={flow[scriptValues].lockTime * 1000}\r\n                          cancelTime={(flow[scriptValues].lockTime - 7200) * 1000}\r\n                          enabledButton={() => this.setState(() => ({ enabledButton: true }))}\r\n                        />\r\n                      </div>\r\n                    )\r\n                  }\r\n                </Fragment>\r\n              }\r\n\r\n              {flow.step === 2 && !this.isSellCurrencyEthOrEthToken && (\r\n                <TimerButton brand onClick={this.submitSecret.bind(this)} timeLeft={180} forceClick={true}>\r\n                  <FormattedMessage id=\"swapFinishedGoHome289\" defaultMessage=\"Submit the Secret\" />\r\n                </TimerButton>\r\n              )}\r\n              {flow.step === 3 && this.isSellCurrencyEthOrEthToken && (\r\n                <TimerButton brand onClick={this.confirmScriptChecked.bind(this)} timeLeft={180} forceClick={true}>\r\n                  <FormattedMessage id=\"swapFinishedGoHome298\" defaultMessage=\"Everything is OK. Continue\" />\r\n                </TimerButton>\r\n              )}\r\n              {flow.step === 4 && flow.waitUnlockUTXO && (\r\n                <strong styleName=\"attention\">\r\n                  <FormattedMessage\r\n                    id=\"Swap_OwnerHasLockedUTX\"\r\n                    defaultMessage=\"Swap paused because you has unconfirmed transaction in mempool. Waiting confirm\"\r\n                  />\r\n                </strong>\r\n              )}\r\n              {flow.step <= 5 && flow.participantHasLockedUTXO && (\r\n                <strong styleName=\"attention\">\r\n                  <FormattedMessage\r\n                    id=\"Swap_SellerHasLockedUTX\"\r\n                    defaultMessage=\"Swap paused because owner has unconfirmed transaction in mempool. Waiting confirm\"\r\n                  />\r\n                </strong>\r\n              )}\r\n              {flow.step <= 5 && flow.utxoFundError && (\r\n                <strong styleName=\"attention\">\r\n                  <FormattedMessage\r\n                    id=\"Swap_UtxoBroadcastError\"\r\n                    defaultMessage=\"Swap paused because broadcast tx ended with error &quot;{error}&quot;\"\r\n                    values={{\r\n                      error: flow.utxoFundError,\r\n                    }}\r\n                  />\r\n                </strong>\r\n              )}\r\n              {metamask.isConnected() && (\r\n                (!this.isSellCurrencyEthOrEthToken && flow.step === 6)\r\n                || (this.isSellCurrencyEthOrEthToken && flow.step === 5 && flow.isUTXOScriptOk)\r\n              ) && (\r\n                <strong styleName=\"metamask_attention\">\r\n                  <FormattedMessage\r\n                    id=\"Swap_MetamaskAttention\"\r\n                    defaultMessage=\"Please confirm the transaction in your &quot;{walletName}&quot; wallet\"\r\n                    values={{\r\n                      walletName: metamask.web3connect.getProviderTitle(),\r\n                    }}\r\n                  />\r\n                </strong>\r\n              )}\r\n              {flow.step > 3 && !this.isSellCurrencyEthOrEthToken &&\r\n                <PleaseDontLeaveWrapper isBtcLike={flow.secret ? flow.secret : false} />\r\n              }\r\n            </div>\r\n\r\n            {flow.ethSwapWithdrawTransactionHash && !this.isSellCurrencyEthOrEthToken && (\r\n              <strong styleName=\"transaction\">\r\n                <a\r\n                  href={`${config.link.etherscan}/tx/${flow.ethSwapWithdrawTransactionHash}`}\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer noopener\"\r\n                >\r\n                  <FormattedMessage id=\"swappropgress207\" defaultMessage=\"{transaction}\" values={{ transaction: flow.ethSwapWithdrawTransactionHash }} />\r\n                </a>\r\n              </strong>\r\n            )}\r\n            {flow[withdrawTransactionHash] && this.isSellCurrencyEthOrEthToken && (\r\n              <strong styleName=\"transaction\">\r\n                <a\r\n                  href={`${explorerLink}/tx/${flow[withdrawTransactionHash]}`}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                >\r\n                  <FormattedMessage id=\"swappropgress218\" defaultMessage=\"{transaction}\" values={{ transaction: flow[withdrawTransactionHash] }} />\r\n                </a>\r\n              </strong>\r\n            )}\r\n            {flow.isFinished && (\r\n              <div styleName=\"finishButtonsHolder\">\r\n                {showWalletButton && (\r\n                  <LinkTo to=\"/wallet\">\r\n                    <Button brand onClick={this.onPushGoToWallet}>\r\n                      <FormattedMessage id=\"swapProgressGoToWallet\" defaultMessage=\"Check balance\" />\r\n                    </Button>\r\n                  </LinkTo>\r\n                )}\r\n                <Button gray onClick={this.onPushGoToTxPage}>\r\n                  <FormattedMessage id=\"swapProgressGoToTxPage\" defaultMessage=\"View TX in explorer\" />\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]}]}