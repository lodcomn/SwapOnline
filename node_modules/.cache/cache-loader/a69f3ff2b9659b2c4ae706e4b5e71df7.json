{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\pages\\LocalStorage\\LocalStorage.tsx","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\pages\\LocalStorage\\LocalStorage.tsx","mtime":1614842914193},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheSI7CmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgQ29weVRvQ2xpcGJvYXJkIGZyb20gJ3JlYWN0LWNvcHktdG8tY2xpcGJvYXJkJzsKaW1wb3J0IENTU01vZHVsZXMgZnJvbSAncmVhY3QtY3NzLW1vZHVsZXMnOwppbXBvcnQgc3R5bGVzIGZyb20gJy4vTG9jYWxTdG9yYWdlLnNjc3MnOwppbXBvcnQgeyBjb25zdGFudHMgfSBmcm9tICdoZWxwZXJzJzsKaW1wb3J0IHsgRm9ybWF0dGVkTWVzc2FnZSB9IGZyb20gJ3JlYWN0LWludGwnOwp2YXIgaXNEYXJrID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oY29uc3RhbnRzLmxvY2FsU3RvcmFnZS5pc0RhcmspOwoKZnVuY3Rpb24gTG9jYWxTdG9yYWdlKCkgewogIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmYWxzZSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBpc0NvcGllZCA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldENvcGllZCA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUoSlNPTi5zdHJpbmdpZnkoe30pKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBsb2NhbFN0b3JhZ2UgPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRMb2NhbFN0b3JhZ2UgPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgZHVtcEFsbCA9IHRydWU7CgogIHZhciB0aW1lb3V0Q29waWVkID0gZnVuY3Rpb24gdGltZW91dENvcGllZCgpIHsKICAgIHNldENvcGllZCh0cnVlKTsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc2V0Q29waWVkKGZhbHNlKTsKICAgIH0sIDEwMDApOyAvLyBjb3B5LXRpcCBhbmltYXRpb24gdGltZQogIH07CgogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICB2YXIgbmV3U3RvcmFnZSA9IHt9OwogICAgdmFyIHByaXZhdGVEYXRhUmVnRXhwID0gLyhtbmVtb25pY3xwcml2YXRlfHR3ZW50eXdvcmRzfGJhY2t1cHxwZWVyaWRqc29uKS9pOwoKICAgIGZvciAodmFyIGtleSBpbiB3aW5kb3cubG9jYWxTdG9yYWdlKSB7CiAgICAgIGlmIChrZXkgIT09ICdyZWR1eC1zdG9yZScgJiYga2V5Lm1hdGNoKHByaXZhdGVEYXRhUmVnRXhwKSA9PT0gbnVsbCB8fCBkdW1wQWxsICYmIGtleSAhPT0gJ3JlZHV4LXN0b3JlJykgewogICAgICAgIG5ld1N0b3JhZ2Vba2V5XSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2Vba2V5XTsKICAgICAgfQogICAgfQoKICAgIHNldExvY2FsU3RvcmFnZShKU09OLnN0cmluZ2lmeShuZXdTdG9yYWdlLCB1bmRlZmluZWQsIDIpKTsKICB9KTsKICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNlY3Rpb24iLCB7CiAgICBzdHlsZU5hbWU6ICIiLmNvbmNhdChpc0RhcmsgPyAnbG9jYWxTdG9yYWdlRGFyaycgOiAnbG9jYWxTdG9yYWdlJykKICB9LCAhZHVtcEFsbCAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiaDMiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICBpZDogImxvY2FsU3RvcmFnZVVzZXJOb3RpZmljYXRpb24iLAogICAgZGVmYXVsdE1lc3NhZ2U6ICJcdTI3MTRcdUZFMEYgVGhpcyBkYXRhIGRvZXNuJ3QgY29udGFpbiB5b3VyIHByaXZhdGUga2V5cyIKICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBzdHlsZU5hbWU6ICJsb2NhbFN0b3JhZ2VfX2J1dHRvbnMtY29udGFpbmVyIgogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7CiAgICBzdHlsZU5hbWU6ICJsb2NhbFN0b3JhZ2VfX2J0biIsCiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7CiAgICB9CiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgaWQ6ICJsb2NhbFN0b3JhZ2VCdG5CYWNrIiwKICAgIGRlZmF1bHRNZXNzYWdlOiAiQmFjayIKICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENvcHlUb0NsaXBib2FyZCwgewogICAgdGV4dDogbG9jYWxTdG9yYWdlCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsKICAgIHN0eWxlTmFtZTogImxvY2FsU3RvcmFnZV9fYnRuIiwKICAgIG9uQ2xpY2s6IHRpbWVvdXRDb3BpZWQKICB9LCBpc0NvcGllZCAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIHsKICAgIHN0eWxlTmFtZTogImxvY2FsU3RvcmFnZV9fY29weS10aXAiCiAgfSwgIkNvcGllZCEiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgaWQ6ICJsb2NhbFN0b3JhZ2VCdG5Db3B5IiwKICAgIGRlZmF1bHRNZXNzYWdlOiAiQ29weSIKICB9KSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInByZSIsIHsKICAgIHN0eWxlTmFtZTogImxvY2FsU3RvcmFnZV9fanNvbi1vdXRwdXQiCiAgfSwgbG9jYWxTdG9yYWdlKSk7Cn0KCmV4cG9ydCBkZWZhdWx0IENTU01vZHVsZXMoTG9jYWxTdG9yYWdlLCBzdHlsZXMpOw=="},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/front/shared/pages/LocalStorage/LocalStorage.tsx"],"names":["React","useState","useEffect","CopyToClipboard","CSSModules","styles","constants","FormattedMessage","isDark","localStorage","getItem","LocalStorage","isCopied","setCopied","JSON","stringify","setLocalStorage","dumpAll","timeoutCopied","setTimeout","newStorage","privateDataRegExp","key","window","match","undefined","history","back"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,eAAP,MAA4B,yBAA5B;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,SAASC,SAAT,QAA0B,SAA1B;AACA,SAASC,gBAAT,QAAiC,YAAjC;AAEA,IAAMC,MAAM,GAAGC,YAAY,CAACC,OAAb,CAAqBJ,SAAS,CAACG,YAAV,CAAuBD,MAA5C,CAAf;;AAEA,SAASG,YAAT,GAAwB;AAAA,kBACQV,QAAQ,CAAC,KAAD,CADhB;AAAA;AAAA,MACfW,QADe;AAAA,MACLC,SADK;;AAAA,mBAEkBZ,QAAQ,CAACa,IAAI,CAACC,SAAL,CAAe,EAAf,CAAD,CAF1B;AAAA;AAAA,MAEfN,YAFe;AAAA,MAEDO,eAFC;;AAGtB,MAAMC,OAAO,GAAG,IAAhB;;AAEA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1BL,IAAAA,SAAS,CAAC,IAAD,CAAT;AACAM,IAAAA,UAAU,CAAC;AAAA,aAAMN,SAAS,CAAC,KAAD,CAAf;AAAA,KAAD,EAAyB,IAAzB,CAAV,CAF0B,CAEe;AAC1C,GAHD;;AAKAX,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMkB,UAAU,GAAG,EAAnB;AACA,QAAMC,iBAAiB,GAAG,mDAA1B;;AAEA,SAAK,IAAIC,GAAT,IAAgBC,MAAM,CAACd,YAAvB,EAAqC;AACnC,UAAKa,GAAG,KAAK,aAAR,IAAyBA,GAAG,CAACE,KAAJ,CAAUH,iBAAV,MAAiC,IAA3D,IACEJ,OAAO,IAAKK,GAAG,KAAK,aAD1B,EAEE;AACAF,QAAAA,UAAU,CAACE,GAAD,CAAV,GAAkBC,MAAM,CAACd,YAAP,CAAoBa,GAApB,CAAlB;AACD;AACF;;AACDN,IAAAA,eAAe,CAACF,IAAI,CAACC,SAAL,CAAeK,UAAf,EAA2BK,SAA3B,EAAsC,CAAtC,CAAD,CAAf;AACD,GAZQ,CAAT;AAcA,sBACE;AAAS,IAAA,SAAS,YAAKjB,MAAM,GAAG,kBAAH,GAAwB,cAAnC;AAAlB,KACG,CAACS,OAAD,iBACC,6CACE,oBAAC,gBAAD;AACE,IAAA,EAAE,EAAC,8BADL;AAEE,IAAA,cAAc,EAAC;AAFjB,IADF,CAFJ,eAUE;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE;AAAQ,IAAA,SAAS,EAAC,mBAAlB;AAAsC,IAAA,OAAO,EAAE,mBAAM;AACnDM,MAAAA,MAAM,CAACG,OAAP,CAAeC,IAAf;AACD;AAFD,kBAGE,oBAAC,gBAAD;AACE,IAAA,EAAE,EAAC,qBADL;AAEE,IAAA,cAAc,EAAC;AAFjB,IAHF,CADF,eASE,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAElB;AAAvB,kBACE;AAAQ,IAAA,SAAS,EAAC,mBAAlB;AAAsC,IAAA,OAAO,EAAES;AAA/C,KACGN,QAAQ,iBAAI;AAAM,IAAA,SAAS,EAAC;AAAhB,eADf,eAEE,oBAAC,gBAAD;AAAkB,IAAA,EAAE,EAAC,qBAArB;AAA2C,IAAA,cAAc,EAAC;AAA1D,IAFF,CADF,CATF,CAVF,eAiCE;AAAK,IAAA,SAAS,EAAC;AAAf,KACGH,YADH,CAjCF,CADF;AAuCD;;AAED,eAAeL,UAAU,CAACO,YAAD,EAAeN,MAAf,CAAzB","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport CopyToClipboard from 'react-copy-to-clipboard'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './LocalStorage.scss'\r\nimport { constants } from 'helpers'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nconst isDark = localStorage.getItem(constants.localStorage.isDark)\r\n\r\nfunction LocalStorage() {\r\n  const [isCopied, setCopied] = useState(false)\r\n  const [localStorage, setLocalStorage] = useState(JSON.stringify({}))\r\n  const dumpAll = true\r\n\r\n  const timeoutCopied = () => {\r\n    setCopied(true)\r\n    setTimeout(() => setCopied(false), 1000) // copy-tip animation time\r\n  }\r\n\r\n  useEffect(() => {\r\n    const newStorage = {}\r\n    const privateDataRegExp = /(mnemonic|private|twentywords|backup|peeridjson)/i;\r\n\r\n    for (let key in window.localStorage) {\r\n      if ((key !== 'redux-store' && key.match(privateDataRegExp) === null)\r\n        || (dumpAll && (key !== 'redux-store'))\r\n      ) {\r\n        newStorage[key] = window.localStorage[key]\r\n      }\r\n    }\r\n    setLocalStorage(JSON.stringify(newStorage, undefined, 2))\r\n  })\r\n\r\n  return (\r\n    <section styleName={`${isDark ? 'localStorageDark' : 'localStorage'}`}>\r\n      {!dumpAll && (\r\n        <h3>\r\n          <FormattedMessage\r\n            id=\"localStorageUserNotification\"\r\n            defaultMessage=\"✔️ This data doesn't contain your private keys\"\r\n          />\r\n        </h3>\r\n      )}\r\n\r\n      <div styleName='localStorage__buttons-container'>\r\n        <button styleName='localStorage__btn' onClick={() => {\r\n          window.history.back()\r\n        }}>\r\n          <FormattedMessage\r\n            id=\"localStorageBtnBack\"\r\n            defaultMessage=\"Back\"\r\n          />\r\n        </button>\r\n        <CopyToClipboard text={localStorage} >\r\n          <button styleName='localStorage__btn' onClick={timeoutCopied}>\r\n            {isCopied && <span styleName='localStorage__copy-tip'>Copied!</span>}\r\n            <FormattedMessage id=\"localStorageBtnCopy\" defaultMessage=\"Copy\" />\r\n          </button>\r\n        </CopyToClipboard>\r\n        {/* <button styleName='localStorage__btn' onClick={() => null}>\r\n          <FormattedMessage\r\n            id=\"localStorageBtnSend\"\r\n            defaultMessage=\"Send to developers\"\r\n          />\r\n        </button> */}\r\n      </div>\r\n\r\n      <pre styleName='localStorage__json-output'>\r\n        {localStorage}\r\n      </pre>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default CSSModules(LocalStorage, styles)"]}]}