{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\pages\\Transaction\\Transaction.tsx","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\pages\\Transaction\\Transaction.tsx","mtime":1614852553204},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI7CmltcG9ydCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSI7Cgp2YXIgX2RlYywgX2NsYXNzLCBfdGVtcDsKCmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIkBiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKCmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9CgpmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICJ1bmRlZmluZWQiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSAiZnVuY3Rpb24iKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKLy8gQHRzLW5vY2hlY2sKaW1wb3J0IHsgd2l0aFJvdXRlciB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwppbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgYWN0aW9ucyBmcm9tICdyZWR1eC9hY3Rpb25zJzsKaW1wb3J0IGhlbHBlcnMsIHsgbGlua3MgfSBmcm9tICdoZWxwZXJzJzsKaW1wb3J0IGdldEN1cnJlbmN5S2V5IGZyb20gJ2hlbHBlcnMvZ2V0Q3VycmVuY3lLZXknOwppbXBvcnQgeyBkZWZpbmVNZXNzYWdlcywgaW5qZWN0SW50bCB9IGZyb20gJ3JlYWN0LWludGwnOwppbXBvcnQgZ2V0V2FsbGV0TGluayBmcm9tICdoZWxwZXJzL2dldFdhbGxldExpbmsnOwppbXBvcnQgVHhJbmZvIGZyb20gJy4vVHhJbmZvJzsKaW1wb3J0IHsgTW9kYWxCb3ggfSBmcm9tICdjb21wb25lbnRzL21vZGFsJzsKaW1wb3J0IGNzc01vZHVsZXMgZnJvbSAncmVhY3QtY3NzLW1vZHVsZXMnOwppbXBvcnQgc3R5bGVzIGZyb20gJy4vc3R5bGVzLnNjc3MnOwppbXBvcnQgbHNEYXRhQ2FjaGUgZnJvbSAnaGVscGVycy9sc0RhdGFDYWNoZSc7CnZhciBsYWJlbHMgPSBkZWZpbmVNZXNzYWdlcyh7CiAgVGl0bGU6IHsKICAgIGlkOiAnSW5mb1BheV8xJywKICAgIGRlZmF1bHRNZXNzYWdlOiAnVHJhbnNhY3Rpb24gaXMgY29tcGxldGVkJwogIH0KfSk7CnZhciBUcmFuc2FjdGlvbiA9IChfZGVjID0gY3NzTW9kdWxlcyhfb2JqZWN0U3ByZWFkKHt9LCBzdHlsZXMpLCB7CiAgYWxsb3dNdWx0aXBsZTogdHJ1ZQp9KSwgaW5qZWN0SW50bChfY2xhc3MgPSBfZGVjKF9jbGFzcyA9IChfdGVtcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NvbXBvbmVudCkgewogIF9pbmhlcml0cyhUcmFuc2FjdGlvbiwgX0NvbXBvbmVudCk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoVHJhbnNhY3Rpb24pOwoKICBmdW5jdGlvbiBUcmFuc2FjdGlvbihwcm9wcykgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFuc2FjdGlvbik7CgogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAidW5tb3VudGVkIiwgZmFsc2UpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImZldGNoVHhGaW5hbEJhbGFuY2VzIiwgZnVuY3Rpb24gKGN1cnJlbmN5LCB0eElkKSB7CiAgICAgIHNldFRpbWVvdXQoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBmaW5hbEJhbGFuY2VzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBoZWxwZXJzLnRyYW5zYWN0aW9ucy5mZXRjaFR4QmFsYW5jZXMoY3VycmVuY3ksIHR4SWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBmaW5hbEJhbGFuY2VzID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoZmluYWxCYWxhbmNlcyAmJiAhX3RoaXMudW5tb3VudGVkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgICAgICBmaW5hbEJhbGFuY2VzOiBmaW5hbEJhbGFuY2VzCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImhhbmRsZUNsb3NlIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgaGlzdG9yeSA9IF90aGlzLnByb3BzLmhpc3Rvcnk7CiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IF90aGlzLnN0YXRlLAogICAgICAgICAgX3RoaXMkc3RhdGUkaW5mb1R4ID0gX3RoaXMkc3RhdGUuaW5mb1R4LAogICAgICAgICAgd2FsbGV0T25lID0gX3RoaXMkc3RhdGUkaW5mb1R4LnNlbmRlckFkZHJlc3MsCiAgICAgICAgICB3YWxsZXRUd28gPSBfdGhpcyRzdGF0ZSRpbmZvVHgucmVjZWl2ZXJBZGRyZXNzLAogICAgICAgICAgdGlja2VyID0gX3RoaXMkc3RhdGUudGlja2VyOwogICAgICB2YXIgd2FsbGV0cyA9IFtdOwoKICAgICAgaWYgKHdhbGxldE9uZSBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAgICAgd2FsbGV0T25lLmZvckVhY2goZnVuY3Rpb24gKHdhbGxldCkgewogICAgICAgICAgcmV0dXJuIHdhbGxldHMucHVzaCh3YWxsZXQpOwogICAgICAgIH0pOwogICAgICB9IGVsc2Ugd2FsbGV0cy5wdXNoKHdhbGxldE9uZSk7CgogICAgICBpZiAod2FsbGV0VHdvIGluc3RhbmNlb2YgQXJyYXkpIHsKICAgICAgICB3YWxsZXRUd28uZm9yRWFjaChmdW5jdGlvbiAod2FsbGV0KSB7CiAgICAgICAgICByZXR1cm4gd2FsbGV0cy5wdXNoKHdhbGxldCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB3YWxsZXRzLnB1c2god2FsbGV0VHdvKTsKCiAgICAgIHZhciB3YWxsZXRMaW5rID0gZ2V0V2FsbGV0TGluayh0aWNrZXIsIHdhbGxldHMpOwogICAgICBoaXN0b3J5LnB1c2god2FsbGV0TGluayB8fCAnLycpOwogICAgfSk7CgogICAgdmFyIF9oaXN0b3J5ID0gcHJvcHMuaGlzdG9yeSwKICAgICAgICBfcHJvcHMkbWF0Y2ggPSBwcm9wcy5tYXRjaDsKICAgIF9wcm9wcyRtYXRjaCA9IF9wcm9wcyRtYXRjaCA9PT0gdm9pZCAwID8gbnVsbCA6IF9wcm9wcyRtYXRjaDsKCiAgICB2YXIgX3Byb3BzJG1hdGNoJHBhcmFtcyA9IF9wcm9wcyRtYXRjaC5wYXJhbXMsCiAgICAgICAgX3Byb3BzJG1hdGNoJHBhcmFtcyR0ID0gX3Byb3BzJG1hdGNoJHBhcmFtcy50aWNrZXIsCiAgICAgICAgX3RpY2tlciA9IF9wcm9wcyRtYXRjaCRwYXJhbXMkdCA9PT0gdm9pZCAwID8gbnVsbCA6IF9wcm9wcyRtYXRjaCRwYXJhbXMkdCwKICAgICAgICBfcHJvcHMkbWF0Y2gkcGFyYW1zJHQyID0gX3Byb3BzJG1hdGNoJHBhcmFtcy50eCwKICAgICAgICBfdHhJZCA9IF9wcm9wcyRtYXRjaCRwYXJhbXMkdDIgPT09IHZvaWQgMCA/IG51bGwgOiBfcHJvcHMkbWF0Y2gkcGFyYW1zJHQyOwoKICAgIHZhciBfY3VycmVuY3kgPSBnZXRDdXJyZW5jeUtleShfdGlja2VyLCB0cnVlKTsKCiAgICB2YXIgaW5mb1R4ID0gbHNEYXRhQ2FjaGUuZ2V0KCJUeEluZm9fIi5jb25jYXQoX2N1cnJlbmN5LnRvTG93ZXJDYXNlKCksICJfIikuY29uY2F0KF90eElkKSk7CiAgICB2YXIgcmVzdCA9IHt9OwoKICAgIGlmIChpbmZvVHgpIHsKICAgICAgdmFyIGFtb3VudCA9IGluZm9UeC5hbW91bnQsCiAgICAgICAgICBvbGRCYWxhbmNlID0gaW5mb1R4LmFmdGVyQmFsYW5jZSwKICAgICAgICAgIGNvbmZpcm1lZCA9IGluZm9UeC5jb25maXJtZWQsCiAgICAgICAgICBzZW5kZXIgPSBpbmZvVHguc2VuZGVyQWRkcmVzcywKICAgICAgICAgIHRvQWRkcmVzcyA9IGluZm9UeC5yZWNlaXZlckFkZHJlc3MsCiAgICAgICAgICBjb25maXJtYXRpb25zID0gaW5mb1R4LmNvbmZpcm1hdGlvbnMsCiAgICAgICAgICBtaW5lckZlZSA9IGluZm9UeC5taW5lckZlZSwKICAgICAgICAgIG1pbmVyRmVlQ3VycmVuY3kgPSBpbmZvVHgubWluZXJGZWVDdXJyZW5jeSwKICAgICAgICAgIGFkbWluRmVlID0gaW5mb1R4LmFkbWluRmVlOwogICAgICByZXN0ID0gewogICAgICAgIGFtb3VudDogYW1vdW50LAogICAgICAgIGNvbmZpcm1lZDogY29uZmlybWVkLAogICAgICAgIHNlbmRlcjogc2VuZGVyLAogICAgICAgIHRvQWRkcmVzczogdG9BZGRyZXNzLAogICAgICAgIG9sZEJhbGFuY2U6IG9sZEJhbGFuY2UsCiAgICAgICAgY29uZmlybWF0aW9uczogY29uZmlybWF0aW9ucywKICAgICAgICBtaW5lckZlZTogbWluZXJGZWUsCiAgICAgICAgbWluZXJGZWVDdXJyZW5jeTogbWluZXJGZWVDdXJyZW5jeSwKICAgICAgICBhZG1pbkZlZTogYWRtaW5GZWUKICAgICAgfTsKICAgIH0KCiAgICBfdGhpcy5zdGF0ZSA9IF9vYmplY3RTcHJlYWQoewogICAgICBjdXJyZW5jeTogX2N1cnJlbmN5LAogICAgICB0aWNrZXI6IF90aWNrZXIsCiAgICAgIHR4SWQ6IF90eElkLAogICAgICBpc0ZldGNoaW5nOiAhaW5mb1R4LAogICAgICBpbmZvVHg6IGluZm9UeCwKICAgICAgYW1vdW50OiAwLAogICAgICBiYWxhbmNlOiAwLAogICAgICBvbGRCYWxhbmNlOiAwLAogICAgICBjb25maXJtZWQ6IGZhbHNlLAogICAgICBzZW5kZXI6ICIiLAogICAgICB0b0FkZHJlc3M6ICIiLAogICAgICBjb25maXJtYXRpb25zOiAwLAogICAgICBtaW5lckZlZTogMCwKICAgICAgZXJyb3I6IG51bGwsCiAgICAgIGZpbmFsQmFsYW5jZXM6IGZhbHNlCiAgICB9LCByZXN0KTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhUcmFuc2FjdGlvbiwgW3sKICAgIGtleTogImZldGNoVHhJbmZvIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZmV0Y2hUeEluZm8gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihjdXJyZW5jeUtleSwgdHhJZCwgdGlja2VyKSB7CiAgICAgICAgdmFyIGNhY2hlZFR4SW5mbywgaW5mb1R4LCBlcnJvciwgX2luZm9UeCwgYW1vdW50LCBvbGRCYWxhbmNlLCBjb25maXJtZWQsIHNlbmRlciwgdG9BZGRyZXNzLCBjb25maXJtYXRpb25zLCBtaW5lckZlZSwgbWluZXJGZWVDdXJyZW5jeSwgYWRtaW5GZWU7CgogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY2FjaGVkVHhJbmZvID0gdGhpcy5zdGF0ZS5pbmZvVHg7CiAgICAgICAgICAgICAgICBpbmZvVHggPSBudWxsOwogICAgICAgICAgICAgICAgZXJyb3IgPSBudWxsOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAzOwoKICAgICAgICAgICAgICAgIGlmICghKGN1cnJlbmN5S2V5ID09PSAidG9rZW4iKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gYWN0aW9ucy50b2tlbi5mZXRjaFRva2VuVHhJbmZvKHRpY2tlciwgdHhJZCwgNSAqIDYwICogMTAwMCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIGluZm9UeCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpb25zW2N1cnJlbmN5S2V5XS5mZXRjaFR4SW5mbyh0eElkLCA1ICogNjAgKiAxMDAwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIGluZm9UeCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgzKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQyLnQwKTsKICAgICAgICAgICAgICAgIGVycm9yID0gX2NvbnRleHQyLnQwOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgaWYgKCEoIWluZm9UeCB8fCBlcnJvcikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gRmFpbCBwYXJzZQogICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICAgIGlzRmV0Y2hpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICBlcnJvcjogIWNhY2hlZFR4SW5mbwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBpZiAoIXRoaXMudW5tb3VudGVkKSB7CiAgICAgICAgICAgICAgICAgIGxzRGF0YUNhY2hlLnB1c2goewogICAgICAgICAgICAgICAgICAgIGtleTogIlR4SW5mb18iLmNvbmNhdChjdXJyZW5jeUtleS50b0xvd2VyQ2FzZSgpLCAiXyIpLmNvbmNhdCh0eElkKSwKICAgICAgICAgICAgICAgICAgICB0aW1lOiAzNjAwLAogICAgICAgICAgICAgICAgICAgIGRhdGE6IGluZm9UeAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgX2luZm9UeCA9IGluZm9UeCwgYW1vdW50ID0gX2luZm9UeC5hbW91bnQsIG9sZEJhbGFuY2UgPSBfaW5mb1R4LmFmdGVyQmFsYW5jZSwgY29uZmlybWVkID0gX2luZm9UeC5jb25maXJtZWQsIHNlbmRlciA9IF9pbmZvVHguc2VuZGVyQWRkcmVzcywgdG9BZGRyZXNzID0gX2luZm9UeC5yZWNlaXZlckFkZHJlc3MsIGNvbmZpcm1hdGlvbnMgPSBfaW5mb1R4LmNvbmZpcm1hdGlvbnMsIG1pbmVyRmVlID0gX2luZm9UeC5taW5lckZlZSwgbWluZXJGZWVDdXJyZW5jeSA9IF9pbmZvVHgubWluZXJGZWVDdXJyZW5jeSwgYWRtaW5GZWUgPSBfaW5mb1R4LmFkbWluRmVlOwogICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgICAgICBpc0ZldGNoaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBpbmZvVHg6IGluZm9UeCwKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudCwKICAgICAgICAgICAgICAgICAgICBiYWxhbmNlOiAwLAogICAgICAgICAgICAgICAgICAgIG9sZEJhbGFuY2U6IG9sZEJhbGFuY2UsCiAgICAgICAgICAgICAgICAgICAgY29uZmlybWVkOiBjb25maXJtZWQsCiAgICAgICAgICAgICAgICAgICAgc2VuZGVyOiBzZW5kZXIsCiAgICAgICAgICAgICAgICAgICAgdG9BZGRyZXNzOiB0b0FkZHJlc3MsCiAgICAgICAgICAgICAgICAgICAgY29uZmlybWF0aW9uczogY29uZmlybWF0aW9ucywKICAgICAgICAgICAgICAgICAgICBtaW5lckZlZTogbWluZXJGZWUsCiAgICAgICAgICAgICAgICAgICAgbWluZXJGZWVDdXJyZW5jeTogbWluZXJGZWVDdXJyZW5jeSwKICAgICAgICAgICAgICAgICAgICBhZG1pbkZlZTogYWRtaW5GZWUKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMsIFtbMywgMTVdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGZldGNoVHhJbmZvKF94LCBfeDIsIF94MykgewogICAgICAgIHJldHVybiBfZmV0Y2hUeEluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZldGNoVHhJbmZvOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiY29tcG9uZW50RGlkTW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkgewogICAgICBjb25zb2xlLmxvZygnVHJhbnNhY3Rpb24gbW91bnRlZCcpOwogICAgICB2YXIgX3RoaXMkc3RhdGUyID0gdGhpcy5zdGF0ZSwKICAgICAgICAgIHRpY2tlciA9IF90aGlzJHN0YXRlMi50aWNrZXIsCiAgICAgICAgICB0eElkID0gX3RoaXMkc3RhdGUyLnR4SWQ7CgogICAgICBpZiAoIXR4SWQpIHsKICAgICAgICAvL0AKICAgICAgICBoaXN0b3J5LnB1c2gobGlua3Mubm90Rm91bmQpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGN1cnJlbmN5ID0gZ2V0Q3VycmVuY3lLZXkodGlja2VyLCBmYWxzZSk7CiAgICAgIHRoaXMuZmV0Y2hUeEluZm8oY3VycmVuY3ksIHR4SWQsIHRpY2tlcik7CiAgICAgIHRoaXMuZmV0Y2hUeEZpbmFsQmFsYW5jZXMoZ2V0Q3VycmVuY3lLZXkodGlja2VyLCB0cnVlKSwgdHhJZCk7CgogICAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3dZLWhpZGRlbi1mb3JjZScpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcG9uZW50V2lsbFVubW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkgewogICAgICBjb25zb2xlLmxvZygnVHJhbnNhY3Rpb24gdW5tb3VudGVkJyk7CiAgICAgIHRoaXMudW5tb3VudGVkID0gdHJ1ZTsKCiAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvd1ktaGlkZGVuLWZvcmNlJyk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIGludGwgPSB0aGlzLnByb3BzLmludGw7CiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNb2RhbEJveCwgewogICAgICAgIHRpdGxlOiBpbnRsLmZvcm1hdE1lc3NhZ2UobGFiZWxzLlRpdGxlKSwKICAgICAgICBvbkNsb3NlOiB0aGlzLmhhbmRsZUNsb3NlCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAiaG9sZGVyIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUeEluZm8sIHRoaXMuc3RhdGUpKSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gVHJhbnNhY3Rpb247Cn0oQ29tcG9uZW50KSwgX3RlbXApKSB8fCBfY2xhc3MpIHx8IF9jbGFzcyk7CmV4cG9ydCBkZWZhdWx0IHdpdGhSb3V0ZXIoVHJhbnNhY3Rpb24pOw=="},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/front/shared/pages/Transaction/Transaction.tsx"],"names":["withRouter","React","Component","actions","helpers","links","getCurrencyKey","defineMessages","injectIntl","getWalletLink","TxInfo","ModalBox","cssModules","styles","lsDataCache","labels","Title","id","defaultMessage","Transaction","allowMultiple","props","currency","txId","setTimeout","transactions","fetchTxBalances","finalBalances","unmounted","setState","history","state","infoTx","walletOne","senderAddress","walletTwo","receiverAddress","ticker","wallets","Array","forEach","wallet","push","walletLink","match","params","tx","get","toLowerCase","rest","amount","oldBalance","afterBalance","confirmed","sender","toAddress","confirmations","minerFee","minerFeeCurrency","adminFee","isFetching","balance","error","currencyKey","cachedTxInfo","token","fetchTokenTxInfo","fetchTxInfo","console","key","time","data","log","notFound","fetchTxFinalBalances","document","body","classList","add","remove","intl","formatMessage","handleClose"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA,SAASA,UAAT,QAA2B,kBAA3B;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAA2C,OAA3C;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAOC,OAAP,IAA6BC,KAA7B,QAA0C,SAA1C;AAEA,OAAOC,cAAP,MAA2B,wBAA3B;AACA,SAA2BC,cAA3B,EAA2CC,UAA3C,QAA6D,YAA7D;AACA,OAAOC,aAAP,MAA0B,uBAA1B;AAEA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAOC,WAAP,MAAwB,qBAAxB;AAGA,IAAMC,MAAM,GAAGR,cAAc,CAAC;AAC5BS,EAAAA,KAAK,EAAE;AACLC,IAAAA,EAAE,EAAE,WADC;AAELC,IAAAA,cAAc,EAAE;AAFX;AADqB,CAAD,CAA7B;IAWMC,W,WAHLP,UAAU,mBACNC,MADM,GAER;AAAEO,EAAAA,aAAa,EAAE;AAAjB,CAFQ,C,EADVZ,U;;;;;AAOC,uBAAYa,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,gEAFP,KAEO;;AAAA,2EAoJI,UAACC,QAAD,EAAWC,IAAX,EAAoB;AACzCC,MAAAA,UAAU,wEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACmBpB,OAAO,CAACqB,YAAR,CAAqBC,eAArB,CAAqCJ,QAArC,EAA+CC,IAA/C,CADnB;;AAAA;AACHI,gBAAAA,aADG;;AAET,oBAAIA,aAAa,IAAI,CAAC,MAAKC,SAA3B,EAAsC;AACpC,wBAAKC,QAAL,CAAc;AACZF,oBAAAA,aAAa,EAAbA;AADY,mBAAd;AAGD;;AANQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAD,GAAV;AAQD,KA7JkB;;AAAA,kEA+JL,YAAM;AAAA,UACVG,OADU,GACE,MAAKT,KADP,CACVS,OADU;AAAA,wBASd,MAAKC,KATS;AAAA,2CAIhBC,MAJgB;AAAA,UAKCC,SALD,sBAKdC,aALc;AAAA,UAMGC,SANH,sBAMdC,eANc;AAAA,UAQhBC,MARgB,eAQhBA,MARgB;AAWlB,UAAMC,OAAO,GAAG,EAAhB;;AACA,UAAIL,SAAS,YAAYM,KAAzB,EAAgC;AAC9BN,QAAAA,SAAS,CAACO,OAAV,CAAkB,UAACC,MAAD;AAAA,iBAAYH,OAAO,CAACI,IAAR,CAAaD,MAAb,CAAZ;AAAA,SAAlB;AACD,OAFD,MAEOH,OAAO,CAACI,IAAR,CAAaT,SAAb;;AAEP,UAAIE,SAAS,YAAYI,KAAzB,EAAgC;AAC9BJ,QAAAA,SAAS,CAACK,OAAV,CAAkB,UAACC,MAAD;AAAA,iBAAYH,OAAO,CAACI,IAAR,CAAaD,MAAb,CAAZ;AAAA,SAAlB;AACD,OAFD,MAEOH,OAAO,CAACI,IAAR,CAAaP,SAAb;;AAEP,UAAMQ,UAAU,GAAGlC,aAAa,CAAC4B,MAAD,EAASC,OAAT,CAAhC;AACAR,MAAAA,OAAO,CAACY,IAAR,CAAcC,UAAD,IAAgB,GAA7B;AACD,KArLkB;;AAAA,QAIfb,QAJe,GAWbT,KAXa,CAIfS,OAJe;AAAA,uBAWbT,KAXa,CAKfuB,KALe;AAAA,6CAUX,IAVW;;AAAA,2CAMbC,MANa;AAAA,oDAOXR,MAPW;AAAA,QAOXA,OAPW,sCAOF,IAPE;AAAA,qDAQXS,EARW;AAAA,QAQPvB,KARO,uCAQA,IARA;;AAajB,QAAMD,SAAQ,GAAGhB,cAAc,CAAC+B,OAAD,EAAS,IAAT,CAA/B;;AACA,QAAML,MAAM,GAAGlB,WAAW,CAACiC,GAAZ,kBAA0BzB,SAAQ,CAAC0B,WAAT,EAA1B,cAAoDzB,KAApD,EAAf;AAEA,QAAI0B,IAAI,GAAG,EAAX;;AACA,QAAIjB,MAAJ,EAAY;AAAA,UAERkB,MAFQ,GAWNlB,MAXM,CAERkB,MAFQ;AAAA,UAGMC,UAHN,GAWNnB,MAXM,CAGRoB,YAHQ;AAAA,UAIRC,SAJQ,GAWNrB,MAXM,CAIRqB,SAJQ;AAAA,UAKOC,MALP,GAWNtB,MAXM,CAKRE,aALQ;AAAA,UAMSqB,SANT,GAWNvB,MAXM,CAMRI,eANQ;AAAA,UAORoB,aAPQ,GAWNxB,MAXM,CAORwB,aAPQ;AAAA,UAQRC,QARQ,GAWNzB,MAXM,CAQRyB,QARQ;AAAA,UASRC,gBATQ,GAWN1B,MAXM,CASR0B,gBATQ;AAAA,UAURC,QAVQ,GAWN3B,MAXM,CAUR2B,QAVQ;AAaVV,MAAAA,IAAI,GAAG;AACLC,QAAAA,MAAM,EAANA,MADK;AAELG,QAAAA,SAAS,EAATA,SAFK;AAGLC,QAAAA,MAAM,EAANA,MAHK;AAILC,QAAAA,SAAS,EAATA,SAJK;AAKLJ,QAAAA,UAAU,EAAVA,UALK;AAMLK,QAAAA,aAAa,EAAbA,aANK;AAOLC,QAAAA,QAAQ,EAARA,QAPK;AAQLC,QAAAA,gBAAgB,EAAhBA,gBARK;AASLC,QAAAA,QAAQ,EAARA;AATK,OAAP;AAWD;;AAED,UAAK5B,KAAL;AACET,MAAAA,QAAQ,EAARA,SADF;AAEEe,MAAAA,MAAM,EAANA,OAFF;AAGEd,MAAAA,IAAI,EAAJA,KAHF;AAIEqC,MAAAA,UAAU,EAAE,CAAE5B,MAJhB;AAKEA,MAAAA,MAAM,EAANA,MALF;AAMEkB,MAAAA,MAAM,EAAE,CANV;AAOEW,MAAAA,OAAO,EAAE,CAPX;AAQEV,MAAAA,UAAU,EAAE,CARd;AASEE,MAAAA,SAAS,EAAE,KATb;AAUEC,MAAAA,MAAM,IAVR;AAWEC,MAAAA,SAAS,IAXX;AAYEC,MAAAA,aAAa,EAAE,CAZjB;AAaEC,MAAAA,QAAQ,EAAE,CAbZ;AAcEK,MAAAA,KAAK,EAAE,IAdT;AAeEnC,MAAAA,aAAa,EAAE;AAfjB,OAgBKsB,IAhBL;AA3CiB;AA6DlB;;;;;kFAED,kBAAkBc,WAAlB,EAA+BxC,IAA/B,EAAqCc,MAArC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAEY2B,gBAAAA,YAFZ,GAGM,KAAKjC,KAHX,CAEIC,MAFJ;AAKMA,gBAAAA,MALN,GAKe,IALf;AAMM8B,gBAAAA,KANN,GAMc,IANd;AAAA;;AAAA,sBAQQC,WAAW,YARnB;AAAA;AAAA;AAAA;;AAAA;AAAA,uBASqB5D,OAAO,CAAC8D,KAAR,CAAcC,gBAAd,CAA+B7B,MAA/B,EAAuCd,IAAvC,EAA6C,IAAI,EAAJ,GAAS,IAAtD,CATrB;;AAAA;AASMS,gBAAAA,MATN;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAWqB7B,OAAO,CAAC4D,WAAD,CAAP,CAAqBI,WAArB,CAAiC5C,IAAjC,EAAuC,IAAI,EAAJ,GAAS,IAAhD,CAXrB;;AAAA;AAWMS,gBAAAA,MAXN;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAcIoC,gBAAAA,OAAO,CAACN,KAAR;AACAA,gBAAAA,KAAK,eAAL;;AAfJ;AAAA,sBAkBM,CAAC9B,MAAD,IAAW8B,KAlBjB;AAAA;AAAA;AAAA;;AAmBI;AACA,qBAAKjC,QAAL,CAAc;AACZ+B,kBAAAA,UAAU,EAAE,KADA;AAEZE,kBAAAA,KAAK,EAAE,CAAEE;AAFG,iBAAd;AApBJ;;AAAA;AA2BE,oBAAI,CAAC,KAAKpC,SAAV,EAAqB;AACnBd,kBAAAA,WAAW,CAAC4B,IAAZ,CAAiB;AACf2B,oBAAAA,GAAG,mBAAYN,WAAW,CAACf,WAAZ,EAAZ,cAAyCzB,IAAzC,CADY;AAEf+C,oBAAAA,IAAI,EAAE,IAFS;AAGfC,oBAAAA,IAAI,EAAEvC;AAHS,mBAAjB;AADmB,4BAiBfA,MAjBe,EAQjBkB,MARiB,WAQjBA,MARiB,EASHC,UATG,WASjBC,YATiB,EAUjBC,SAViB,WAUjBA,SAViB,EAWFC,MAXE,WAWjBpB,aAXiB,EAYAqB,SAZA,WAYjBnB,eAZiB,EAajBoB,aAbiB,WAajBA,aAbiB,EAcjBC,QAdiB,WAcjBA,QAdiB,EAejBC,gBAfiB,WAejBA,gBAfiB,EAgBjBC,QAhBiB,WAgBjBA,QAhBiB;AAmBnB,uBAAK9B,QAAL,CAAc;AACZ+B,oBAAAA,UAAU,EAAE,KADA;AAEZ5B,oBAAAA,MAAM,EAANA,MAFY;AAGZkB,oBAAAA,MAAM,EAANA,MAHY;AAIZW,oBAAAA,OAAO,EAAC,CAJI;AAKZV,oBAAAA,UAAU,EAAVA,UALY;AAMZE,oBAAAA,SAAS,EAATA,SANY;AAOZC,oBAAAA,MAAM,EAANA,MAPY;AAQZC,oBAAAA,SAAS,EAATA,SARY;AASZC,oBAAAA,aAAa,EAAbA,aATY;AAUZC,oBAAAA,QAAQ,EAARA,QAVY;AAWZC,oBAAAA,gBAAgB,EAAhBA,gBAXY;AAYZC,oBAAAA,QAAQ,EAARA;AAZY,mBAAd;AAcD;;AA5DH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;WA+DA,6BAAoB;AAClBS,MAAAA,OAAO,CAACI,GAAR,CAAY,qBAAZ;AADkB,yBAKd,KAAKzC,KALS;AAAA,UAGhBM,MAHgB,gBAGhBA,MAHgB;AAAA,UAIhBd,IAJgB,gBAIhBA,IAJgB;;AAOlB,UAAI,CAACA,IAAL,EAAW;AACT;AACAO,QAAAA,OAAO,CAACY,IAAR,CAAarC,KAAK,CAACoE,QAAnB;AACA;AACD;;AAED,UAAMnD,QAAQ,GAAGhB,cAAc,CAAC+B,MAAD,EAAS,KAAT,CAA/B;AACA,WAAK8B,WAAL,CAAiB7C,QAAjB,EAA2BC,IAA3B,EAAiCc,MAAjC;AACA,WAAKqC,oBAAL,CAA0BpE,cAAc,CAAC+B,MAAD,EAAS,IAAT,CAAxC,EAAwDd,IAAxD;;AAEA,UAAI,OAAOoD,QAAP,KAAoB,WAAxB,EAAqC;AACnCA,QAAAA,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,GAAxB,CAA4B,wBAA5B;AACD;AACF;;;WAqCD,gCAAuB;AACrBV,MAAAA,OAAO,CAACI,GAAR,CAAY,uBAAZ;AACA,WAAK5C,SAAL,GAAiB,IAAjB;;AAEA,UAAI,OAAO+C,QAAP,KAAoB,WAAxB,EAAqC;AACnCA,QAAAA,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBE,MAAxB,CAA+B,wBAA/B;AACD;AACF;;;WAED,kBAAS;AAAA,UAELC,IAFK,GAGH,KAAK3D,KAHF,CAEL2D,IAFK;AAKP,0BACE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAEA,IAAI,CAACC,aAAL,CAAmBlE,MAAM,CAACC,KAA1B,CAAjB;AAAmD,QAAA,OAAO,EAAE,KAAKkE;AAAjE,sBACE;AAAK,QAAA,SAAS,EAAC;AAAf,sBACE,oBAAC,MAAD,EAAY,KAAKnD,KAAjB,CADF,CADF,CADF;AAOD;;;;EA/MuB7B,S;AAkN1B,eAAeF,UAAU,CAACmB,WAAD,CAAzB","sourcesContent":["// @ts-nocheck\r\nimport { withRouter } from 'react-router-dom'\r\nimport React, { Component, Fragment } from 'react'\r\nimport actions from 'redux/actions'\r\nimport helpers, { constants, links } from 'helpers'\r\n\r\nimport getCurrencyKey from 'helpers/getCurrencyKey'\r\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\r\nimport getWalletLink from 'helpers/getWalletLink'\r\n\r\nimport TxInfo from './TxInfo'\r\nimport { ModalBox } from 'components/modal'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './styles.scss'\r\nimport lsDataCache from 'helpers/lsDataCache'\r\n\r\n\r\nconst labels = defineMessages({\r\n  Title: {\r\n    id: 'InfoPay_1',\r\n    defaultMessage: 'Transaction is completed',\r\n  },\r\n})\r\n\r\n@injectIntl\r\n@cssModules({\r\n  ...styles,\r\n}, { allowMultiple: true })\r\nclass Transaction extends Component<any, any> {\r\n  unmounted = false\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      history,\r\n      match: {\r\n        params: {\r\n          ticker = null,\r\n          tx: txId = null,\r\n        },\r\n      } = null,\r\n    } = props\r\n\r\n    const currency = getCurrencyKey(ticker, true)\r\n    const infoTx = lsDataCache.get(`TxInfo_${currency.toLowerCase()}_${txId}`)\r\n\r\n    let rest = {}\r\n    if (infoTx) {\r\n      const {\r\n        amount,\r\n        afterBalance: oldBalance,\r\n        confirmed,\r\n        senderAddress: sender,\r\n        receiverAddress: toAddress,\r\n        confirmations,\r\n        minerFee,\r\n        minerFeeCurrency,\r\n        adminFee,\r\n      } = infoTx\r\n\r\n      rest = {\r\n        amount,\r\n        confirmed,\r\n        sender,\r\n        toAddress,\r\n        oldBalance,\r\n        confirmations,\r\n        minerFee,\r\n        minerFeeCurrency,\r\n        adminFee,\r\n      }\r\n    }\r\n\r\n    this.state = {\r\n      currency,\r\n      ticker,\r\n      txId,\r\n      isFetching: !(infoTx),\r\n      infoTx,\r\n      amount: 0,\r\n      balance: 0,\r\n      oldBalance: 0,\r\n      confirmed: false,\r\n      sender: ``,\r\n      toAddress: ``,\r\n      confirmations: 0,\r\n      minerFee: 0,\r\n      error: null,\r\n      finalBalances: false,\r\n      ...rest,\r\n    }\r\n  }\r\n\r\n  async fetchTxInfo(currencyKey, txId, ticker) {\r\n    const {\r\n      infoTx: cachedTxInfo,\r\n    } = this.state\r\n\r\n    let infoTx = null\r\n    let error = null\r\n    try {\r\n      if (currencyKey === `token`) {\r\n        infoTx = await actions.token.fetchTokenTxInfo(ticker, txId, 5 * 60 * 1000)\r\n      } else {\r\n        infoTx = await actions[currencyKey].fetchTxInfo(txId, 5 * 60 * 1000)\r\n      }\r\n    } catch (err) {\r\n      console.error(err)\r\n      error = err\r\n    }\r\n\r\n    if (!infoTx || error) {\r\n      // Fail parse\r\n      this.setState({\r\n        isFetching: false,\r\n        error: !(cachedTxInfo),\r\n      })\r\n      return\r\n    }\r\n\r\n    if (!this.unmounted) {\r\n      lsDataCache.push({\r\n        key: `TxInfo_${currencyKey.toLowerCase()}_${txId}`,\r\n        time: 3600,\r\n        data: infoTx,\r\n      })\r\n\r\n      const {\r\n        amount,\r\n        afterBalance: oldBalance,\r\n        confirmed,\r\n        senderAddress: sender,\r\n        receiverAddress: toAddress,\r\n        confirmations,\r\n        minerFee,\r\n        minerFeeCurrency,\r\n        adminFee,\r\n      } = infoTx\r\n\r\n      this.setState({\r\n        isFetching: false,\r\n        infoTx,\r\n        amount,\r\n        balance:0,\r\n        oldBalance,\r\n        confirmed,\r\n        sender,\r\n        toAddress,\r\n        confirmations,\r\n        minerFee,\r\n        minerFeeCurrency,\r\n        adminFee,\r\n      })\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('Transaction mounted')\r\n    const {\r\n      ticker,\r\n      txId,\r\n    } = this.state\r\n\r\n    if (!txId) {\r\n      //@\r\n      history.push(links.notFound)\r\n      return\r\n    }\r\n\r\n    const currency = getCurrencyKey(ticker, false)\r\n    this.fetchTxInfo(currency, txId, ticker)\r\n    this.fetchTxFinalBalances(getCurrencyKey(ticker, true), txId)\r\n\r\n    if (typeof document !== 'undefined') {\r\n      document.body.classList.add('overflowY-hidden-force')\r\n    }\r\n  }\r\n\r\n  fetchTxFinalBalances = (currency, txId) => {\r\n    setTimeout(async () => {\r\n      const finalBalances = await helpers.transactions.fetchTxBalances(currency, txId)\r\n      if (finalBalances && !this.unmounted) {\r\n        this.setState({\r\n          finalBalances,\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  handleClose = () => {\r\n    const { history } = this.props\r\n\r\n    let {\r\n      infoTx: {\r\n        senderAddress: walletOne,\r\n        receiverAddress: walletTwo,\r\n      },\r\n      ticker,\r\n    } = this.state\r\n\r\n    const wallets = []\r\n    if (walletOne instanceof Array) {\r\n      walletOne.forEach((wallet) => wallets.push(wallet))\r\n    } else wallets.push(walletOne)\r\n\r\n    if (walletTwo instanceof Array) {\r\n      walletTwo.forEach((wallet) => wallets.push(wallet))\r\n    } else wallets.push(walletTwo)\r\n\r\n    const walletLink = getWalletLink(ticker, wallets)\r\n    history.push((walletLink) || '/')\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    console.log('Transaction unmounted')\r\n    this.unmounted = true\r\n\r\n    if (typeof document !== 'undefined') {\r\n      document.body.classList.remove('overflowY-hidden-force')\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      intl,\r\n    } = this.props\r\n\r\n    return (\r\n      <ModalBox title={intl.formatMessage(labels.Title)} onClose={this.handleClose} >\r\n        <div styleName=\"holder\">\r\n          <TxInfo {...this.state} />\r\n        </div>\r\n      </ModalBox>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Transaction)\r\n"]}]}