{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\pages\\History\\History.tsx","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\pages\\History\\History.tsx","mtime":1614852241897},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YiOwppbXBvcnQgX2V4dGVuZHMgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9leHRlbmRzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5IjsKCnZhciBfZGVjLCBfZGVjMiwgX2NsYXNzLCBfdGVtcDsKCmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9CgpmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICJ1bmRlZmluZWQiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSAiZnVuY3Rpb24iKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfQoKLy8gQHRzLW5vY2hlY2sKaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCwgRnJhZ21lbnQgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBDU1NNb2R1bGVzIGZyb20gJ3JlYWN0LWNzcy1tb2R1bGVzJzsKaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlZGFjdGlvbic7CmltcG9ydCBhY3Rpb25zIGZyb20gJ3JlZHV4L2FjdGlvbnMnOwppbXBvcnQgeyBjb25zdGFudHMgfSBmcm9tICdoZWxwZXJzJzsKaW1wb3J0IFJvdyBmcm9tICcuL1Jvdy9Sb3cnOwppbXBvcnQgc3R5bGVzIGZyb20gJ2NvbXBvbmVudHMvdGFibGVzL1RhYmxlL1RhYmxlLnNjc3MnOwppbXBvcnQgc3R5bGVzSGVyZSBmcm9tICcuL0hpc3Rvcnkuc2Nzcyc7CmltcG9ydCBJbmZpbml0ZVNjcm9sbFRhYmxlIGZyb20gJ2NvbXBvbmVudHMvdGFibGVzL0luZmluaXRlU2Nyb2xsVGFibGUvSW5maW5pdGVTY3JvbGxUYWJsZSc7CmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UsIGluamVjdEludGwsIGRlZmluZU1lc3NhZ2VzIH0gZnJvbSAncmVhY3QtaW50bCc7CmltcG9ydCBDb250ZW50TG9hZGVyIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvbG9hZGVycy9Db250ZW50TG9hZGVyL0NvbnRlbnRMb2FkZXInOwppbXBvcnQgRmlsdGVyRm9ybSBmcm9tICdjb21wb25lbnRzL0ZpbHRlckZvcm0vRmlsdGVyRm9ybSc7CmltcG9ydCBJbnZvaWNlc0xpc3QgZnJvbSAncGFnZXMvSW52b2ljZXMvSW52b2ljZXNMaXN0JzsKaW1wb3J0IFN3YXBzSGlzdG9yeSBmcm9tICdwYWdlcy9IaXN0b3J5L1N3YXBzSGlzdG9yeS9Td2Fwc0hpc3RvcnknOwoKdmFyIGZpbHRlckhpc3RvcnkgPSBmdW5jdGlvbiBmaWx0ZXJIaXN0b3J5KGl0ZW1zLCBmaWx0ZXIpIHsKICBpZiAoZmlsdGVyID09PSAnc2VudCcpIHsKICAgIHJldHVybiBpdGVtcy5maWx0ZXIoZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgdmFyIGRpcmVjdGlvbiA9IF9yZWYuZGlyZWN0aW9uOwogICAgICByZXR1cm4gZGlyZWN0aW9uID09PSAnb3V0JzsKICAgIH0pOwogIH0KCiAgaWYgKGZpbHRlciA9PT0gJ3JlY2VpdmVkJykgewogICAgcmV0dXJuIGl0ZW1zLmZpbHRlcihmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgdmFyIGRpcmVjdGlvbiA9IF9yZWYyLmRpcmVjdGlvbjsKICAgICAgcmV0dXJuIGRpcmVjdGlvbiA9PT0gJ2luJzsKICAgIH0pOwogIH0KCiAgcmV0dXJuIGl0ZW1zOwp9OwoKdmFyIHN1YlRpdGxlID0gZGVmaW5lTWVzc2FnZXMoewogIHN1YlRpdGxlSGlzdG9yeTogewogICAgaWQ6ICdBbW91bnQ2OCcsCiAgICBkZWZhdWx0TWVzc2FnZTogJ1RyYW5zYWN0aW9ucycKICB9Cn0pOwp2YXIgaXNEYXJrID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oY29uc3RhbnRzLmxvY2FsU3RvcmFnZS5pc0RhcmspOwp2YXIgSGlzdG9yeSA9IChfZGVjID0gY29ubmVjdChmdW5jdGlvbiAoX3JlZjMpIHsKICB2YXIgYWN0aXZlRmlhdCA9IF9yZWYzLnVzZXIuYWN0aXZlRmlhdCwKICAgICAgX3JlZjMkaGlzdG9yeSA9IF9yZWYzLmhpc3RvcnksCiAgICAgIHRyYW5zYWN0aW9ucyA9IF9yZWYzJGhpc3RvcnkudHJhbnNhY3Rpb25zLAogICAgICBmaWx0ZXIgPSBfcmVmMyRoaXN0b3J5LmZpbHRlciwKICAgICAgc3dhcEhpc3RvcnkgPSBfcmVmMyRoaXN0b3J5LnN3YXBIaXN0b3J5OwogIHJldHVybiB7CiAgICBhY3RpdmVGaWF0OiBhY3RpdmVGaWF0LAogICAgaXRlbXM6IGZpbHRlckhpc3RvcnkodHJhbnNhY3Rpb25zLCBmaWx0ZXIpLAogICAgc3dhcEhpc3Rvcnk6IHN3YXBIaXN0b3J5CiAgfTsKfSksIF9kZWMyID0gQ1NTTW9kdWxlcyhzdHlsZXNIZXJlLCB7CiAgYWxsb3dNdWx0aXBsZTogdHJ1ZQp9KSwgaW5qZWN0SW50bChfY2xhc3MgPSBfZGVjKF9jbGFzcyA9IF9kZWMyKF9jbGFzcyA9IChfdGVtcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NvbXBvbmVudCkgewogIF9pbmhlcml0cyhIaXN0b3J5LCBfQ29tcG9uZW50KTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihIaXN0b3J5KTsKCiAgZnVuY3Rpb24gSGlzdG9yeShwcm9wcykgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIaXN0b3J5KTsKCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJjcmVhdGVJdGVtc1N0YXRlIiwgZnVuY3Rpb24gKGl0ZW1zKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaXRlbXM6IGl0ZW1zCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJsb2FkTW9yZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGl0ZW1zID0gX3RoaXMucHJvcHMuaXRlbXM7CiAgICAgIHZhciByZW5kZXJlZEl0ZW1zID0gX3RoaXMuc3RhdGUucmVuZGVyZWRJdGVtczsKCiAgICAgIGlmIChyZW5kZXJlZEl0ZW1zIDwgaXRlbXMubGVuZ3RoKSB7CiAgICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHN0YXRlKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICByZW5kZXJlZEl0ZW1zOiBzdGF0ZS5yZW5kZXJlZEl0ZW1zICsgTWF0aC5taW4oMTAsIGl0ZW1zLmxlbmd0aCAtIHN0YXRlLnJlbmRlcmVkSXRlbXMpCiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJyb3dSZW5kZXIiLCBmdW5jdGlvbiAocm93LCByb3dJbmRleCkgewogICAgICB2YXIgYWN0aXZlRmlhdCA9IF90aGlzLnByb3BzLmFjdGl2ZUZpYXQ7CiAgICAgIHZhciBjb21tZW50c0xpc3QgPSBfdGhpcy5zdGF0ZS5jb21tZW50c0xpc3Q7CiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSb3csIF9leHRlbmRzKHsKICAgICAgICBhY3RpdmVGaWF0OiBhY3RpdmVGaWF0LAogICAgICAgIGlzRGFyazogaXNEYXJrLAogICAgICAgIGtleTogcm93SW5kZXgsCiAgICAgICAgaGlkZGVuTGlzdDogY29tbWVudHNMaXN0CiAgICAgIH0sIHJvdykpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiaGFuZGxlRmlsdGVyQ2hhbmdlIiwgZnVuY3Rpb24gKF9yZWY0KSB7CiAgICAgIHZhciB0YXJnZXQgPSBfcmVmNC50YXJnZXQ7CiAgICAgIHZhciB2YWx1ZSA9IHRhcmdldC52YWx1ZTsKCiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgZmlsdGVyVmFsdWU6IHZhbHVlCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJoYW5kbGVGaWx0ZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IF90aGlzLnN0YXRlLAogICAgICAgICAgZmlsdGVyVmFsdWUgPSBfdGhpcyRzdGF0ZS5maWx0ZXJWYWx1ZSwKICAgICAgICAgIGl0ZW1zID0gX3RoaXMkc3RhdGUuaXRlbXM7CgogICAgICBpZiAoZmlsdGVyVmFsdWUgJiYgZmlsdGVyVmFsdWUubGVuZ3RoKSB7CiAgICAgICAgdmFyIG5ld1Jvd3MgPSBpdGVtcy5maWx0ZXIoZnVuY3Rpb24gKF9yZWY1KSB7CiAgICAgICAgICB2YXIgYWRkcmVzcyA9IF9yZWY1LmFkZHJlc3M7CiAgICAgICAgICByZXR1cm4gYWRkcmVzcyAmJiBhZGRyZXNzLmluY2x1ZGVzKGZpbHRlclZhbHVlLnRvTG93ZXJDYXNlKCkpOwogICAgICAgIH0pOwoKICAgICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBpdGVtczogbmV3Um93cwogICAgICAgICAgfTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBfdGhpcy5yZXNldEZpbHRlcigpOwogICAgICB9CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJsb2FkaW5nIiwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGlzTG9hZGluZzogdHJ1ZQogICAgICAgIH07CiAgICAgIH0pOwoKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgIH0sIDEwMDApOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAicmVzZXRGaWx0ZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLmxvYWRpbmcoKTsKCiAgICAgIHZhciBpdGVtcyA9IF90aGlzLnByb3BzLml0ZW1zOwoKICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBmaWx0ZXJWYWx1ZTogIiIKICAgICAgICB9OwogICAgICB9KTsKCiAgICAgIF90aGlzLmNyZWF0ZUl0ZW1zU3RhdGUoaXRlbXMpOwogICAgfSk7CgogICAgdmFyIF9pdGVtcyA9IHByb3BzLml0ZW1zLAogICAgICAgIF9wcm9wcyRtYXRjaCRwYXJhbXMkcCA9IHByb3BzLm1hdGNoLnBhcmFtcy5wYWdlLAogICAgICAgIHBhZ2UgPSBfcHJvcHMkbWF0Y2gkcGFyYW1zJHAgPT09IHZvaWQgMCA/IG51bGwgOiBfcHJvcHMkbWF0Y2gkcGFyYW1zJHA7CgogICAgdmFyIF9jb21tZW50c0xpc3QgPSBhY3Rpb25zLmNvbW1lbnRzLmdldENvbW1lbnRzKCk7CgogICAgX3RoaXMuc3RhdGUgPSB7CiAgICAgIHBhZ2U6IHBhZ2UsCiAgICAgIGl0ZW1zOiBfaXRlbXMsCiAgICAgIGZpbHRlclZhbHVlOiAiIiwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgcmVuZGVyZWRJdGVtczogMTAsCiAgICAgIGNvbW1lbnRzTGlzdDogX2NvbW1lbnRzTGlzdCB8fCBudWxsCiAgICB9OwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEhpc3RvcnksIFt7CiAgICBrZXk6ICJjb21wb25lbnREaWRNb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdIaXN0b3J5IG1vdW50ZWQnKTsgLy8gYWN0aW9ucy5hbmFseXRpY3MuZGF0YUV2ZW50KCdvcGVuLXBhZ2UtaGlzdG9yeScpCgogICAgICBpZiAodGhpcy5wcm9wcy5tYXRjaCAmJiB0aGlzLnByb3BzLm1hdGNoLnBhcmFtcyAmJiB0aGlzLnByb3BzLm1hdGNoLnBhcmFtcy5wYWdlID09PSAnaW52b2ljZXMnKSB7fSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5wcm9wcy5tYXRjaCAmJiB0aGlzLnByb3BzLm1hdGNoLnBhcmFtcyAmJiB0aGlzLnByb3BzLm1hdGNoLnBhcmFtcy5hZGRyZXNzKSB7CiAgICAgICAgICAvLyBAVG9EbyAtINGN0YLQvtGCINGA0L7Rg9GC0LXRgCDQvdC1INGA0LDQsdC+0YLQsNC10YIgLSDQstC+0LfQvNC+0LbQvdC+INCw0YDRgtC10YTQsNC60YIg0L/QvtGB0LvQtSDQv9C10YDQtdCy0L7QtNCwINGB0YHRi9C70L7QuiDQvdCwIC8oYnRjfGV0aCkvd2FsbGV0QWRkcmVzcwogICAgICAgICAgdmFyIF90aGlzJHByb3BzJG1hdGNoJHBhciA9IHRoaXMucHJvcHMubWF0Y2gucGFyYW1zLmFkZHJlc3MsCiAgICAgICAgICAgICAgYWRkcmVzcyA9IF90aGlzJHByb3BzJG1hdGNoJHBhciA9PT0gdm9pZCAwID8gbnVsbCA6IF90aGlzJHByb3BzJG1hdGNoJHBhcjsgLy9ACgogICAgICAgICAgYWN0aW9ucy5oaXN0b3J5LnNldFRyYW5zYWN0aW9ucyhhZGRyZXNzKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHVzZXIgPSB0aGlzLnByb3BzLnVzZXI7CiAgICAgICAgICB2YXIgb2JqQ3VycmVuY3kgPSB7fTsKCiAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHVzZXIpIHsKICAgICAgICAgICAgaWYgKHVzZXJbcHJvcF0gJiYgX3R5cGVvZih1c2VyW3Byb3BdKSA9PT0gJ29iamVjdCcgJiYgdXNlcltwcm9wXS5jdXJyZW5jeSkgewogICAgICAgICAgICAgIG9iakN1cnJlbmN5W3VzZXJbcHJvcF0uY3VycmVuY3ldID0gewogICAgICAgICAgICAgICAgaXNCYWxhbmNlRmV0Y2hlZDogdXNlcltwcm9wXS5pc0JhbGFuY2VGZXRjaGVkCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGFjdGlvbnMudXNlci5zZXRUcmFuc2FjdGlvbnMob2JqQ3VycmVuY3kpOwogICAgICAgICAgYWN0aW9ucy5jb3JlLmdldFN3YXBIaXN0b3J5KCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcG9uZW50V2lsbFVubW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkgewogICAgICBjb25zb2xlLmxvZygnSGlzdG9yeSB1bm1vdW50ZWQnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wb25lbnREaWRVcGRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShfcmVmNikgewogICAgICB2YXIgcHJldkl0ZW1zID0gX3JlZjYuaXRlbXM7CiAgICAgIHZhciBpdGVtcyA9IHRoaXMucHJvcHMuaXRlbXM7CgogICAgICBpZiAoaXRlbXMgIT09IHByZXZJdGVtcykgewogICAgICAgIHRoaXMuY3JlYXRlSXRlbXNTdGF0ZShpdGVtcyk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzJHN0YXRlMiA9IHRoaXMuc3RhdGUsCiAgICAgICAgICBmaWx0ZXJWYWx1ZSA9IF90aGlzJHN0YXRlMi5maWx0ZXJWYWx1ZSwKICAgICAgICAgIGl0ZW1zID0gX3RoaXMkc3RhdGUyLml0ZW1zLAogICAgICAgICAgaXNMb2FkaW5nID0gX3RoaXMkc3RhdGUyLmlzTG9hZGluZzsKICAgICAgdmFyIHN3YXBIaXN0b3J5ID0gdGhpcy5wcm9wcy5zd2FwSGlzdG9yeTsKICAgICAgdmFyIHRpdGxlcyA9IFtdOwogICAgICB2YXIgYWN0aXZlVGFiID0gMDsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic2VjdGlvbiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJoaXN0b3J5ICIuY29uY2F0KGlzRGFyayA/ICdkYXJrJyA6ICcnKQogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiaDMiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAiaGlzdG9yeUhlYWRpbmciCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogIkhpc3RvcnlfQWN0aXZpdHlfVGl0bGUiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQWN0aXZpdHkiCiAgICAgIH0pKSwgaXRlbXMgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRmlsdGVyRm9ybSwgewogICAgICAgIGZpbHRlclZhbHVlOiBmaWx0ZXJWYWx1ZSwKICAgICAgICBvblN1Ym1pdDogdGhpcy5oYW5kbGVGaWx0ZXIsCiAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlRmlsdGVyQ2hhbmdlLAogICAgICAgIHJlc2V0RmlsdGVyOiB0aGlzLnJlc2V0RmlsdGVyCiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwgaXRlbXMubGVuZ3RoID4gMCAmJiAhaXNMb2FkaW5nID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSW5maW5pdGVTY3JvbGxUYWJsZSwgewogICAgICAgIGNsYXNzTmFtZTogc3R5bGVzLmhpc3RvcnksCiAgICAgICAgdGl0bGVzOiB0aXRsZXMsCiAgICAgICAgYm90dG9tT2Zmc2V0OiA0MDAsCiAgICAgICAgZ2V0TW9yZTogdGhpcy5sb2FkTW9yZSwKICAgICAgICBpdGVtc0NvdW50OiBpdGVtcy5sZW5ndGgsCiAgICAgICAgaXRlbXM6IGl0ZW1zLnNsaWNlKDAsIHRoaXMuc3RhdGUucmVuZGVyZWRJdGVtcyksCiAgICAgICAgcm93UmVuZGVyOiB0aGlzLnJvd1JlbmRlcgogICAgICB9KSA6CiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgLy9ACiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGVudExvYWRlciwgewogICAgICAgIHJpZGVTaWRlQ29udGVudDogdHJ1ZSwKICAgICAgICBlbXB0eTogIWlzTG9hZGluZywKICAgICAgICBub25IZWFkZXI6IHRydWUKICAgICAgfSkpKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAiaGlzdG9yeUxvYWRlciIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGVudExvYWRlciwgewogICAgICAgIHJpZGVTaWRlQ29udGVudDogdHJ1ZQogICAgICB9KSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJbnZvaWNlc0xpc3QsIHsKICAgICAgICBvbmx5VGFibGU6IHRydWUKICAgICAgfSksIHN3YXBIaXN0b3J5Lmxlbmd0aCA+IDAgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3dhcHNIaXN0b3J5LCB7CiAgICAgICAgb3JkZXJzOiBzd2FwSGlzdG9yeS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLnN0ZXAgPj0gMTsKICAgICAgICB9KQogICAgICB9KSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gSGlzdG9yeTsKfShDb21wb25lbnQpLCBfdGVtcCkpIHx8IF9jbGFzcykgfHwgX2NsYXNzKSB8fCBfY2xhc3MpOwpleHBvcnQgeyBIaXN0b3J5IGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/front/shared/pages/History/History.tsx"],"names":["React","Component","Fragment","CSSModules","connect","actions","constants","Row","styles","stylesHere","InfiniteScrollTable","FormattedMessage","injectIntl","defineMessages","ContentLoader","FilterForm","InvoicesList","SwapsHistory","filterHistory","items","filter","direction","subTitle","subTitleHistory","id","defaultMessage","isDark","localStorage","getItem","History","activeFiat","user","history","transactions","swapHistory","allowMultiple","props","setState","renderedItems","state","length","Math","min","row","rowIndex","commentsList","target","value","filterValue","newRows","address","includes","toLowerCase","resetFilter","isLoading","setTimeout","loading","createItemsState","match","params","page","comments","getComments","console","log","setTransactions","objCurrency","prop","currency","isBalanceFetched","core","getSwapHistory","prevItems","titles","activeTab","handleFilter","handleFilterChange","loadMore","slice","rowRender","item","step"],"mappings":"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","sourcesContent":["// @ts-nocheck\r\nimport React, { Component, Fragment } from 'react'\r\nimport CSSModules from 'react-css-modules'\r\n\r\nimport { connect } from 'redaction'\r\nimport actions from 'redux/actions'\r\nimport { constants } from 'helpers'\r\n\r\nimport Row from './Row/Row'\r\n\r\nimport config from 'helpers/externalConfig'\r\n\r\nimport styles from 'components/tables/Table/Table.scss'\r\nimport stylesHere from './History.scss'\r\n\r\nimport InfiniteScrollTable from 'components/tables/InfiniteScrollTable/InfiniteScrollTable'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\nimport links from 'helpers/links'\r\nimport ContentLoader from '../../components/loaders/ContentLoader/ContentLoader'\r\nimport { isMobile } from 'react-device-detect'\r\nimport FilterForm from 'components/FilterForm/FilterForm'\r\n\r\nimport InvoicesList from 'pages/Invoices/InvoicesList'\r\nimport SwapsHistory from 'pages/History/SwapsHistory/SwapsHistory'\r\n\r\n\r\n\r\nconst filterHistory = (items, filter) => {\r\n  if (filter === 'sent') {\r\n    return items.filter(({ direction }) => direction === 'out')\r\n  }\r\n\r\n  if (filter === 'received') {\r\n    return items.filter(({ direction }) => direction === 'in')\r\n  }\r\n\r\n  return items\r\n}\r\n\r\nconst subTitle = defineMessages({\r\n  subTitleHistory: {\r\n    id: 'Amount68',\r\n    defaultMessage: 'Transactions',\r\n  },\r\n})\r\nconst isDark = localStorage.getItem(constants.localStorage.isDark)\r\n\r\n@injectIntl\r\n@connect(({\r\n  user: { activeFiat },\r\n  history: {\r\n    transactions,\r\n    filter,\r\n    swapHistory,\r\n  },\r\n}) => ({\r\n  activeFiat,\r\n  items: filterHistory(transactions, filter),\r\n  swapHistory,\r\n}))\r\n@CSSModules(stylesHere, { allowMultiple: true })\r\nexport default class History extends Component<any, any> {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      items,\r\n      match: {\r\n        params: {\r\n          page = null,\r\n        }\r\n      }\r\n    } = props\r\n\r\n    const commentsList = actions.comments.getComments()\r\n    this.state = {\r\n      page,\r\n      items,\r\n      filterValue: \"\",\r\n      isLoading: false,\r\n      renderedItems: 10,\r\n      commentsList: commentsList || null\r\n    }\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    console.log('History mounted')\r\n    // actions.analytics.dataEvent('open-page-history')\r\n    if (this.props.match\r\n      && this.props.match.params\r\n      && this.props.match.params.page === 'invoices'\r\n    ) {\r\n    } else {\r\n      if (this.props.match &&\r\n        this.props.match.params &&\r\n        this.props.match.params.address\r\n      ) {\r\n        // @ToDo - этот роутер не работает - возможно артефакт после перевода ссылок на /(btc|eth)/walletAddress\r\n\r\n        let { match: { params: { address = null } } } = this.props\r\n        //@\r\n        actions.history.setTransactions(address)\r\n      } else {\r\n        const user = this.props.user\r\n        const objCurrency = {}\r\n\r\n        for (let prop in user) {\r\n          if (\r\n            user[prop]\r\n            && typeof user[prop] === 'object'\r\n            && user[prop].currency\r\n          ) {\r\n            objCurrency[user[prop].currency] = {\r\n              isBalanceFetched: user[prop].isBalanceFetched,\r\n            }\r\n          }\r\n        }\r\n\r\n        actions.user.setTransactions(objCurrency)\r\n        actions.core.getSwapHistory()\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    console.log('History unmounted')\r\n  }\r\n\r\n  componentDidUpdate({ items: prevItems }) {\r\n    const { items } = this.props\r\n\r\n    if (items !== prevItems) {\r\n      this.createItemsState(items)\r\n    }\r\n  }\r\n\r\n  createItemsState = (items) => {\r\n    this.setState(() => ({ items }))\r\n  }\r\n\r\n  loadMore = () => {\r\n    const { items } = this.props\r\n    const { renderedItems } = this.state\r\n\r\n    if (renderedItems < items.length) {\r\n      this.setState(state => ({\r\n        renderedItems: state.renderedItems + Math.min(10, items.length - state.renderedItems),\r\n      }))\r\n    }\r\n  }\r\n\r\n  rowRender = (row, rowIndex) => {\r\n    const { activeFiat } = this.props\r\n    const { commentsList } = this.state\r\n\r\n    return (\r\n      <Row activeFiat={activeFiat}\r\n           isDark={isDark} key={rowIndex} hiddenList={commentsList} {...row} />\r\n    )\r\n  }\r\n\r\n  handleFilterChange = ({ target }) => {\r\n    const { value } = target\r\n\r\n    this.setState(() => ({ filterValue: value }))\r\n  }\r\n\r\n  handleFilter = () => {\r\n    const { filterValue, items } = this.state\r\n\r\n    if (filterValue && filterValue.length) {\r\n      const newRows = items.filter(({ address }) => address && address.includes(filterValue.toLowerCase()))\r\n      this.setState(() => ({ items: newRows }))\r\n\r\n    } else {\r\n      this.resetFilter()\r\n    }\r\n  }\r\n\r\n  loading = () => {\r\n    this.setState(() => ({ isLoading: true }))\r\n    setTimeout(() => this.setState(() => ({ isLoading: false })), 1000)\r\n  }\r\n\r\n  resetFilter = () => {\r\n\r\n    this.loading()\r\n    const { items } = this.props\r\n    this.setState(() => ({ filterValue: \"\" }))\r\n\r\n    this.createItemsState(items)\r\n  }\r\n\r\n  render() {\r\n    const { filterValue, items, isLoading } = this.state\r\n    const { swapHistory } = this.props\r\n\r\n    const titles = []\r\n    const activeTab = 0\r\n\r\n    return (\r\n      <Fragment>\r\n      <section styleName={`history ${isDark ? 'dark' : ''}`}>\r\n        <h3 styleName=\"historyHeading\">\r\n          <FormattedMessage id=\"History_Activity_Title\" defaultMessage=\"Activity\" />\r\n        </h3>\r\n        {items ? (\r\n          <div>\r\n            <FilterForm filterValue={filterValue} onSubmit={this.handleFilter} onChange={this.handleFilterChange} resetFilter={this.resetFilter} />\r\n            <div>\r\n              {\r\n                items.length > 0 && !isLoading ? (\r\n                  <InfiniteScrollTable\r\n                    className={styles.history}\r\n                    titles={titles}\r\n                    bottomOffset={400}\r\n                    getMore={this.loadMore}\r\n                    itemsCount={items.length}\r\n                    items={items.slice(0, this.state.renderedItems)}\r\n                    rowRender={this.rowRender}\r\n                  />\r\n                ) : (\r\n                  //@\r\n                  <ContentLoader rideSideContent empty={!isLoading} nonHeader />\r\n                )\r\n              }\r\n            </div>\r\n          </div>\r\n          ) : (\r\n            <div styleName=\"historyLoader\">\r\n              {/*\r\n              //@ */}\r\n              <ContentLoader rideSideContent />\r\n            </div>\r\n          )\r\n        }\r\n      </section>\r\n\r\n      <InvoicesList onlyTable />\r\n\r\n      { swapHistory.length > 0 &&\r\n        <SwapsHistory orders={swapHistory.filter((item) => item.step >= 1)} />\r\n      }\r\n\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n"]}]}