{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\helpers\\feedback.ts","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\helpers\\feedback.ts","mtime":1614842914104},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IGdldFRvcExvY2F0aW9uIGZyb20gJ2hlbHBlcnMvZ2V0VG9wTG9jYXRpb24nOwp2YXIgaXNGZWVkYmFja0VuYWJsZWQgPSB0cnVlOwoKdmFyIHNlbmRNZXNzYWdlID0gZnVuY3Rpb24gc2VuZE1lc3NhZ2UoX3JlZikgewogIHZhciBhcHBQYXJ0ID0gX3JlZi5hcHBQYXJ0LAogICAgICBldmVudE5hbWUgPSBfcmVmLmV2ZW50TmFtZSwKICAgICAgZGV0YWlscyA9IF9yZWYuZGV0YWlsczsKCiAgaWYgKCFpc0ZlZWRiYWNrRW5hYmxlZCkgewogICAgcmV0dXJuOwogIH0KCiAgdmFyIGhvc3QgPSBnZXRUb3BMb2NhdGlvbigpLmhvc3QgfHwgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lIHx8IGRvY3VtZW50LmxvY2F0aW9uLmhvc3Q7CiAgdmFyIHByZWZpeE1hcmsgPSBldmVudE5hbWUgPT09ICdmYWlsZWQnID8gJ/Cfm5EgJyA6ICcnOwogIHZhciB0ZXh0VG9TZW5kID0gIiIuY29uY2F0KHByZWZpeE1hcmssICIgWyIpLmNvbmNhdChob3N0LCAiXSAiKS5jb25jYXQoYXBwUGFydCwgIiAtICIpLmNvbmNhdChldmVudE5hbWUpLmNvbmNhdChkZXRhaWxzID8gIiB7Ii5jb25jYXQoZGV0YWlscywgIn0iKSA6ICIiLCAiIHwiKTsKCiAgaWYgKGhvc3QgJiYgaG9zdC5pbmNsdWRlcygnbG9jYWxob3N0JykpIHsKICAgIGNvbnNvbGUubG9nKCJcdUQ4M0RcdURDRTkgKG11dGVkKSAiLmNvbmNhdCh0ZXh0VG9TZW5kKSk7CiAgICByZXR1cm47CiAgfQoKICBjb25zb2xlLmxvZygiXHVEODNEXHVEQ0U5ICIuY29uY2F0KHRleHRUb1NlbmQpKTsKCiAgdHJ5IHsKICAgIGF4aW9zKHsKICAgICAgdXJsOiAiaHR0cHM6Ly9ub3hvbi53cG1peC5uZXQvY291bnRlci5waHA/bXNnPSIuY29uY2F0KGVuY29kZVVSSSh0ZXh0VG9TZW5kKSwgIiZ0b2RldnM9MSIpLAogICAgICBtZXRob2Q6ICdwb3N0JwogICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZSk7CiAgICB9KTsKICB9IGNhdGNoIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgfQp9OwoKdmFyIGV2ZW50cyA9IHsKICBhcHA6IHsKICAgIHN0YXJ0ZWQ6ICdzdGFydGVkJywKICAgIG90aGVyVGFic0Nsb3NlZDogJ290aGVyVGFic0Nsb3NlZCcsCiAgICAvL2Nsb3NlZDogJ2Nsb3NlZCcsCiAgICBmYWlsZWQ6ICdmYWlsZWQnCiAgfSwKICBjcmVhdGVXYWxsZXQ6IHsKICAgIC8vc3RhcnRlZDogJ3N0YXJ0ZWQnLAogICAgY3VycmVuY3lTZWxlY3RlZDogJ2N1cnJlbmN5U2VsZWN0ZWQnLAogICAgc2VjdXJpdHlTZWxlY3RlZDogJ3NlY3VyaXR5U2VsZWN0ZWQnLAogICAgZmluaXNoZWQ6ICdmaW5pc2hlZCcKICB9LAogIHdhbGxldDogewogICAgY2xpY2tlZEJhbm5lcjogJ2NsaWNrZWRCYW5uZXInLAogICAgcHJlc3NlZEFkZEN1cnJlbmN5OiAncHJlc3NlZEFkZEN1cnJlbmN5JwogIH0sCiAgY3JlYXRlSW52b2ljZTogewogICAgZmFpbGVkOiAnZmFpbGVkJwogIH0sCiAgZmFxOiB7CiAgICBvcGVuZWQ6ICdvcGVuZWQnLAogICAgZmFpbGVkOiAnZmFpbGVkJwogIH0sCiAgYmFja3VwOiB7CiAgICBzdGFydGVkOiAnc3RhcnRlZCcsCiAgICBmaW5pc2hlZDogJ2ZpbmlzaGVkJwogIH0sCiAgcmVzdG9yZTogewogICAgc3RhcnRlZDogJ3N0YXJ0ZWQnLAogICAgZmluaXNoZWQ6ICdmaW5pc2hlZCcKICB9LAogIHdpdGhkcmF3OiB7CiAgICBlbnRlcmVkOiAnZW50ZXJlZCcsCiAgICBzdGFydGVkOiAnc3RhcnRlZCcsCiAgICBmaW5pc2hlZDogJ2ZpbmlzaGVkJywKICAgIGZhaWxlZDogJ2ZhaWxlZCcKICB9LAogIGV4Y2hhbmdlRm9ybTogewogICAgZmxpcHBlZDogJ2ZsaXBwZWQnLAogICAgc2VsZWN0ZWRBZGRyZXNzOiAnc2VsZWN0ZWRBZGRyZXNzJywKICAgIHJlZGlyZWN0ZWRDcmVhdGVXYWxsZXQ6ICdyZWRpcmVjdGVkQ3JlYXRlV2FsbGV0JywKICAgIHJlcXVlc3RlZFN3YXA6ICdyZXF1ZXN0ZWRTd2FwJwogIH0sCiAgY3JlYXRlT2ZmZXI6IHsKICAgIHN0YXJ0ZWQ6ICdzdGFydGVkJywKICAgIGZpbmlzaGVkOiAnZmluaXNoZWQnCiAgfSwKICBvZmZlcnM6IHsKICAgIC8vc2hhcmVkOiAnc2hhcmVkJywKICAgIGRlbGV0ZWQ6ICdkZWxldGVkJywKICAgIGJ1eVByZXNzZWQ6ICdidXlQcmVzc2VkJywKICAgIHN3YXBSZXF1ZXN0ZWQ6ICdzd2FwUmVxdWVzdGVkJwogIH0sCiAgc3dhcDogewogICAgc3RhcnRlZDogJ3N0YXJ0ZWQnLAogICAgc3RvcHBlZDogJ3N0b3BwZWQnLAogICAgZmluaXNoZWQ6ICdmaW5pc2hlZCcKICB9LAogIHRoZW1lOiB7CiAgICBzd2l0Y2hlZDogJ3N3aXRjaGVkJwogIH0sCiAgaTE4bjogewogICAgc3dpdGNoZWQ6ICdzd2l0Y2hlZCcKICB9Cn07CnZhciBmZWVkYmFjayA9IHt9OwpPYmplY3Qua2V5cyhldmVudHMpLmZvckVhY2goZnVuY3Rpb24gKGFwcFBhcnQpIHsKICBpZiAoIWZlZWRiYWNrW2FwcFBhcnRdKSB7CiAgICBmZWVkYmFja1thcHBQYXJ0XSA9IHt9OwogIH0KCiAgdmFyIGFwcFBhcnRFdmVudHMgPSBldmVudHNbYXBwUGFydF07CiAgT2JqZWN0LmtleXMoYXBwUGFydEV2ZW50cykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7CiAgICBmZWVkYmFja1thcHBQYXJ0XVtldmVudE5hbWVdID0gZnVuY3Rpb24gKGRldGFpbHMpIHsKICAgICAgc2VuZE1lc3NhZ2UoewogICAgICAgIGFwcFBhcnQ6IGFwcFBhcnQsCiAgICAgICAgZXZlbnROYW1lOiBldmVudE5hbWUsCiAgICAgICAgZGV0YWlsczogZGV0YWlscwogICAgICB9KTsKICAgIH07CiAgfSk7Cn0pOwpleHBvcnQgZGVmYXVsdCBmZWVkYmFjazs="},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/front/shared/helpers/feedback.ts"],"names":["axios","getTopLocation","isFeedbackEnabled","sendMessage","appPart","eventName","details","host","window","location","hostname","document","prefixMark","textToSend","includes","console","log","url","encodeURI","method","e","error","events","app","started","otherTabsClosed","failed","createWallet","currencySelected","securitySelected","finished","wallet","clickedBanner","pressedAddCurrency","createInvoice","faq","opened","backup","restore","withdraw","entered","exchangeForm","flipped","selectedAddress","redirectedCreateWallet","requestedSwap","createOffer","offers","deleted","buyPressed","swapRequested","swap","stopped","theme","switched","i18n","feedback","Object","keys","forEach","appPartEvents"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport getTopLocation from 'helpers/getTopLocation'\r\n\r\n\r\nconst isFeedbackEnabled = true\r\n\r\n\r\nconst sendMessage = ({ appPart, eventName, details }) => {\r\n  if (!isFeedbackEnabled) {\r\n    return\r\n  }\r\n\r\n  const host = getTopLocation().host || window.location.hostname || document.location.host\r\n\r\n  const prefixMark = eventName === 'failed' ? 'ðŸ›‘ ' : ''\r\n  const textToSend = `${prefixMark} [${host}] ${appPart} - ${eventName}${details ? ` {${details}}` : ``} |`\r\n\r\n  if (host && host.includes('localhost')) {\r\n    console.log(`ðŸ“© (muted) ${textToSend}`)\r\n    return\r\n  }\r\n\r\n  console.log(`ðŸ“© ${textToSend}`)\r\n\r\n  try {\r\n    axios({\r\n      url: `https://noxon.wpmix.net/counter.php?msg=${encodeURI(textToSend)}&todevs=1`,\r\n      method: 'post',\r\n    }).catch(e => console.error(e))\r\n  } catch (error) {\r\n    console.error(error)\r\n  }\r\n}\r\n\r\nconst events = {\r\n  app: {\r\n    started: 'started',\r\n    otherTabsClosed: 'otherTabsClosed',\r\n    //closed: 'closed',\r\n    failed: 'failed',\r\n  },\r\n  createWallet: {\r\n    //started: 'started',\r\n    currencySelected: 'currencySelected',\r\n    securitySelected: 'securitySelected',\r\n    finished: 'finished',\r\n  },\r\n  wallet: {\r\n    clickedBanner: 'clickedBanner',\r\n    pressedAddCurrency: 'pressedAddCurrency',\r\n  },\r\n  createInvoice: {\r\n    failed: 'failed',\r\n  },\r\n  faq: {\r\n    opened: 'opened',\r\n    failed: 'failed',\r\n  },\r\n  backup: {\r\n    started: 'started',\r\n    finished: 'finished',\r\n  },\r\n  restore: {\r\n    started: 'started',\r\n    finished: 'finished',\r\n  },\r\n  withdraw: {\r\n    entered: 'entered',\r\n    started: 'started',\r\n    finished: 'finished',\r\n    failed: 'failed',\r\n  },\r\n  exchangeForm: {\r\n    flipped: 'flipped',\r\n    selectedAddress: 'selectedAddress',\r\n    redirectedCreateWallet: 'redirectedCreateWallet',\r\n    requestedSwap: 'requestedSwap',\r\n  },\r\n  createOffer: {\r\n    started: 'started',\r\n    finished: 'finished',\r\n  },\r\n  offers: {\r\n    //shared: 'shared',\r\n    deleted: 'deleted',\r\n    buyPressed: 'buyPressed',\r\n    swapRequested: 'swapRequested',\r\n  },\r\n  swap: {\r\n    started: 'started',\r\n    stopped: 'stopped',\r\n    finished: 'finished',\r\n  },\r\n  theme: {\r\n    switched: 'switched',\r\n  },\r\n  i18n: {\r\n    switched: 'switched',\r\n  },\r\n}\r\n\r\ninterface IFeedback {\r\n  [key: string]: {\r\n    [key: string]: (object?) => void\r\n  }\r\n}\r\n\r\nconst feedback: IFeedback = {}\r\n\r\nObject.keys(events).forEach(appPart => {\r\n  if (!feedback[appPart]) {\r\n    feedback[appPart] = {}\r\n  }\r\n  const appPartEvents = events[appPart]\r\n  Object.keys(appPartEvents).forEach(eventName => {\r\n    feedback[appPart][eventName] = function (details) {\r\n      sendMessage({ appPart, eventName, details })\r\n    }\r\n  })\r\n})\r\n\r\nexport default feedback\r\n"]}]}