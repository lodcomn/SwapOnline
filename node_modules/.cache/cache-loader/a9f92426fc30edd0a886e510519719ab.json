{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\redux\\actions\\feed.ts","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\redux\\actions\\feed.ts","mtime":1614842914287},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlZHVjZXJzIGZyb20gJ3JlZHV4L2NvcmUvcmVkdWNlcnMnOwppbXBvcnQgeyBnZXRTdGF0ZSB9IGZyb20gJ3JlZHV4L2NvcmUnOwoKdmFyIGFkZEl0ZW1Ub0ZlZWQgPSBmdW5jdGlvbiBhZGRJdGVtVG9GZWVkKGZlZWRzKSB7CiAgdmFyIGZpbHRlcmVkRmVlZHMgPSBmZWVkcy5maWx0ZXIoZnVuY3Rpb24gKGYpIHsKICAgIHJldHVybiBmLnJlcXVlc3QubGVuZ3RoICE9PSAwOwogIH0pOwogIHJlZHVjZXJzLmZlZWRzLmFkZEl0ZW1zKGZpbHRlcmVkRmVlZHMpOwp9OwoKdmFyIGRlbGV0ZUl0ZW1Ub0ZlZWQgPSBmdW5jdGlvbiBkZWxldGVJdGVtVG9GZWVkKG9yZGVySWQpIHsKICB2YXIgX2dldFN0YXRlID0gZ2V0U3RhdGUoKSwKICAgICAgZmVlZHMgPSBfZ2V0U3RhdGUuZmVlZHM7CgogIHZhciBmaWx0ZXJlZEZlZWRzID0gT2JqZWN0LmtleXMoZmVlZHMpLm1hcChmdW5jdGlvbiAoaykgewogICAgcmV0dXJuIGZlZWRzW2tdOwogIH0pLmZpbHRlcihmdW5jdGlvbiAoZikgewogICAgcmV0dXJuIGYuaWQgPT09IG9yZGVySWQ7CiAgfSk7CiAgcmVkdWNlcnMuZmVlZHMuZGVsZXRlSXRlbXMoZmlsdGVyZWRGZWVkcyk7Cn07Cgp2YXIgZ2V0RmVlZERhdGFGcm9tT3JkZXIgPSBmdW5jdGlvbiBnZXRGZWVkRGF0YUZyb21PcmRlcihvcmRlcnMpIHsKICB2YXIgZmVlZHMgPSBvcmRlcnMubWFwKGZ1bmN0aW9uIChvcmRlcikgewogICAgcmV0dXJuIHsKICAgICAgcGVlcjogb3JkZXIub3duZXIucGVlciwKICAgICAgaWQ6IG9yZGVyLmlkLAogICAgICBpc1R1cmJvOiBvcmRlci5pc1R1cmJvLAogICAgICBjb250ZW50OiB7CiAgICAgICAgc2VsbEN1cnJlbmN5OiBvcmRlci5zZWxsQ3VycmVuY3ksCiAgICAgICAgYnV5Q3VycmVuY3k6IG9yZGVyLmJ1eUN1cnJlbmN5LAogICAgICAgIHNlbGxBbW91bnQ6IG9yZGVyLnNlbGxBbW91bnQsCiAgICAgICAgYnV5QW1vdW50OiBvcmRlci5idXlBbW91bnQKICAgICAgfSwKICAgICAgcmVxdWVzdDogb3JkZXIucmVxdWVzdHMKICAgIH07CiAgfSk7CiAgYWRkSXRlbVRvRmVlZChmZWVkcyk7Cn07CgpleHBvcnQgZGVmYXVsdCB7CiAgZ2V0RmVlZERhdGFGcm9tT3JkZXI6IGdldEZlZWREYXRhRnJvbU9yZGVyLAogIGRlbGV0ZUl0ZW1Ub0ZlZWQ6IGRlbGV0ZUl0ZW1Ub0ZlZWQKfTs="},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/front/shared/redux/actions/feed.ts"],"names":["reducers","getState","addItemToFeed","feeds","filteredFeeds","filter","f","request","length","addItems","deleteItemToFeed","orderId","Object","keys","map","k","id","deleteItems","getFeedDataFromOrder","orders","order","peer","owner","isTurbo","content","sellCurrency","buyCurrency","sellAmount","buyAmount","requests"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,qBAArB;AACA,SAASC,QAAT,QAAyB,YAAzB;;AAGA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAW;AAC/B,MAAMC,aAAa,GAAGD,KAAK,CAACE,MAAN,CAAa,UAAAC,CAAC;AAAA,WAAIA,CAAC,CAACC,OAAF,CAAUC,MAAV,KAAqB,CAAzB;AAAA,GAAd,CAAtB;AACAR,EAAAA,QAAQ,CAACG,KAAT,CAAeM,QAAf,CAAwBL,aAAxB;AACD,CAHD;;AAKA,IAAMM,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,OAAD,EAAa;AAAA,kBAClBV,QAAQ,EADU;AAAA,MAC5BE,KAD4B,aAC5BA,KAD4B;;AAGpC,MAAMC,aAAa,GAAGQ,MAAM,CAACC,IAAP,CAAYV,KAAZ,EACnBW,GADmB,CACf,UAAAC,CAAC;AAAA,WAAIZ,KAAK,CAACY,CAAD,CAAT;AAAA,GADc,EAEnBV,MAFmB,CAEZ,UAAAC,CAAC;AAAA,WAAIA,CAAC,CAACU,EAAF,KAASL,OAAb;AAAA,GAFW,CAAtB;AAIAX,EAAAA,QAAQ,CAACG,KAAT,CAAec,WAAf,CAA2Bb,aAA3B;AACD,CARD;;AAUA,IAAMc,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,MAAD,EAAY;AACvC,MAAMhB,KAAK,GAAGgB,MAAM,CAACL,GAAP,CAAW,UAAAM,KAAK;AAAA,WAAK;AACjCC,MAAAA,IAAI,EAAED,KAAK,CAACE,KAAN,CAAYD,IADe;AAEjCL,MAAAA,EAAE,EAAEI,KAAK,CAACJ,EAFuB;AAGjCO,MAAAA,OAAO,EAAEH,KAAK,CAACG,OAHkB;AAIjCC,MAAAA,OAAO,EAAC;AACNC,QAAAA,YAAY,EAAEL,KAAK,CAACK,YADd;AAENC,QAAAA,WAAW,EAAEN,KAAK,CAACM,WAFb;AAGNC,QAAAA,UAAU,EAAEP,KAAK,CAACO,UAHZ;AAINC,QAAAA,SAAS,EAAER,KAAK,CAACQ;AAJX,OAJyB;AAUjCrB,MAAAA,OAAO,EAAEa,KAAK,CAACS;AAVkB,KAAL;AAAA,GAAhB,CAAd;AAaA3B,EAAAA,aAAa,CAACC,KAAD,CAAb;AACD,CAfD;;AAkBA,eAAe;AACbe,EAAAA,oBAAoB,EAApBA,oBADa;AAEbR,EAAAA,gBAAgB,EAAhBA;AAFa,CAAf","sourcesContent":["import reducers from 'redux/core/reducers'\r\nimport { getState } from 'redux/core'\r\n\r\n\r\nconst addItemToFeed = (feeds) => {\r\n  const filteredFeeds = feeds.filter(f => f.request.length !== 0)\r\n  reducers.feeds.addItems(filteredFeeds)\r\n}\r\n\r\nconst deleteItemToFeed = (orderId) => {\r\n  const { feeds } = getState()\r\n\r\n  const filteredFeeds = Object.keys(feeds)\r\n    .map(k => feeds[k])\r\n    .filter(f => f.id === orderId)\r\n\r\n  reducers.feeds.deleteItems(filteredFeeds)\r\n}\r\n\r\nconst getFeedDataFromOrder = (orders) => {\r\n  const feeds = orders.map(order => ({\r\n    peer: order.owner.peer,\r\n    id: order.id,\r\n    isTurbo: order.isTurbo,\r\n    content:{\r\n      sellCurrency: order.sellCurrency,\r\n      buyCurrency: order.buyCurrency,\r\n      sellAmount: order.sellAmount,\r\n      buyAmount: order.buyAmount,\r\n    },\r\n    request: order.requests,\r\n  }))\r\n\r\n  addItemToFeed(feeds)\r\n}\r\n\r\n\r\nexport default {\r\n  getFeedDataFromOrder,\r\n  deleteItemToFeed,\r\n}\r\n"]}]}