{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\components\\controls\\ShareLink\\ShareLink.tsx","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\components\\controls\\ShareLink\\ShareLink.tsx","mtime":1614842913932},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5IjsKCnZhciBfZGVjLCBfY2xhc3MsIF90ZW1wOwoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KCmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CgppbXBvcnQgUmVhY3QgZnJvbSAicmVhY3QiOwppbXBvcnQgc3R5bGVzIGZyb20gIi4vU2hhcmVMaW5rLnNjc3MiOwppbXBvcnQgQ1NTTW9kdWxlcyBmcm9tICdyZWFjdC1jc3MtbW9kdWxlcyc7CmltcG9ydCBCdXR0b24gZnJvbSAnY29tcG9uZW50cy9jb250cm9scy9CdXR0b24vQnV0dG9uJzsKaW1wb3J0IENvcHlUb0NsaXBib2FyZCBmcm9tICdyZWFjdC1jb3B5LXRvLWNsaXBib2FyZCc7CmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICdyZWFjdC1pbnRsJzsKaW1wb3J0IFNoYXJlQnV0dG9uIGZyb20gJ2NvbXBvbmVudHMvY29udHJvbHMvU2hhcmVCdXR0b24vU2hhcmVCdXR0b24nOwppbXBvcnQgSW5saW5lTG9hZGVyIGZyb20gJ2NvbXBvbmVudHMvbG9hZGVycy9JbmxpbmVMb2FkZXIvSW5saW5lTG9hZGVyJzsKdmFyIFNoYXJlTGluayA9IChfZGVjID0gQ1NTTW9kdWxlcyhzdHlsZXMsIHsKICBhbGxvd011bHRpcGxlOiB0cnVlCn0pLCBfZGVjKF9jbGFzcyA9IChfdGVtcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkgewogIF9pbmhlcml0cyhTaGFyZUxpbmssIF9SZWFjdCRDb21wb25lbnQpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFNoYXJlTGluayk7CgogIGZ1bmN0aW9uIFNoYXJlTGluayhwcm9wcykgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTaGFyZUxpbmspOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInByb3BzIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJxckxvYWRlclRpbWVyIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiaGFuZGxlQ29weUxpbmsiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICBpc0xpbmtDb3BpZWQ6IHRydWUKICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgICBpc0xpbmtDb3BpZWQ6IGZhbHNlCiAgICAgICAgICB9KTsKICAgICAgICB9LCAxMDAwKTsKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJoYW5kbGVRckxvYWRlZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIHFyTG9hZGVkOiB0cnVlCiAgICAgIH0pOwogICAgfSk7CgogICAgY29uc29sZS5sb2coJ1NoYXJlTGluaycsIHByb3BzKTsKICAgIF90aGlzLnN0YXRlID0gewogICAgICBpc0xpbmtDb3BpZWQ6IGZhbHNlLAogICAgICBxckxvYWRlZDogZmFsc2UKICAgIH07CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoU2hhcmVMaW5rLCBbewogICAga2V5OiAiY29tcG9uZW50RGlkTW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMucXJMb2FkZXJUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7CiAgICAgICAgICBxckxvYWRlZDogdHJ1ZQogICAgICAgIH0pOwogICAgICB9LCA1MDAwKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wb25lbnRXaWxsVW5tb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnFyTG9hZGVyVGltZXIpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLAogICAgICAgICAgbGluayA9IF90aGlzJHByb3BzLmxpbmssCiAgICAgICAgICBzaXplID0gX3RoaXMkcHJvcHMuc2l6ZSwKICAgICAgICAgIGFsdFRleHQgPSBfdGhpcyRwcm9wcy5hbHRUZXh0OwogICAgICB2YXIgZnVsbFNpemUgPSB0aGlzLnByb3BzLmZ1bGxTaXplOwogICAgICB2YXIgX3RoaXMkc3RhdGUgPSB0aGlzLnN0YXRlLAogICAgICAgICAgaXNMaW5rQ29waWVkID0gX3RoaXMkc3RhdGUuaXNMaW5rQ29waWVkLAogICAgICAgICAgcXJMb2FkZWQgPSBfdGhpcyRzdGF0ZS5xckxvYWRlZDsKICAgICAgaWYgKCFzaXplKSBzaXplID0gMjUwOwogICAgICBpZiAoIWFsdFRleHQpIGFsdFRleHQgPSAiIjsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAic2hhcmVMaW5rSG9sZGVyIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb3B5VG9DbGlwYm9hcmQsIHsKICAgICAgICB0ZXh0OiBsaW5rLAogICAgICAgIG9uQ29weTogdGhpcy5oYW5kbGVDb3B5TGluawogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIHN0eWxlTmFtZTogImxpbmtIb2xkZXIiLAogICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ29weUxpbmsKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJIb2xkZXJRUkNvZGUgIi5jb25jYXQocXJMb2FkZWQgPyAncXJMb2FkZWQnIDogJycpCiAgICAgIH0sICFxckxvYWRlZCAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIHN0eWxlTmFtZTogImxvYWRlciIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSW5saW5lTG9hZGVyLCBudWxsKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJpbWciLCB7CiAgICAgICAgb25DbGljazogdGhpcy5oYW5kbGVDb3B5TGluaywKICAgICAgICBzcmM6ICJodHRwczovL2NoYXJ0Lmdvb2dsZWFwaXMuY29tL2NoYXJ0P2Nocz0iLmNvbmNhdChzaXplLCAieCIpLmNvbmNhdChzaXplLCAiJmNodD1xciZjaGw9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChsaW5rKSksCiAgICAgICAgYWx0OiAiIi5jb25jYXQoYWx0VGV4dCksCiAgICAgICAgb25Mb2FkOiB0aGlzLmhhbmRsZVFyTG9hZGVkCiAgICAgIH0pKSwgZnVsbFNpemUgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAic2hhcmVMaW5rVGV4dGFyZWEiLAogICAgICAgIHZhbHVlOiBsaW5rLAogICAgICAgIHJlYWRPbmx5OiB0cnVlCiAgICAgIH0sIGxpbmspIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJIb2xkZXJMaW5rU2hvcnRlciIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCBsaW5rKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCBsaW5rKSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJCdXR0b25zSG9sZGVyIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb3B5VG9DbGlwYm9hcmQsIHsKICAgICAgICB0ZXh0OiBsaW5rLAogICAgICAgIG9uQ29weTogdGhpcy5oYW5kbGVDb3B5TGluawogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsKICAgICAgICBibHVlOiB0cnVlLAogICAgICAgIGZ1bGxXaWR0aDogdHJ1ZSwKICAgICAgICBkaXNhYmxlZDogaXNMaW5rQ29waWVkLAogICAgICAgIHN0eWxlTmFtZTogIkNvcHlMaW5rQnV0dG9uIgogICAgICB9LCBpc0xpbmtDb3BpZWQgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJDb250cm9sU2hhcmVMaW5rX0xpbmtDb3BpZWQiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiTGluayBjb3BpZWQiCiAgICAgIH0pIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAiQ29udHJvbFNoYXJlTGlua19Db3B5TGluayIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJDb3B5IGxpbmsiCiAgICAgIH0pKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAiU2hhcmVCdXR0b25Ib2xkZXIiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFNoYXJlQnV0dG9uLCB7CiAgICAgICAgbGluazogbGluaywKICAgICAgICB0aXRsZTogIiIKICAgICAgfSkpKSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU2hhcmVMaW5rOwp9KFJlYWN0LkNvbXBvbmVudCksIF90ZW1wKSkgfHwgX2NsYXNzKTsKZXhwb3J0IHsgU2hhcmVMaW5rIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/front/shared/components/controls/ShareLink/ShareLink.tsx"],"names":["React","styles","CSSModules","Button","CopyToClipboard","FormattedMessage","ShareButton","InlineLoader","ShareLink","allowMultiple","props","setState","isLinkCopied","setTimeout","qrLoaded","console","log","state","qrLoaderTimer","clearTimeout","link","size","altText","fullSize","handleCopyLink","encodeURIComponent","handleQrLoaded","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport styles from \"./ShareLink.scss\";\r\nimport actions from \"redux/actions\";\r\nimport CSSModules from 'react-css-modules'\r\nimport { constants } from \"helpers\";\r\nimport Button from 'components/controls/Button/Button'\r\nimport CopyToClipboard from 'react-copy-to-clipboard'\r\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\r\nimport ShareButton from 'components/controls/ShareButton/ShareButton'\r\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\r\n\r\n\r\n@CSSModules(styles, { allowMultiple: true })\r\nexport default class ShareLink extends React.Component<any, any> {\r\n\r\n  props: any\r\n\r\n  qrLoaderTimer = null\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    console.log('ShareLink', props)\r\n    this.state = {\r\n      isLinkCopied: false,\r\n      qrLoaded: false,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.qrLoaderTimer = setTimeout(() => {\r\n      this.setState({\r\n        qrLoaded: true,\r\n      })\r\n    }, 5000)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(this.qrLoaderTimer)\r\n  }\r\n\r\n  handleCopyLink = () => {\r\n    this.setState({\r\n      isLinkCopied: true,\r\n    }, () => {\r\n      setTimeout(() => {\r\n        this.setState({\r\n          isLinkCopied: false,\r\n        })\r\n      }, 1000)\r\n    })\r\n  }\r\n\r\n  handleQrLoaded = () => {\r\n    this.setState({\r\n      qrLoaded: true,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    let {\r\n      link,\r\n      size,\r\n      altText,\r\n    } = this.props\r\n\r\n    const {\r\n      fullSize,\r\n    } = this.props\r\n\r\n    const {\r\n      isLinkCopied,\r\n      qrLoaded,\r\n    } = this.state\r\n\r\n    if (!size) size = 250\r\n    if (!altText) altText = ``;\r\n\r\n    return (\r\n      <div styleName=\"shareLinkHolder\">\r\n        <CopyToClipboard\r\n          text={link}\r\n          onCopy={this.handleCopyLink}\r\n        >\r\n          <div styleName=\"linkHolder\" onClick={this.handleCopyLink}>\r\n            <div styleName={`HolderQRCode ${(qrLoaded) ? 'qrLoaded' : ''}`}>\r\n              {!qrLoaded && (\r\n                <div styleName=\"loader\">\r\n                  <InlineLoader />\r\n                </div>\r\n              )}\r\n              <img onClick={this.handleCopyLink}\r\n                src={`https://chart.googleapis.com/chart?chs=${size}x${size}&cht=qr&chl=${encodeURIComponent(link)}`}\r\n                alt={`${altText}`}\r\n                onLoad={this.handleQrLoaded}\r\n              />\r\n            </div>\r\n            {(fullSize) ? (\r\n              <textarea styleName=\"shareLinkTextarea\" value={link} readOnly>{link}</textarea>\r\n            ) : (\r\n              <div styleName=\"HolderLinkShorter\">\r\n                <span>{link}</span>\r\n                <span>{link}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </CopyToClipboard>\r\n        <div styleName=\"ButtonsHolder\">\r\n          <CopyToClipboard text={link} onCopy={this.handleCopyLink}>\r\n            <Button blue fullWidth disabled={isLinkCopied} styleName=\"CopyLinkButton\">\r\n              {isLinkCopied ?\r\n                <FormattedMessage id=\"ControlShareLink_LinkCopied\" defaultMessage=\"Link copied\" /> :\r\n                <FormattedMessage id=\"ControlShareLink_CopyLink\" defaultMessage=\"Copy link\" />\r\n              }\r\n            </Button>\r\n          </CopyToClipboard>\r\n          <div styleName=\"ShareButtonHolder\">\r\n            <ShareButton link={link} title={``}></ShareButton>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\n"]}]}