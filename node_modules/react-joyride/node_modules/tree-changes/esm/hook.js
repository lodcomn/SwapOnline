import { useEffect, useRef } from 'react';
import * as equal from 'fast-deep-equal';
import treeChanges from './index';
export default function useTreeChanges(value) {
    var previousValue = useRef(value);
    var isEqual = equal(previousValue.current, value);
    var previousIsEqual = useRef(isEqual);
    var instance = useRef(treeChanges(previousValue.current, value));
    useEffect(function () {
        previousValue.current = value;
    });
    if (previousIsEqual.current !== isEqual || !isEqual) {
        previousIsEqual.current = isEqual;
        instance.current = treeChanges(previousValue.current, value);
    }
    return instance.current;
}
//# sourceMappingURL=hook.js.map